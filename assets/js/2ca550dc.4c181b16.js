"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[5732],{31067:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"mlops/mlops/network/cilium/arp","title":"Cilium\uc5d0\uc11c ARP/NDP \uc0ac\uc6a9\ud558\uae30","description":"Cilium\uc5d0\uc11c Address Resolution Protocol(ARP)\uc640 Neighbor Discovery Protocol(NDP) \uc0ac\uc6a9\ud558\uae30","source":"@site/docs/mlops/mlops/network/cilium/arp.mdx","sourceDirName":"mlops/mlops/network/cilium","slug":"/mlops/mlops/network/cilium/arp","permalink":"/docs/mlops/mlops/network/cilium/arp","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/mlops/network/cilium/arp.mdx","tags":[],"version":"current","lastUpdatedAt":1734021015000,"frontMatter":{"id":"arp","title":"Cilium\uc5d0\uc11c ARP/NDP \uc0ac\uc6a9\ud558\uae30","sidebar_label":"ARP/NDP","description":"Cilium\uc5d0\uc11c Address Resolution Protocol(ARP)\uc640 Neighbor Discovery Protocol(NDP) \uc0ac\uc6a9\ud558\uae30","keywords":["cilium","arp","ndp","loadbalancer"]},"sidebar":"mlops","previous":{"title":"Cilium","permalink":"/docs/mlops/mlops/network/cilium/"},"next":{"title":"BGP","permalink":"/docs/mlops/mlops/network/cilium/bgp"}}');var o=i(74848),s=i(28453);const t={id:"arp",title:"Cilium\uc5d0\uc11c ARP/NDP \uc0ac\uc6a9\ud558\uae30",sidebar_label:"ARP/NDP",description:"Cilium\uc5d0\uc11c Address Resolution Protocol(ARP)\uc640 Neighbor Discovery Protocol(NDP) \uc0ac\uc6a9\ud558\uae30",keywords:["cilium","arp","ndp","loadbalancer"]},r=void 0,c={},a=[{value:"L2 Announcements \uc124\uc815",id:"l2-announcements-\uc124\uc815",level:2},{value:"\ub9ac\ub354 \uc120\ucd9c",id:"\ub9ac\ub354-\uc120\ucd9c",level:3},{value:"CiliumL2AnnouncementPolicy",id:"ciliuml2announcementpolicy",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"l2-announcements-\uc124\uc815",children:"L2 Announcements \uc124\uc815"}),"\n",(0,o.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.cilium.io/en/stable/network/l2-announcements/",children:"Cilium / L2 Announcements(L2 Aware LB) (Beta)"})}),"\n"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title="cilium-values.yaml"',children:'l2announcements:\n  enabled: true\n\n# externalIPs:\n#   enabled: true\n\nkubeProxyReplacement: "true"\nk8sServiceHost: "auto"\nk8sServicePort: "auto"\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"1.16.4 \ubc84\uc804 \uae30\uc900\uc73c\ub85c IPv6/NDP\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.li,{children:"\ud558\ub098\uc758 Node\uac00 \ubaa8\ub4e0 ARP \uc694\uccad\uc744 \uc218\uc2e0\ud569\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.li,{children:"\ud2b8\ub798\ud53d\uc774 \ube44\ub300\uce6d\uc801\uc73c\ub85c \ud750\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"service.spec.externalTrafficPolicy: Local"}),"\uc640 \ud568\uaed8 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\ub9ac\ub354-\uc120\ucd9c",children:"\ub9ac\ub354 \uc120\ucd9c"}),"\n",(0,o.jsxs)(n.p,{children:["ARP/NDP \uc791\ub3d9 \ubc29\uc2dd \uc0c1 IP\ub2f9 \ud558\ub098\uc758 MAC \uc8fc\uc18c\ub9cc \uc800\uc7a5\ud558\ubbc0\ub85c \ud2b8\ub798\ud53d\uc744 \ubc1b\uae30\uc704\ud55c \ub9ac\ub354\ub97c \uc120\ucd9c\ud574\uc57c\ud569\ub2c8\ub2e4. Cilium\uc740 \uc774\ub97c \uc704\ud574 Kubernetes\uc758 ",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/architecture/leases/",children:"Lease"})," \uba54\ucee4\ub2c8\uc998\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title="cilium-values.yaml"',children:"k8sClientRateLimit:\n  qps: 5\n  burst: 10\n\nl2announcements:\n  leaseDuration: 15s\n  leaseRenewDeadline: 5s\n  leaseRetryPeriod: 2s\n"})}),"\n",(0,o.jsx)(n.h2,{id:"ciliuml2announcementpolicy",children:"CiliumL2AnnouncementPolicy"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'apiVersion: "cilium.io/v2alpha1"\nkind: CiliumL2AnnouncementPolicy\nmetadata:\n  name: <name>\nspec:\n  # externalIPs \ub610\ub294 loadBalancerIPs \ub458 \uc911 \ud558\ub098\ub294 true\uc5ec\uc57c \ud569\ub2c8\ub2e4.\n  # externalIPs: true\n  loadBalancerIPs: true\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"serviceSelector"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"nodeSelector"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"interfaces"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var l=i(96540);const o={},s=l.createContext(o);function t(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);