"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[68667],{28453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>d});var i=l(96540);const c={},s=i.createContext(c);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},46380:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"lang/cpp/libraries/ucx/ucx","title":"UCX","description":"UCX","source":"@site/docs/lang/cpp/libraries/ucx/ucx.mdx","sourceDirName":"lang/cpp/libraries/ucx","slug":"/lang/cpp/libraries/ucx/","permalink":"/docs/lang/cpp/libraries/ucx/","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/cpp/libraries/ucx/ucx.mdx","tags":[],"version":"current","lastUpdatedAt":1762182777000,"frontMatter":{"id":"ucx","title":"UCX","sidebar_label":"UCX","description":"UCX","keywords":["ucx"]},"sidebar":"cpp","previous":{"title":"gRPC","permalink":"/docs/lang/cpp/libraries/grpc/"},"next":{"title":"OpenMPI","permalink":"/docs/lang/cpp/libraries/openmpi/"}}');var c=l(74848),s=l(28453),r=l(98180);const d={id:"ucx",title:"UCX",sidebar_label:"UCX",description:"UCX",keywords:["ucx"]},t=void 0,o={},h=[{value:"Architecture",id:"architecture",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"\uc124\uc815",id:"\uc124\uc815",level:2}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,c.jsx)("center",{children:(0,c.jsxs)("figure",{children:[(0,c.jsx)("img",{src:(0,r.Ay)("img/lang/design/protocol-spec/ucx/ucx-architecture.jpg")}),(0,c.jsx)("figcaption",{children:"UCX Architecture"})]})}),"\n",(0,c.jsx)(n.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,c.jsx)(n.admonition,{title:"References",type:"info",children:(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://openucx.readthedocs.io/en/master/running.html#",children:"OpenUCX / Running"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://github.com/openucx/ucx/releases",children:"UCX GitHub / Releases"})}),"\n"]})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"wget https://github.com/openucx/ucx/releases/download/v1.18.0/ucx-1.18.0.tar.gz\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"tar -xzf ucx-1.18.0.tar.gz\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"cd ucx-1.18.0\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"mkdir build && cd build \\\n&& ../contrib/configure-release --prefix=/usr \\\n    <flags>\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"--with-knem=<knemInstallPrefix>"})}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"--enable-optimizations"}),": \ube44\uc774\uc2dd\uc131 \uba38\uc2e0\ubcc4 CPU \ucd5c\uc801\ud654\ub97c \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"--enable-mt"}),": multithreading\ub97c \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"--enable-cma"}),": Cross Memory Attach\ub97c \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"--with-dm"}),": Device Memory\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"--with-mlx5"}),": mlx5 Direct Verbs\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"--with-rocm=/opt/rocm"})}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"make -j $(nproc)\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"make install\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"ldconfig\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc124\uc815",children:"\uc124\uc815"}),"\n",(0,c.jsx)(n.admonition,{title:"References",type:"info",children:(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://openucx.readthedocs.io/en/master/faq.html",children:"OpenUCX / Frequently Asked Questions"})}),"\n"]})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"UCX_TLS=<tl>[,<tl>...]"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ucx_info -d"}),": \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ubaa9\ub85d\uc744 \ucd9c\ub825\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"^"}),"\ub85c \uc2dc\uc791\ud558\uba74 \uc81c\uc678 \ub9ac\uc2a4\ud2b8 \uc124\uc815\uc774 \ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"all"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"tcp"})}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"self"}),": \uac19\uc740 \ud504\ub85c\uc138\uc2a4 \ub0b4\uc5d0\uc11c loopback\uc744 \uc0ac\uc6a9\ud558\uc5ec \ud1b5\uc2e0\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"UCX_NET_DEVICES=<dev>[,<dev>...]"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ucx_info -d"}),": \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ubaa9\ub85d\uc744 \ucd9c\ub825\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"^"}),"\ub85c \uc2dc\uc791\ud558\uba74 \uc81c\uc678 \ub9ac\uc2a4\ud2b8 \uc124\uc815\uc774 \ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"all"})}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"mlx5_0:1"}),", ",(0,c.jsx)(n.code,{children:"eth0"}),", ",(0,c.jsx)(n.code,{children:"lo"}),", ... \ub4f1\uc744 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"UCX_MAX_RNDV_RAILS=<num>"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\uae30\ubcf8\uc801\uc73c\ub85c 2 \uac1c\uc758 \uac00\uc7a5 \uc88b\uc740 \ub124\ud2b8\uc6cc\ud06c \uc7a5\uce58\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.li,{children:"1 \ub85c \uc124\uc815\ud558\uba74 NUMA locality\ub97c \uace0\ub824\ud558\uc5ec 1 \uac1c\uc758 \uc7a5\uce58\ub9cc \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"UCX_NET_DEVICES=<dev>"}),"\ud558\ub098\ub9cc \uc124\uc815\ud558\uba74 1 \uac1c\uc758 \uc7a5\uce58\ub9cc \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"UCX_LOG_LEVEL=info"}),", ",(0,c.jsx)(n.code,{children:"UCX_PROTO_ENABLE=y"}),", ",(0,c.jsx)(n.code,{children:"UCX_PROTO_INFO=y"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"UCX \uad00\ub828 \ub85c\uadf8\uac00 \ucd9c\ub825\ub429\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(x,{...e})}):x(e)}}}]);