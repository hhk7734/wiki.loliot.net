"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[38936],{28453:(e,n,l)=>{l.d(n,{R:()=>s,x:()=>d});var o=l(96540);const i={},c=o.createContext(i);function s(e){const n=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(c.Provider,{value:n},e.children)}},98522:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"mlops/mlops/auth/dex/google","title":"Dex\uc5d0 Google \uc5f0\uacb0\ud558\uae30","description":"Dex\uc5d0 Google \uc5f0\uacb0\ud558\uae30","source":"@site/docs/mlops/mlops/auth/dex/google.mdx","sourceDirName":"mlops/mlops/auth/dex","slug":"/mlops/mlops/auth/dex/google","permalink":"/docs/mlops/mlops/auth/dex/google","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/mlops/auth/dex/google.mdx","tags":[],"version":"current","lastUpdatedAt":1753458942000,"frontMatter":{"id":"google","title":"Dex\uc5d0 Google \uc5f0\uacb0\ud558\uae30","sidebar_label":"Google Connector","description":"Dex\uc5d0 Google \uc5f0\uacb0\ud558\uae30","keywords":["dex","google","connector"]},"sidebar":"mlops","previous":{"title":"Dex","permalink":"/docs/mlops/mlops/auth/dex/"},"next":{"title":"oauth2-proxy","permalink":"/docs/mlops/mlops/auth/oauth2-proxy/"}}');var i=l(74848),c=l(28453);const s={id:"google",title:"Dex\uc5d0 Google \uc5f0\uacb0\ud558\uae30",sidebar_label:"Google Connector",description:"Dex\uc5d0 Google \uc5f0\uacb0\ud558\uae30",keywords:["dex","google","connector"]},d=void 0,t={},r=[{value:"OAuth client \uc0dd\uc131",id:"oauth-client-\uc0dd\uc131",level:2},{value:"\uc124\uc815",id:"\uc124\uc815",level:2},{value:"groups \uac00\uc838\uc624\uae30",id:"groups-\uac00\uc838\uc624\uae30",level:2},{value:"Service account \uc0dd\uc131",id:"service-account-\uc0dd\uc131",level:3},{value:"Credential \uc0dd\uc131",id:"credential-\uc0dd\uc131",level:3},{value:"Domain-wide delegation \uc124\uc815",id:"domain-wide-delegation-\uc124\uc815",level:3},{value:"Admin SDK API \ud65c\uc131\ud654",id:"admin-sdk-api-\ud65c\uc131\ud654",level:3},{value:"Admin Email \uc124\uc815",id:"admin-email-\uc124\uc815",level:3},{value:"\uc124\uc815 \uc801\uc6a9\ud558\uae30",id:"\uc124\uc815-\uc801\uc6a9\ud558\uae30",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://dexidp.io/docs/connectors/google/",children:"Dex Docs / Connectors / Authentication Through Google"})}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"oauth-client-\uc0dd\uc131",children:"OAuth client \uc0dd\uc131"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"https://console.cloud.google.com/"})}),"\n",(0,i.jsx)(n.li,{children:"APIs & Services -> Credentials \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Create credentials"})," -> ",(0,i.jsx)(n.code,{children:"OAuth client ID"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Application type"}),"\uc73c\ub85c Web application\uc744 \uc120\ud0dd\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.li,{children:"Name, Authorized redirect URIs\ub97c \uc785\ub825\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Create"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\uc124\uc815",children:"\uc124\uc815"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="dex-values.yaml"',children:'config:\n  connectors:\n    - type: google\n      id: google\n      name: Google\n      config:\n        clientID: <clientID>\n        clientSecret: <clientSecret>\n        redirectURI: <issuerURI>/callback\n        promptType: ""\n'})}),"\n",(0,i.jsx)(n.h2,{id:"groups-\uac00\uc838\uc624\uae30",children:"groups \uac00\uc838\uc624\uae30"}),"\n",(0,i.jsx)(n.h3,{id:"service-account-\uc0dd\uc131",children:"Service account \uc0dd\uc131"}),"\n",(0,i.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://developers.google.com/workspace/guides/create-credentials#service-account",children:"Google Workspace / Guide / Create access credentials # Service account credentials"})}),"\n"]})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"https://console.cloud.google.com/"})}),"\n",(0,i.jsx)(n.li,{children:"IAM & Admin -> Service Accounts \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Create service account"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:["Service account name\uc744 \uc785\ub825\ud558\uace0 ",(0,i.jsx)(n.code,{children:"Create and continue"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Done"}),"\uc744 \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"credential-\uc0dd\uc131",children:"Credential \uc0dd\uc131"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"https://console.cloud.google.com/"})}),"\n",(0,i.jsx)(n.li,{children:"IAM & Admin -> Service Accounts \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"\uc0dd\uc131\ud55c Service account\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"Keys \ud0ed\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Add Key"})," -> ",(0,i.jsx)(n.code,{children:"Create new key"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:["JSON\uc744 \uc120\ud0dd \ud6c4 ",(0,i.jsx)(n.code,{children:"Create"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\uc0dd\uc131\ud558\uba74 \uc790\ub3d9\uc73c\ub85c JSON \ud30c\uc77c\uc774 \ub2e4\uc6b4\ub85c\ub4dc\ub429\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"domain-wide-delegation-\uc124\uc815",children:"Domain-wide delegation \uc124\uc815"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"https://console.cloud.google.com/"})}),"\n",(0,i.jsx)(n.li,{children:"IAM & Admin -> Service Accounts \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"\uc0dd\uc131\ud55c Service account\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Advanced settings"}),"\ub97c \ud655\uc7a5\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.li,{children:"Client ID\ub97c \ubcf5\uc0ac\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"View Google Workspace Admin Console"}),"\uc744 \ud074\ub9ad\ud569\ub2c8\ub2e4.(super administrator)"]}),"\n",(0,i.jsx)(n.li,{children:"Security -> Access and data control -> API controls \ud398\uc774\uc9c0\ub85c \uc811\uc18d\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MANAGE DOMAIN WIDE DELEGATION"}),"\uc744 \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Add new"}),"\ub97c \ud074\ub9ad\ud55c \ud6c4 \ubcf5\uc0ac\ud55c Client ID\ub97c \uc785\ub825\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:["OAuth scopes\uc5d0 ",(0,i.jsx)(n.code,{children:"https://www.googleapis.com/auth/admin.directory.group.readonly"}),"\ub97c \uc785\ub825\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AUTHORIZE"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"admin-sdk-api-\ud65c\uc131\ud654",children:"Admin SDK API \ud65c\uc131\ud654"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"https://console.cloud.google.com/"})}),"\n",(0,i.jsx)(n.li,{children:"APIs & Services -> Enabled APIs & services \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Enable APIs and services"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.li,{children:"Admin SDK\ub97c \uac80\uc0c9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Admin SDK API"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Enable"}),"\uc744 \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"admin-email-\uc124\uc815",children:"Admin Email \uc124\uc815"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://admin.google.com/",children:"https://admin.google.com/"})}),"\n",(0,i.jsx)(n.li,{children:"Account -> Admin roles \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Groups Reader"}),"\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.li,{children:"\uc0ac\uc6a9\ud560 Email\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\uc124\uc815-\uc801\uc6a9\ud558\uae30",children:"\uc124\uc815 \uc801\uc6a9\ud558\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Secret\nmetadata:\n  name: dex-google-service-account\n  namespace: dex\ntype: Opaque\ndata:\n  googleAuth.json: <googleAuth.json | base64 | tr -d '\\n'>\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="dex-values.yaml"',children:"config:\n  connectors:\n    - type: google\n      config:\n        serviceAccountFilePath: /etc/dex/google-auth/googleAuth.json\n        domainToAdminEmail:\n          # example.com: admin@example.com\n          <domain>: <adminEmail>\n\nvolumes:\n  - name: google-auth\n    secret:\n      secretName: dex-google-service-account\n\nvolumeMounts:\n  - name: google-auth\n    mountPath: /etc/dex/google-auth\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);