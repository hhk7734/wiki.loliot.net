"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[52005],{28453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>t});var l=n(96540);const i={},s=l.createContext(i);function c(e){const r=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),l.createElement(s.Provider,{value:r},e.children)}},35334:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"lang/python/libraries/opentelemetry/trace","title":"Python OpenTelemetry Trace \uc124\uc815 \uac00\uc774\ub4dc","description":"Python OpenTelemetry Trace \uc124\uc815 \uac00\uc774\ub4dc","source":"@site/docs/lang/python/libraries/opentelemetry/trace.mdx","sourceDirName":"lang/python/libraries/opentelemetry","slug":"/lang/python/libraries/opentelemetry/trace","permalink":"/docs/lang/python/libraries/opentelemetry/trace","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/python/libraries/opentelemetry/trace.mdx","tags":[],"version":"current","lastUpdatedAt":1764088712000,"frontMatter":{"id":"trace","title":"Python OpenTelemetry Trace \uc124\uc815 \uac00\uc774\ub4dc","sidebar_label":"Trace \uc124\uc815 \uac00\uc774\ub4dc","description":"Python OpenTelemetry Trace \uc124\uc815 \uac00\uc774\ub4dc","keywords":["python","OpenTelemetry","Trace"]},"sidebar":"python","previous":{"title":"Atlas","permalink":"/docs/lang/python/libraries/sqlalchemy/atlas"},"next":{"title":"Repository","permalink":"/docs/lang/python/package/repository"}}');var i=n(74848),s=n(28453);const c={id:"trace",title:"Python OpenTelemetry Trace \uc124\uc815 \uac00\uc774\ub4dc",sidebar_label:"Trace \uc124\uc815 \uac00\uc774\ub4dc",description:"Python OpenTelemetry Trace \uc124\uc815 \uac00\uc774\ub4dc",keywords:["python","OpenTelemetry","Trace"]},t=void 0,o={},d=[{value:"TracerProvider",id:"tracerprovider",level:2},{value:"Exporter",id:"exporter",level:2},{value:"gRPC",id:"grpc",level:3},{value:"Sampler",id:"sampler",level:2}];function a(e){const r={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"tracerprovider",children:"TracerProvider"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-shell",children:"pip install opentelemetry-sdk\n"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"from opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\n\n\ntracer_provider = TracerProvider()\ntracer_provider.add_span_processor(BatchSpanProcessor(exporter))\n\ntrace.set_tracer_provider(tracer_provider)\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["resources \uc124\uc815\uc744 \ub530\ub85c\ud558\uc9c0 \uc54a\uc73c\uba74 \ud658\uacbd \ubcc0\uc218\ub85c\ubd80\ud130 \uc124\uc815\uc744 \uc77d\uc5b4\uc640\uc11c \uc124\uc815\ud569\ub2c8\ub2e4.","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_SERVICE_NAME=<serviceName>"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_RESOURCE_ATTRIBUTES=<attribute>=<value>[,<attribute>=<value>]"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"exporter",children:"Exporter"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-shell",children:"pip install opentelemetry-exporter-otlp\n"})}),"\n",(0,i.jsx)(r.h3,{id:"grpc",children:"gRPC"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"from opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter\n\n\nexporter = OTLPSpanExporter()\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["\uc635\uc158\uc744 \uc124\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 \ud658\uacbd \ubcc0\uc218\ub85c\ubd80\ud130 \uc124\uc815\uc744 \uc77d\uc5b4\uc640\uc11c \uc124\uc815\ud569\ub2c8\ub2e4. \ud658\uacbd \ubcc0\uc218 \uc6b0\uc120\uc21c\uc704\ub294 ",(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_*"}),", ",(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_*"})," \uc21c\uc73c\ub85c \ub192\uc544\uc9d1\ub2c8\ub2e4."]})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["endpoint \uc124\uc815","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\uae30\ubcf8\uac12\uc740 ",(0,i.jsx)(r.code,{children:"insecure + localhost:4317"})," \uc785\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_ENDPOINT=<scheme>://<host>:<port>"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=<scheme>://<host>:<port>"})}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"<scheme>"}),"\uc774 ",(0,i.jsx)(r.code,{children:"http"}),"\uc778 \uacbd\uc6b0 insecure\ub85c \uc124\uc815\ub429\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(r.li,{children:["\uac01\uac01 \ubd84\ub9ac\ud574\uc11c \uc124\uc815\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_INSECURE=true|false"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_ENDPOINT=<host>:<port>"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_INSECURE=true|false"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=<host>:<port>"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["headers \uc124\uc815","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_HEADERS=<key>=<value>[,<key>=<value>]"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_HEADERS=<key>=<value>[,<key>=<value>]"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["timeout \uc124\uc815","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"\uae30\ubcf8\uac12\uc740 10\ucd08 \uc785\ub2c8\ub2e4."}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TIMEOUT=<milliseconds>"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_TIMEOUT=<milliseconds>"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["compression \uc124\uc815","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_COMPRESSION=gzip|none"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_COMPRESSION=gzip|none"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["certificate \uc124\uc815","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_CERTIFICATE=<certFilePath>"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE=<certFilePath>.pem"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_CLIENT_KEY=<keyFilePath>.pem"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE=<certFilePath>"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE=<certFilePath>.pem"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY=<keyFilePath>.pem"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"sampler",children:"Sampler"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsxs)(r.strong,{children:[(0,i.jsx)(r.code,{children:"TracerProvider"}),"\uc5d0 sampler\ub97c \uc124\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 \ud658\uacbd \ubcc0\uc218\ub85c\ubd80\ud130 \uc124\uc815\uc744 \uc77d\uc5b4\uc640\uc11c \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_TRACES_SAMPLER=always_on|always_off|traceidratio|parentbased_always_on|parentbased_always_off|parentbased_traceidratio"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"OTEL_TRACES_SAMPLER_ARG=<traceidratio>"})}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);