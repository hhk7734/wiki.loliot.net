"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[27383],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var d=t(96540);const i={},s=d.createContext(i);function r(e){const n=d.useContext(s);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),d.createElement(s.Provider,{value:n},e.children)}},89734:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"lang/design/eda","title":"EDA(Event-Driven Architecture)","description":"EDA(Event-Driven Architecture)","source":"@site/docs/lang/design/eda.mdx","sourceDirName":"lang/design","slug":"/lang/design/eda","permalink":"/docs/lang/design/eda","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/design/eda.mdx","tags":[],"version":"current","lastUpdatedAt":1745336627000,"frontMatter":{"id":"eda","title":"EDA(Event-Driven Architecture)","sidebar_label":"Event-Driven","description":"EDA(Event-Driven Architecture)","keywords":["eda","event"]},"sidebar":"design","previous":{"title":"Hexagonal","permalink":"/docs/lang/design/ddd/hexagonal"},"next":{"title":"Event Storming","permalink":"/docs/lang/design/event-storming"}}');var i=t(74848),s=t(28453);const r={id:"eda",title:"EDA(Event-Driven Architecture)",sidebar_label:"Event-Driven",description:"EDA(Event-Driven Architecture)",keywords:["eda","event"]},c=void 0,l={},h=[{value:"CloudEvents",id:"cloudevents",level:2},{value:"HTTP \ub9e4\ud551",id:"http-\ub9e4\ud551",level:2},{value:"Events and Commands",id:"events-and-commands",level:2},{value:"Reference",id:"reference",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"cloudevents",children:"CloudEvents"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/cloudevents/spec/blob/main/cloudevents/spec.md",children:"https://github.com/cloudevents/spec/blob/main/cloudevents/spec.md"})}),"\n"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Key"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"specversion"})}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u2713"}),(0,i.jsx)(n.td,{children:"CloudEvents spec \ubc84\uc804"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1.0"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"type"})}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u2713"}),(0,i.jsx)(n.td,{children:"\uc774\ubca4\ud2b8 \ud0c0\uc785\uc73c\ub85c domain, subdomain, event, command, event_version \ub4f1\uc73c\ub85c \uad6c\uc131"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"domain.subdomain.event.v2"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"source"})}),(0,i.jsx)(n.td,{children:"URI Reference"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u2713"}),(0,i.jsx)(n.td,{children:"\uc774\ubca4\ud2b8 \ubc1c\uc0dd \uc704\uce58"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"https://<domain>/v2/<resource>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"id"})}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u2713"}),(0,i.jsx)(n.td,{children:"\uc774\ubca4\ud2b8 ID\ub85c UUID, Counter \ub4f1\uc744 \uc774\uc6a9\ud558\uc5ec \uc815\uc758"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"2c04c116-19c2-4b59-857e-2f0396ad0e98"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"time"})}),(0,i.jsx)(n.td,{children:"Timestamp"}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"\uc774\ubca4\ud2b8 \ubc1c\uc0dd \uc2dc\uac04"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"2022-07-02T21:59:07.975Z"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"datacontenttype"})}),(0,i.jsx)(n.td,{children:"RFC2046"}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"attribute/value"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"application/protobuf"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"data"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"datacontenttype"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"\uc774\ubca4\ud2b8 payload"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"dataschema"})}),(0,i.jsx)(n.td,{children:"URI"}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"data"}),"\uc758 \uc2a4\ud0a4\ub9c8\ub85c \ud638\ud658\ub418\uc9c0 \uc54a\ub294 \uacbd\uc6b0 \ub2e4\ub978 URI\ub85c \ud45c\ud604\ud574\uc57c \ud568"]}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"subject"})}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["URI: ",(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc3986#section-4.3",children:"https://datatracker.ietf.org/doc/html/rfc3986#section-4.3"})]}),"\n",(0,i.jsxs)(n.li,{children:["URI Reference: ",(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc3986#section-4.1",children:"https://datatracker.ietf.org/doc/html/rfc3986#section-4.1"})]}),"\n",(0,i.jsxs)(n.li,{children:["Timestamp","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc3339",children:"https://datatracker.ietf.org/doc/html/rfc3339"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://ijmacd.github.io/rfc3339-iso8601/",children:"https://ijmacd.github.io/rfc3339-iso8601/"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["RFC2046: ",(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc2046",children:"https://datatracker.ietf.org/doc/html/rfc2046"})]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"source"})," + ",(0,i.jsx)(n.code,{children:"id"})," \uc870\ud569\uc740 \ub3d9\uc77c ",(0,i.jsx)(n.code,{children:"type"})," \ub0b4\uc5d0\uc11c \uace0\uc720\ud574\uc57c\ud569\ub2c8\ub2e4."]})}),"\n",(0,i.jsx)(n.h2,{id:"http-\ub9e4\ud551",children:"HTTP \ub9e4\ud551"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/cloudevents/spec/blob/v1.0.2/cloudevents/bindings/http-protocol-binding.md#3-http-message-mapping",children:"https://github.com/cloudevents/spec/blob/v1.0.2/cloudevents/bindings/http-protocol-binding.md#3-http-message-mapping"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /someresource HTTP/1.1\nHost: wiki.loliot.net\nCe-Specversion: 1.0\nCe-Type: domain.subdomain.event.v2\nCe-Source: https://<domain>/v2/<resource>\nCe-Id: 2c04c116-19c2-4b59-857e-2f0396ad0e98\nCe-Time: 2022-07-02T21:59:07.975Z\nContent-Type: application/json; charset=utf-8\n{\n  ...data\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Ce-Datacontenttype"})," \ub300\uc2e0 ",(0,i.jsx)(n.code,{children:"Content-Type"}),"\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Ce-Data"})," \ub300\uc2e0 \ubcf8\ubb38\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"events-and-commands",children:"Events and Commands"}),"\n",(0,i.jsx)(n.p,{children:"Events and Commands\ub294"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"JSON \ud3ec\uba67\uc744 \uc4f0\uae30\ubcf4\ub2e4 \uac00\ub2a5\ud558\uba74 protobuf, avro \ub4f1\uc744 \uc4f0\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"\ub2e8\uc77c \uc9c4\uc2e4 \uacf5\uae09\uc6d0(Single Source of Truth)\uc774 \ub418\uc57c\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"\ud2b9\uc218\ud55c \uc0c1\ud669\uc774 \uc544\ub2c8\uba74 \uac01\uac01 Stream\uc744 \ud558\ub098\uc529 \uac16\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"\ub370\uc774\ud130\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\ub294 \uac00\uc7a5 \uc881\uc740 \ubc94\uc704\uc758 \ub370\uc774\ud130 \ud0c0\uc785\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"\ud558\ub098\uc758 \ubaa9\uc801\uc744 \uc704\ud55c \ucd5c\uc18c\ud55c\uc758 \ub370\uc774\ud130\ub85c \uad6c\uc131\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"\uc138\ub9c8\ud3ec\uc5b4\ub098 \uc2dc\uadf8\ub110\ub85c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Adam Bellemare, Building Event-Driven Microservices: Leveraging Organizational Data at Scale(\ubc88\uc5ed\ubcf8)"}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);