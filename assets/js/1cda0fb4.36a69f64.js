"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[82662],{43282:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>x,frontMatter:()=>c,metadata:()=>t,toc:()=>a});var i=s(74848),l=s(28453),r=s(98180);const c={id:"avr-i2c",title:"AVR I2C",sidebar_label:"I2C",description:"AVR I2C",keywords:["AVR","I2C"]},d=void 0,t={id:"mcu/avr/avr-i2c",title:"AVR I2C",description:"AVR I2C",source:"@site/docs/mcu/avr/avr-i2c.mdx",sourceDirName:"mcu/avr",slug:"/mcu/avr/avr-i2c",permalink:"/docs/mcu/avr/avr-i2c",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1729318814e3,frontMatter:{id:"avr-i2c",title:"AVR I2C",sidebar_label:"I2C",description:"AVR I2C",keywords:["AVR","I2C"]},sidebar:"avr",previous:{title:"Internal EEPROM",permalink:"/docs/mcu/avr/avr-eeprom"}},o={},a=[{value:"Abbreviation",id:"abbreviation",level:2},{value:"Master \ubaa8\ub4dc",id:"master-\ubaa8\ub4dc",level:2},{value:"master -&gt; slave",id:"master---slave",level:3},{value:"slave -&gt; master",id:"slave---master",level:3},{value:"\ud1b5\uc2e0 \uc624\ub958",id:"\ud1b5\uc2e0-\uc624\ub958",level:2}];function h(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["I2C \ud1b5\uc2e0\uc740 \ub450 \uac1c\uc758 \uc120\uc73c\ub85c \uc5ec\ub7ec \uc7a5\uce58\uc5d0 \uc811\uadfc\ud558\uc5ec \ub370\uc774\ud130\ub97c \uc8fc\uace0 \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub450 \uac1c\uc758 \uc120\uc740 clock\uc744 \ub3d9\uae30\ud654\ud558\uae30 \uc704\ud55c ",(0,i.jsx)(n.strong,{children:"SCL"}),"\uacfc clock\uc5d0 \ub9de\ucdb0 \ub370\uc774\ud130\ub97c \ubcf4\ub0b4\uae30 \uc704\ud55c ",(0,i.jsx)(n.strong,{children:"SDA"}),"\uc73c\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ud1b5\uc2e0\uc744 \uc8fc\ub3c4\ud558\ub294 master\uac00 \uc788\uace0, master\uc758 \uba85\ub839\uc5d0 \ub530\ub77c \ub370\uc774\ud130\ub97c \uc1a1\uc218\uc2e0\ud558\ub294 slave\uac00 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.p,{children:"master\uac00 \uc2dc\uc791 \uc2e0\ud638\uc640 \ud568\uaed8 slave\uc758 \uc8fc\uc18c\ub97c \ubcf4\ub0b4\uba74 \uc8fc\uc18c\uc5d0 \ub9de\ub294 slave\ub9cc \uc791\ub3d9\ud558\uae30 \ub54c\ubb38\uc5d0 \uc5ec\ub7ec \uc7a5\uce58\uac00 \uc5f0\uacb0\ub420 \uc218 \uc788\uc9c0\ub9cc \uc8fc\uc18c\uac00 \ub3d9\uc77c\ud55c \uacbd\uc6b0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsx)(n.p,{children:"SDA, SCL \uc120\uc740 \uc544\ub798 \uadf8\ub9bc\ucc98\ub7fc Pull-up\uc800\ud56d\uc744 \uc5f0\uacb0\ud574\uc57c \ud569\ub2c8\ub2e4."})}),"\n",(0,i.jsx)("center",{children:(0,i.jsx)("img",{src:(0,r.Ay)("img/mcu/avr/avr-i2c-bus-interconnection.png")})}),"\n",(0,i.jsx)(n.p,{children:"\uc8fc\uc18c \ub370\uc774\ud130\ub294 slave \uc8fc\uc18c 7 \ube44\ud2b8\uc640 read/write 1 \ube44\ud2b8\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.(10 \ube44\ud2b8 \uc8fc\uc18c\ub97c \uac16\ub294 \uacbd\uc6b0\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.) R/W \ube44\ud2b8\uac00 1 \uc774\uba74 slave -> master, 0 \uc774\uba74 master -> slave \ubc29\ud5a5\uc73c\ub85c \ub370\uc774\ud130\uac00 \uc804\uc1a1\ub429\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h2,{id:"abbreviation",children:"Abbreviation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"S"}),": Start condition"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rs"}),": Repeated start condition"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"R"}),": Read bit (High level at SDA)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"W"}),": Wriet bit (Low level at SDA)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ACK"}),": ACKnowledge bit (Low level at SDA)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"NACK"}),": Not ACKnowledge bit (High levle at SDA)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data"}),": 8-bit data byte"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"P"}),": stoP condition"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SLA"}),": SLave Adress"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"master-\ubaa8\ub4dc",children:"Master \ubaa8\ub4dc"}),"\n",(0,i.jsx)(n.h3,{id:"master---slave",children:"master -> slave"}),"\n",(0,i.jsxs)(n.p,{children:["\ud1b5\uc2e0 \uc21c\uc11c\ub294 ",(0,i.jsx)(n.strong,{children:"S -> SLA + W -> Data -> ... -> P"})," \uc785\ub2c8\ub2e4. ...\uc740 \uc5ec\ub7ec \uac1c\uc758 \ub370\uc774\ud130\ub97c \uc758\ubbf8\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["slave\uc5d0 \uc788\ub294 \ub808\uc9c0\uc2a4\ud130\uc5d0 \uac12\uc744 \uc4f0\uace0 \uc2f6\uc740 \uacbd\uc6b0, \ub808\uc9c0\uc2a4\ud130 \uc8fc\uc18c\ub97c SLRA\ub77c\uace0 \ud55c\ub2e4\uba74\n\ud1b5\uc2e0 \uc21c\uc11c\ub294 ",(0,i.jsx)(n.strong,{children:"S -> SLA + W -> SLRA -> Data -> P"})," \uc785\ub2c8\ub2e4.\nslave\uc758 \ub808\uc9c0\uc2a4\ud130 \uc8fc\uc18c\ub97c \ubcf4\ub0bc \ub54c\ub294 \uc8fc\uc18c\ub97c \ud558\ub098\uc758 Data\ub77c\uace0 \uc0dd\uac01\ud558\uace0 \uc544\ub798\uc5d0\uc11c Data\ub97c \ubcf4\ub0b4\ub294 \ubc29\ubc95\uacfc \ub3d9\uc77c\ud558\uac8c \ubcf4\ub0b4\uba74 \ub429\ub2c8\ub2e4."]})}),"\n",(0,i.jsxs)(n.p,{children:["\uc2e0\ud638\ub294 \uc804\uc1a1 \uc911\uc77c \ub54c ",(0,i.jsx)(n.code,{children:"TWCR"})," \ub808\uc9c0\uc2a4\ud130\uc758 ",(0,i.jsx)(n.code,{children:"TWINT"})," \ube44\ud2b8\uac00 0 \uc774 \ub418\uace0, \uc804\uc1a1\uc774 \uc644\ub8cc\ub418\uba74 1 \uc774 \ub429\ub2c8\ub2e4. \uadf8\ub798\uc11c \uc2e0\ud638\ub97c \uc804\uc1a1\ud560 \ub54c \ub9c8\ub2e4 ",(0,i.jsx)(n.code,{children:"TWINT"})," \ube44\ud2b8\uac00 1 \uc774 \ub418\ub294 \uac83\uc744 \ud655\uc778\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["S","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWCR"})," \ub808\uc9c0\uc2a4\ud130\uc758 ",(0,i.jsx)(n.code,{children:"TWINT"}),", ",(0,i.jsx)(n.code,{children:"TWSTA"}),", ",(0,i.jsx)(n.code,{children:"TWEN"})," \ube44\ud2b8\ub97c 1 \ub85c \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["SLA + W","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWDR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0 slave\uc758 \uc8fc\uc18c 7 \ube44\ud2b8\uc640 ,R/W 0(write) \uc744 \uc501\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 1101001 \uc774\ub77c\ub294 \uc8fc\uc18c\ub97c \uac16\ub294 slave\uac00 \uc788\ub2e4\uba74 ",(0,i.jsx)(n.code,{children:"TWDR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0\ub294 11010010\uc744 \uc4f0\uba74 \ub429\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWCR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0 ",(0,i.jsx)(n.code,{children:"TWINT"}),", ",(0,i.jsx)(n.code,{children:"TWEN"})," \ube44\ud2b8\ub97c 1 \ub85c \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Data(transmit)","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWDR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0 8bit \ub370\uc774\ud130\ub97c \uc501\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWCR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0 ",(0,i.jsx)(n.code,{children:"TWINT"}),", ",(0,i.jsx)(n.code,{children:"TWEN"})," \ube44\ud2b8\ub97c 1 \ub85c \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["P","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWCR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0 ",(0,i.jsx)(n.code,{children:"TWINT"}),", ",(0,i.jsx)(n.code,{children:"TWSTO"}),", ",(0,i.jsx)(n.code,{children:"TWEN"})," \ube44\ud2b8\ub97c 1 \ub85c \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:["STOP \uc2e0\ud638\ub294 ",(0,i.jsx)(n.code,{children:"TWINT"})," \ube44\ud2b8\uac00 1\uc778\uc9c0 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"slave---master",children:"slave -> master"}),"\n",(0,i.jsxs)(n.p,{children:["\ud1b5\uc2e0 \uc21c\uc11c\ub294 ",(0,i.jsx)(n.strong,{children:"S -> SLA + R -> Data -> ... -> P"})," \uc785\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.p,{children:"\uc13c\uc11c\ub97c slave\ub85c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 \uc13c\uc11c\uc5d0\uc11c \ucd9c\ub825\ub420 \uc218 \uc788\ub294 \uc5ec\ub7ec\uac1c\uc758 \uac12 \uc911 \uc6d0\ud558\ub294 \uac12\uc744 \uc77d\uc5b4\uc57c \ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc2b5\ub2c8\ub2e4. \ub530\ub77c\uc11c \uc13c\uc11c\ub9c8\ub2e4 \ud1b5\uc2e0 \uc21c\uc11c\uac00 \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["slave\uc5d0\uc11c \uc77d\uace0\uc2f6\uc740 \uac12\uc758 \ub808\uc9c0\uc2a4\ud130 \uc8fc\uc18c\ub97c SLRA\ub77c\uace0 \ud55c\ub2e4\uba74 \ub370\uc774\ud130\ub97c \uc77d\uae30 \uc804\uc5d0 \uba3c\uc800 \uc54c\ub824\uc918\uc57c \ud569\ub2c8\ub2e4.\n\ub530\ub77c\uc11c ",(0,i.jsx)(n.strong,{children:"S -> SLA + W -> SLRA -> Rs -> SLA + R -> Data -> ... -> P"})," \uc778 \ud1b5\uc2e0 \uc21c\uc11c\ub97c \uac16\uac8c \ub429\ub2c8\ub2e4."]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["SLA + R","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWDR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0 slave\uc758 \uc8fc\uc18c 7 \ube44\ud2b8\uc640 ,R/W 1(read) \uc744 \uc501\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 1101001 \uc774\ub77c\ub294 \uc8fc\uc18c\ub97c \uac16\ub294 slave\uac00 \uc788\ub2e4\uba74 ",(0,i.jsx)(n.code,{children:"TWDR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0\ub294 11010011\uc744 \uc4f0\uba74 \ub429\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWCR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0 ",(0,i.jsx)(n.code,{children:"TWINT"}),", ",(0,i.jsx)(n.code,{children:"TWEN"})," \ube44\ud2b8\ub97c 1 \ub85c \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Data(recieve)","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWCR"})," \ub808\uc9c0\uc2a4\ud130\uc5d0 ",(0,i.jsx)(n.code,{children:"TWINT"}),", ",(0,i.jsx)(n.code,{children:"TWEA"}),", ",(0,i.jsx)(n.code,{children:"TWEN"})," \ube44\ud2b8\ub97c 1 \ub85c \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:["\ub9c8\uc9c0\ub9c9 \ub370\uc774\ud130\ub97c \uc77d\ub294 \uacbd\uc6b0\ub294 ",(0,i.jsx)(n.code,{children:"TWINT"}),", ",(0,i.jsx)(n.code,{children:"TWEN"})," \ube44\ud2b8\ub9cc 1 \ub85c \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TWDR"})," \ub808\uc9c0\uc2a4\ud130\uc758 \uac12\uc744 \uc77d\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\ud1b5\uc2e0-\uc624\ub958",children:"\ud1b5\uc2e0 \uc624\ub958"}),"\n",(0,i.jsxs)(n.p,{children:["\ud1b5\uc2e0\uc744 \ud560 \ub54c, ",(0,i.jsx)(n.code,{children:"TWCR"})," \ub808\uc9c0\uc2a4\ud130\uc758 ",(0,i.jsx)(n.code,{children:"TWINT"})," \ube44\ud2b8\uac00 1 \uc774 \ub418\uc9c0 \uc54a\ub294 \uacbd\uc6b0 \ud1b5\uc2e0\uc774 \uc2e4\ud328\ud588\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.p,{children:["\uc2e4\ud328\uc758 \uc774\uc720\ub294 ",(0,i.jsx)(n.code,{children:"TWSR"})," \ub808\uc9c0\uc2a4\ud130\ub97c \uc77d\uc73c\uba74 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4. (\uac12\uc5d0 \ub530\ub978 \uc2e4\ud328 \uc0ac\uc720\ub294 datasheet\ub97c \ucc38\uace0\ud558\uba74 \ub429\ub2c8\ub2e4.) \uc2e4\ud328\ud55c \uacbd\uc6b0, \uc774\ub97c \ucc98\ub9ac\ud558\ub294 \ud568\uc218\ub97c \ub530\ub85c \ub9cc\ub4e4\uba74 \ub429\ub2c8\ub2e4. \ub2e8\uc21c\ud788 \ubb34\uc2dc\ud574\ub3c4 \ub418\ub294 \uacbd\uc6b0 ",(0,i.jsx)(n.code,{children:"TWCR"}),"\ub808\uc9c0\uc2a4\ud130\uc5d0 0 \uc744 \uc4f0\uba74 \ub429\ub2c8\ub2e4."]})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var i=s(96540);const l={},r=i.createContext(l);function c(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);