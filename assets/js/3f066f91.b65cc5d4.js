"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[70656],{7227:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var l=t(34164);const r={tabItem:"tabItem_Ymn6"};var a=t(74848);function s({children:e,hidden:n,className:t}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,l.A)(r.tabItem,t),hidden:n,children:e})}},13998:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>u,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"lang/flutter/engine/flutter-app-for-linux-arm64","title":"Build Flutter app for linux-arm/arm64","description":"Build Flutter app for linux-arm/arm64","source":"@site/docs/lang/flutter/engine/flutter-for-linux-arm64.mdx","sourceDirName":"lang/flutter/engine","slug":"/lang/flutter/engine/flutter-app-for-linux-arm64","permalink":"/docs/lang/flutter/engine/flutter-app-for-linux-arm64","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/flutter/engine/flutter-for-linux-arm64.mdx","tags":[],"version":"current","lastUpdatedAt":1703257929000,"frontMatter":{"id":"flutter-app-for-linux-arm64","title":"Build Flutter app for linux-arm/arm64","sidebar_label":"Build app for linux-arm/arm64","description":"Build Flutter app for linux-arm/arm64","keywords":["Flutter","application","build","arm64","linux"]},"sidebar":"flutter","previous":{"title":"Build engine for linux-arm/arm64","permalink":"/docs/lang/flutter/engine/flutter-engine-for-linux-arm64"},"next":{"title":"Widgets","permalink":"/docs/lang/flutter/bloc/flutter-bloc-widgets"}}');var r=t(74848),a=t(28453),s=t(98180),i=t(49489),o=t(7227);const u={id:"flutter-app-for-linux-arm64",title:"Build Flutter app for linux-arm/arm64",sidebar_label:"Build app for linux-arm/arm64",description:"Build Flutter app for linux-arm/arm64",keywords:["Flutter","application","build","arm64","linux"]},c=void 0,d={},h=[{value:"Native Build",id:"native-build",level:2},{value:"Target(Linux ARM/ARM64)",id:"targetlinux-armarm64",level:3},{value:"Host(Linux x86_64)",id:"hostlinux-x86_64",level:3},{value:"Target(Linux ARM/ARM64)",id:"targetlinux-armarm64-1",level:3},{value:"Host(Linux x86_64)",id:"hostlinux-x86_64-1",level:3},{value:"Target(Linux ARM/ARM64)",id:"targetlinux-armarm64-2",level:3},{value:"Run debug mode",id:"run-debug-mode",level:4},{value:"Run release mode",id:"run-release-mode",level:4},{value:"Build-troubleshoot",id:"build-troubleshoot",level:4},{value:"Run Without Xwindow(On console mode)",id:"run-without-xwindowon-console-mode",level:4}];function g(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"native-build",children:"Native Build"}),"\n",(0,r.jsx)(n.h3,{id:"targetlinux-armarm64",children:"Target(Linux ARM/ARM64)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/flutter/flutter.git $HOME/development/flutter\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/development/flutter \\\n&& git checkout stable\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mkdir -p $HOME/development/flutter/bin/cache\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"export PATH=$PATH:$HOME/development/flutter/bin\n"})}),"\n",(0,r.jsx)(n.h3,{id:"hostlinux-x86_64",children:"Host(Linux x86_64)"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Read ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/lang/flutter/engine/flutter-engine-for-linux-arm64#flutter-engine",children:"Build engine for linux-arm64"})})," for ",(0,r.jsx)(n.code,{children:"out/linux_<profile/release>_<arm/arm64>"})]})}),"\n",(0,r.jsxs)(i.A,{groupId:"cpu-architecture",defaultValue:"aarch64",values:[{label:"ARM",value:"arm"},{label:"ARM64",value:"aarch64"}],children:[(0,r.jsx)(o.A,{value:"arm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/flutter-engine/engine/src/out/linux_release_arm\n"})})}),(0,r.jsx)(o.A,{value:"aarch64",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/flutter-engine/engine/src/out/linux_release_arm64\n"})})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a dart-sdk  <target user>@<target ip>:~/development/flutter/bin/cache\n"})}),"\n",(0,r.jsx)(n.h3,{id:"targetlinux-armarm64-1",children:"Target(Linux ARM/ARM64)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cp $HOME/development/flutter/bin/internal/engine.version \\\n    $HOME/development/flutter/bin/cache/engine-dart-sdk.stamp\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",metastring:"{1}",children:"$ flutter doctor\nBuilding flutter tool...\n\n  \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n  \u2551                 Welcome to Flutter! - https://flutter.dev                  \u2551\n  \u2551                                                                            \u2551\n  \u2551 The Flutter tool uses Google Analytics to anonymously report feature usage \u2551\n  \u2551 statistics and basic crash reports. This data is used to help improve      \u2551\n  \u2551 Flutter tools over time.                                                   \u2551\n  \u2551                                                                            \u2551\n  \u2551 Flutter tool analytics are not sent on the very first run. To disable      \u2551\n  \u2551 reporting, type 'flutter config --no-analytics'. To display the current    \u2551\n  \u2551 setting, type 'flutter config'. If you opt out of analytics, an opt-out    \u2551\n  \u2551 event will be sent, and then no further information will be sent by the    \u2551\n  \u2551 Flutter tool.                                                              \u2551\n  \u2551                                                                            \u2551\n  \u2551 By downloading the Flutter SDK, you agree to the Google Terms of Service.  \u2551\n  \u2551 Note: The Google Privacy Policy describes how data is handled in this      \u2551\n  \u2551 service.                                                                   \u2551\n  \u2551                                                                            \u2551\n  \u2551 Moreover, Flutter includes the Dart SDK, which may send usage metrics and  \u2551\n  \u2551 crash reports to Google.                                                   \u2551\n  \u2551                                                                            \u2551\n  \u2551 Read about data we send with crash reports:                                \u2551\n  \u2551 https://flutter.dev/docs/reference/crash-reporting                         \u2551\n  \u2551                                                                            \u2551\n  \u2551 See Google's privacy policy:                                               \u2551\n  \u2551 https://policies.google.com/privacy                                        \u2551\n  \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\nDownloading Material fonts...                                    2,337ms\nDownloading Gradle Wrapper...                                       64ms\nDownloading package sky_engine...                                1,139ms\nDownloading flutter_patched_sdk tools...                            3.1s\nDownloading flutter_patched_sdk_product tools...                 2,334ms\nDownloading linux-x64 tools...                                      4.7s\nDownloading linux-x64/font-subset tools...                       1,701ms\nDoctor summary (to see all details, run flutter doctor -v):\n[\u2713] Flutter (Channel master, 1.25.0-9.0.pre.57, on Linux, locale C.UTF-8)\n[\u2717] Android toolchain - develop for Android devices\n    \u2717 Unable to locate Android SDK.\n      Install Android Studio from: https://developer.android.com/studio/index.html\n      On first launch it will assist you in installing the Android SDK components.\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\n      If the Android SDK has been installed to a custom location, please use\n      `flutter config --android-sdk` to update to that location.\n\n[\u2717] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n[!] Android Studio (not installed)\n[!] Connected device\n    ! No devices available\n\n! Doctor found issues in 4 categories.\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"flutter config --enable-linux-desktop\n"})}),"\n",(0,r.jsx)(n.h3,{id:"hostlinux-x86_64-1",children:"Host(Linux x86_64)"}),"\n",(0,r.jsxs)(i.A,{groupId:"cpu-architecture",defaultValue:"aarch64",values:[{label:"ARM",value:"arm"},{label:"ARM64",value:"aarch64"}],children:[(0,r.jsxs)(o.A,{value:"arm",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/flutter-engine/engine/src/out/linux_debug_arm\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_linux \\\n    flutter_tester \\\n    font-subset \\\n    icudtl.dat \\\n    libflutter_linux_gtk.so \\\n    gen/const_finder.dart.snapshot \\\n    gen/frontend_server.dart.snapshot \\\n    gen/flutter/lib/snapshot/isolate_snapshot.bin \\\n    gen/flutter/lib/snapshot/vm_isolate_snapshot.bin \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/linux-x64\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_patched_sdk \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/common\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/flutter-engine/engine/src/out/linux_profile_arm\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_linux gen_snapshot libflutter_linux_gtk.so \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/linux-x64-profile\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/flutter-engine/engine/src/out/linux_release_arm\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mv flutter_patched_sdk flutter_patched_sdk_product\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_patched_sdk_product \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/common\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_linux gen_snapshot libflutter_linux_gtk.so \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/linux-x64-release\n"})})]}),(0,r.jsxs)(o.A,{value:"aarch64",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/flutter-engine/engine/src/out/linux_debug_arm64\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_linux \\\n    flutter_tester \\\n    font-subset \\\n    icudtl.dat \\\n    libflutter_linux_gtk.so \\\n    gen/const_finder.dart.snapshot \\\n    gen/frontend_server.dart.snapshot \\\n    gen/flutter/lib/snapshot/isolate_snapshot.bin \\\n    gen/flutter/lib/snapshot/vm_isolate_snapshot.bin \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/linux-arm64\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_patched_sdk \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/common\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/flutter-engine/engine/src/out/linux_profile_arm64\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_linux gen_snapshot libflutter_linux_gtk.so \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/linux-arm64-profile\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd $HOME/flutter-engine/engine/src/out/linux_release_arm64\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mv flutter_patched_sdk flutter_patched_sdk_product\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_patched_sdk_product \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/common\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rsync -a flutter_linux gen_snapshot libflutter_linux_gtk.so \\\n    <target user>@<target ip>:~/development/flutter/bin/cache/artifacts/engine/linux-arm64-release\n"})})]})]}),"\n",(0,r.jsx)(n.h3,{id:"targetlinux-armarm64-2",children:"Target(Linux ARM/ARM64)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"flutter create sample \\\n&& cd sample\n"})}),"\n",(0,r.jsx)(n.h4,{id:"run-debug-mode",children:"Run debug mode"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"flutter run -d linux\n"})}),"\n",(0,r.jsx)("center",{children:(0,r.jsx)("img",{src:(0,s.Ay)("img/lang/flutter/engine/flutter-run-d-linux-arm64.png")})}),"\n",(0,r.jsx)(n.h4,{id:"run-release-mode",children:"Run release mode"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"flutter build linux\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"./build/linux/release/bundle/sample\n"})}),"\n",(0,r.jsx)(n.h4,{id:"build-troubleshoot",children:"Build-troubleshoot"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"flutter build linux --verbose\n"})}),"\n",(0,r.jsx)(n.h4,{id:"run-without-xwindowon-console-mode",children:"Run Without Xwindow(On console mode)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"xinit /path/to/sample/build/linux/release/bundle/sample\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Run ",(0,r.jsx)(n.code,{children:"export DISPLAY=:0"})," when accessing target from host using ssh. Then execute ",(0,r.jsx)(n.code,{children:"flutter run"}),"."]})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var l=t(96540);const r={},a=l.createContext(r);function s(e){const n=l.useContext(a);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),l.createElement(a.Provider,{value:n},e.children)}},49489:(e,n,t)=>{t.d(n,{A:()=>w});var l=t(96540),r=t(34164),a=t(18630),s=t(24245),i=t(56347),o=t(36494),u=t(62814),c=t(67548),d=t(69900);function h(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function g(e){const{values:n,children:t}=e;return(0,l.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:t,default:l}})=>({value:e,label:n,attributes:t,default:l}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const t=(0,i.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,u.aZ)(r),(0,l.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})},[r,t])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=g(e),[s,i]=(0,l.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:a})),[u,c]=m({queryString:t,groupId:r}),[h,f]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,r]=(0,d.Dv)(n);return[t,(0,l.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),x=(()=>{const e=u??h;return p({value:e,tabValues:a})?e:null})();(0,o.A)(()=>{x&&i(x)},[x]);return{selectedValue:s,selectValue:(0,l.useCallback)(e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);i(e),c(e),f(e)},[c,f,a]),tabValues:a}}var x=t(11062);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=t(74848);function j({className:e,block:n,selectedValue:t,selectValue:l,tabValues:a}){const i=[],{blockElementScrollPositionUntilNextRender:o}=(0,s.a_)(),u=e=>{const n=e.currentTarget,r=i.indexOf(n),s=a[r].value;s!==t&&(o(n),l(s))},c=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=i.indexOf(e.currentTarget)+1;n=i[t]??i[0];break}case"ArrowLeft":{const t=i.indexOf(e.currentTarget)-1;n=i[t]??i[i.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:l})=>(0,v.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{i.push(e)},onKeyDown:c,onClick:u,...l,className:(0,r.A)("tabs__item",b.tabItem,l?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function _({lazy:e,children:n,selectedValue:t}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===t);return e?(0,l.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function y(e){const n=f(e);return(0,v.jsxs)("div",{className:(0,r.A)(a.G.tabs.container,"tabs-container",b.tabList),children:[(0,v.jsx)(j,{...n,...e}),(0,v.jsx)(_,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,v.jsx)(y,{...e,children:h(e.children)},String(n))}}}]);