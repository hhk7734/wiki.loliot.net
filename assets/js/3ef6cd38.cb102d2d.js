"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[99291],{28453:(e,n,l)=>{l.d(n,{R:()=>i,x:()=>r});var s=l(96540);const c={},h=s.createContext(c);function i(e){const n=s.useContext(h);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(h.Provider,{value:n},e.children)}},99766:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>a,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"mlops/kubernetes/tools/helm/custom-chart","title":"Custom Chart \ub9cc\ub4e4\uae30","description":"Custom Chart \ub9cc\ub4e4\uae30","source":"@site/docs/mlops/kubernetes/tools/helm/custom-chart.mdx","sourceDirName":"mlops/kubernetes/tools/helm","slug":"/mlops/kubernetes/tools/helm/custom-chart","permalink":"/docs/mlops/kubernetes/tools/helm/custom-chart","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/kubernetes/tools/helm/custom-chart.mdx","tags":[],"version":"current","lastUpdatedAt":1768758056000,"frontMatter":{"id":"custom-chart","title":"Custom Chart \ub9cc\ub4e4\uae30","sidebar_label":"Custom Chart \ub9cc\ub4e4\uae30","description":"Custom Chart \ub9cc\ub4e4\uae30","keywords":["helm","chart"]},"sidebar":"kubernetes","previous":{"title":"Helm\uc73c\ub85c \ubc30\ud3ec\ud558\uae30","permalink":"/docs/mlops/kubernetes/tools/helm/"},"next":{"title":"Etc","permalink":"/docs/mlops/kubernetes/tools/etc"}}');var c=l(74848),h=l(28453);const i={id:"custom-chart",title:"Custom Chart \ub9cc\ub4e4\uae30",sidebar_label:"Custom Chart \ub9cc\ub4e4\uae30",description:"Custom Chart \ub9cc\ub4e4\uae30",keywords:["helm","chart"]},r=void 0,t={},d=[{value:"Chart \uc0dd\uc131\ud558\uae30",id:"chart-\uc0dd\uc131\ud558\uae30",level:2},{value:"hooks \uc0ac\uc6a9\ud558\uae30",id:"hooks-\uc0ac\uc6a9\ud558\uae30",level:2},{value:"Dependency \ucd94\uac00\ud558\uae30",id:"dependency-\ucd94\uac00\ud558\uae30",level:2},{value:"Chart \ud328\ud0a4\uc9d5",id:"chart-\ud328\ud0a4\uc9d5",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,h.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"chart-\uc0dd\uc131\ud558\uae30",children:"Chart \uc0dd\uc131\ud558\uae30"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"helm create <chartName> [flags]\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"Chart.yaml"}),": ",(0,c.jsx)(n.a,{href:"https://helm.sh/docs/topics/charts/",children:"https://helm.sh/docs/topics/charts/"})]}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://helm.sh/ko/docs/chart_template_guide/builtin_objects/",children:"https://helm.sh/ko/docs/chart_template_guide/builtin_objects/"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://helm.sh/ko/docs/chart_template_guide/functions_and_pipelines/",children:"https://helm.sh/ko/docs/chart_template_guide/functions_and_pipelines/"})}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"_helpers.tpl"}),": ",(0,c.jsx)(n.a,{href:"https://helm.sh/ko/docs/chart_template_guide/named_templates/",children:"https://helm.sh/ko/docs/chart_template_guide/named_templates/"})]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"<chartName>/\n\u251c\u2500\u2500 Chart.yaml\n\u251c\u2500\u2500 LICENSE            # optional\n\u251c\u2500\u2500 README.md          # optional\n\u251c\u2500\u2500 values.yaml\n\u251c\u2500\u2500 values.schema.json # optional\n\u251c\u2500\u2500 charts/\n\u251c\u2500\u2500 crds/              # optional\n\u251c\u2500\u2500 templates/\n\u2502   \u251c\u2500\u2500 NOTES.txt      # optional\n\u2502   \u251c\u2500\u2500 _helpers.tpl   # optional\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500\n"})}),"\n",(0,c.jsx)(n.h2,{id:"hooks-\uc0ac\uc6a9\ud558\uae30",children:"hooks \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,c.jsx)(n.admonition,{title:"References",type:"info",children:(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://helm.sh/docs/topics/charts_hooks/",children:"Helm / Chart Hooks"})}),"\n"]})}),"\n",(0,c.jsx)(n.p,{children:"\ud6c5 \ub9ac\uc18c\uc2a4\ub294 \ud15c\ud50c\ub9bf\uc774 \ub80c\ub354\ub9c1\ub41c \ud6c4 \ud2b9\uc815 \uc774\ubca4\ud2b8\uc5d0\uc11c\ub9cc \uad00\ub9ac\ub418\ub294 \ub9ac\uc18c\uc2a4\uc785\ub2c8\ub2e4. \ub530\ub77c\uc11c \ub9b4\ub9ac\uc988\ub85c \uad00\ub9ac\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:'apiVersion: batch/v1\nkind: Job\nmetadata:\n  annotations:\n    helm.sh/hook: pre-install,pre-upgrade\n    helm.sh/hook-weight: "1"\n    helm.sh/hook-delete-policy: before-hook-creation,hook-succeeded\n'})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"helm.sh/hook: <hookType>[,<hookType>...]"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\uc2e4\ud589 \uc2dc\uc810\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"<hookType>"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"pre-install"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"post-install"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"pre-upgrade"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"post-upgrade"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"test"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"pre-rollback"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"post-rollback"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"pre-delete"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"post-delete"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:'helm.sh/hook-weight: "<weight>"'}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\ub3d9\uc77c\ud55c \ud6c5 \ud0c0\uc785 \ub0b4\uc5d0\uc11c \uc2e4\ud589 \uc21c\uc11c\ub97c \uacb0\uc815\ud558\uae30 \uc704\ud55c \uac12\uc785\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.li,{children:"\uac12\uc774 \ub0ae\uc744\uc218\ub85d \uba3c\uc800 \uc2e4\ud589\ub429\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"helm.sh/hook-delete-policy: <policyType>[,<policyType>...]"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\ud6c5 \ub9ac\uc18c\uc2a4\uac00 \uc0ad\uc81c\ub418\ub294 \uc2dc\uc810\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"<policyType>"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"before-hook-creation"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\uc0c8\ub85c\uc6b4 \ud6c5 \ub9ac\uc18c\uc2a4\uac00 \uc0dd\uc131\ub418\uae30 \uc804\uc5d0 \uae30\uc874 \ud6c5 \ub9ac\uc18c\uc2a4\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.li,{children:"\uae30\ubcf8\uac12\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"hook-succeeded"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"hook-failed"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"dependency-\ucd94\uac00\ud558\uae30",children:"Dependency \ucd94\uac00\ud558\uae30"}),"\n",(0,c.jsx)(n.admonition,{title:"References",type:"info",children:(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://helm.sh/docs/helm/helm_dependency/",children:"Helm / Commands / helm dependency"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://helm.sh/docs/chart_template_guide/subcharts_and_globals/",children:"Helm / Chart Template Guide / Subcharts and Globals"})}),"\n"]})}),"\n",(0,c.jsxs)(n.p,{children:["\ucd94\uac00\ud558\uace0\uc790 \ud558\ub294 \ucc28\ud2b8\uc758 \uc815\ubcf4\ub97c ",(0,c.jsx)(n.code,{children:"<chartPath>/Chart.yaml"})," \ud30c\uc77c\uc758 ",(0,c.jsx)(n.code,{children:"dependencies"})," \ud56d\ubaa9\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",metastring:'title="<chartPath>/Chart.yaml"',children:"dependencies:\n  - name: <name>\n    version: <version>\n    repository: <repository>\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"alias: <name>"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\uac19\uc740 \ucc28\ud2b8\ub97c \uc5ec\ub7ec \ubc88 \ucd94\uac00\ud558\uac70\ub098 values\uc5d0\uc11c ",(0,c.jsx)(n.code,{children:"<name>"})," \ub300\uc2e0 \uc0ac\uc6a9\ud558\uace0\uc2f6\uc740 \uc774\ub984\uc744 \uc9c0\uc815\ud560 \ub54c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"repository"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"https://..."})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"file://..."})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"oci://..."})}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"condition: <key>"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\uc77c\ubc18\uc801\uc73c\ub85c ",(0,c.jsx)(n.code,{children:"<name>.enabled"})," \ub610\ub294 ",(0,c.jsx)(n.code,{children:"<alias>.enabled"}),"\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["\ucd94\uac00\ud55c \ucc28\ud2b8\uac00 application \ud0c0\uc785\uc778 \uacbd\uc6b0 ",(0,c.jsx)(n.code,{children:"<chartPath>/values.yaml"})," \ud30c\uc77c\uc5d0 ",(0,c.jsx)(n.code,{children:"<name>"})," \ud56d\ubaa9\uc744 \ucd94\uac00\ud558\uc5ec \uc11c\ube0c\ucc28\ud2b8\uc758 \uac12\uc744 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",metastring:'title="<chartPath>/values.yaml"',children:"global: {}\n\n<name>: # <alias>:\n  enabled: true\n  # subchart values\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"helm dependency update [<chartPath>]\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"update"})," \uba85\ub839\uc5b4\ub294 ",(0,c.jsx)(n.code,{children:"Chart.yaml"}),"\ud30c\uc77c\uc744 \ubc14\ud0d5\uc73c\ub85c ",(0,c.jsx)(n.code,{children:"charts/"})," \ub514\ub809\ud1a0\ub9ac\ub97c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"helm dependency list [<chartPath>]\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"helm dependency build [<chartPath>]\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"build"})," \uba85\ub839\uc5b4\ub294 ",(0,c.jsx)(n.code,{children:"Chart.lock"}),"\ud30c\uc77c\uc744 \ubc14\ud0d5\uc73c\ub85c ",(0,c.jsx)(n.code,{children:"charts/"})," \ub514\ub809\ud1a0\ub9ac\ub97c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.h2,{id:"chart-\ud328\ud0a4\uc9d5",children:"Chart \ud328\ud0a4\uc9d5"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"helm package <chartPath> --version <version>\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"helm pull <repositoryName/chartName> --version <version>\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"helm pull <chartURL> --version <version>\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"helm pull --repo <repoURL> <chartName> --version <version>\n"})})]})}function a(e={}){const{wrapper:n}={...(0,h.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}}}]);