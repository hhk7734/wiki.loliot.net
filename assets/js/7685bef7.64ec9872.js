"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[599],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var r=i(96540);const s={},o=r.createContext(s);function l(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(o.Provider,{value:n},e.children)}},43774:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"mlops/monitoring/prometheus/crd/monitor","title":"ServiceMonitor/PodMonitor","description":"ServiceMonitor/PodMonitor","source":"@site/docs/mlops/monitoring/prometheus/crd/monitor.mdx","sourceDirName":"mlops/monitoring/prometheus/crd","slug":"/mlops/monitoring/prometheus/crd/monitor","permalink":"/docs/mlops/monitoring/prometheus/crd/monitor","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/monitoring/prometheus/crd/monitor.mdx","tags":[],"version":"current","lastUpdatedAt":1746964508000,"frontMatter":{"id":"monitor","title":"ServiceMonitor/PodMonitor","sidebar_label":"Monitor","description":"ServiceMonitor/PodMonitor","keywords":["servicemonitor","podmonitor","Monitor","operator","CRD"]},"sidebar":"monitoring","previous":{"title":"Prometheus","permalink":"/docs/mlops/monitoring/prometheus/crd/prometheus"},"next":{"title":"Alertmanager","permalink":"/docs/mlops/monitoring/prometheus/crd/alertmanager"}}');var s=i(74848),o=i(28453);const l={id:"monitor",title:"ServiceMonitor/PodMonitor",sidebar_label:"Monitor",description:"ServiceMonitor/PodMonitor",keywords:["servicemonitor","podmonitor","Monitor","operator","CRD"]},c=void 0,t={},d=[{value:"ServiceMonitor",id:"servicemonitor",level:2},{value:"PodMonitor",id:"podmonitor",level:2},{value:"ScrapeConfig",id:"scrapeconfig",level:2},{value:"\uc124\uc815",id:"\uc124\uc815",level:2},{value:"kubernetes_sd_configs",id:"kubernetes_sd_configs",level:3},{value:"relabel_configs",id:"relabel_configs",level:3},{value:"metric_relabel_configs",id:"metric_relabel_configs",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"servicemonitor",children:"ServiceMonitor"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus-operator.dev/docs/api-reference/api/#monitoring.coreos.com/v1.ServiceMonitor",children:"Prometheus Operator / Docs / API reference # ServiceMonitor"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config",children:"Prometheus / Docs / Configuration # scrape_config"})}),"\n"]})}),"\n",(0,s.jsxs)(n.p,{children:["ServiceMonitor\ub294 \uc218\uc9d1\ud558\uace0 \uc2f6\uc740 ",(0,s.jsx)(n.code,{children:"Service"}),"\ub97c \ub4f1\ub85d\ud558\ub294 CRD\uc785\ub2c8\ub2e4. ",(0,s.jsx)(n.a,{href:"#kubernetes_sd_configs",children:"kubernetes_sd_configs"}),"\uac00 ",(0,s.jsx)(n.code,{children:"role: endpoints"})," \uc124\uc815\uacfc \ud568\uaed8 \uc790\ub3d9\uc73c\ub85c \ucd94\uac00\ub418\uace0 \uad00\ub828 label\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  labels:\n    loliot.net/prometheus: monitoring\nspec:\n  jobLabel: istio\n  selector:\n    matchLabels:\n      <key>: <value>\n  namespaceSelector:\n    any: true\n  endpoints:\n    - port: http-monitoring # Service\uc5d0\uc11c prometheus\ub97c \uc704\ud574 \ub178\ucd9c\ud55c port\n      path: /metrics # \uae30\ubcf8\uac12: /metrics\n      interval: 15s\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"jobLabel: <labelKey>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Service.metadata.labels\uc5d0 \ub9e4\uce6d\ub418\ub294 labelKey\uc758 \uac12\uc744 job\uc758 \uac12\uc73c\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\uc120\uc5b8\ud558\uc9c0 \uc54a\uc73c\uba74 Service.metadata.name\uc758 \uac12\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"namespaceSelector"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"any: <bool>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"matchNames: []"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"any: false"}),", ",(0,s.jsx)(n.code,{children:"matchNames: []"}),"\ub85c \uc124\uc815\ud558\uba74 ServiceMonitor.metadata.namespace\uc5d0 \uc120\uc5b8\ub41c Service\ub9cc \ubaa8\ub2c8\ud130\ub9c1 \ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"selector: {}"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"LabelSelector"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"attachMetadata"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ubc1c\uacac\ub41c target\uc5d0 metadata\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\ud574\ub2f9 metadata\ub97c \uc218\uc9d1\ud558\uae30 \uc704\ud55c Role\uc774 \ud544\uc694\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"node: <bool>"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"endpoints: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"scheme: http"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"port: <servicePortName>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"path: /metrics"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"interval: <duration>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uc218\uc9d1 \uc8fc\uae30\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\uc124\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 global.scrape_interval\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"scrapeTimeout: <duration>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uc218\uc9d1 \uc2dc\uac04\uc774 \uc124\uc815\ub41c \uc2dc\uac04\uc744 \ucd08\uacfc\ud558\uba74 \uc218\uc9d1\uc744 \uc2e4\ud328\ub85c \uac04\uc8fc\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\uc124\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 global.scrape_timeout\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"honorLabels: false"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"metric\uc5d0 \uc874\uc7ac\ud558\ub358 label\uacfc \uc124\uc815\uc5d0 \uc758\ud574 Prometheus\uc5d0 \uc758\ud574 \ucd94\uac00\ub41c label\uc774 \ucda9\ub3cc\ud560 \uacbd\uc6b0 metric\uc5d0 \uc874\uc7ac\ud558\ub358 label\uc744 \uc0ac\uc6a9\ud560\uc9c0 \uc5ec\ubd80\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"true"}),"\ub85c \uc124\uc815\ud558\uba74 Prometheus\uc5d0 \uc758\ud574 \ucd94\uac00\ub41c label\uc740 \ubc84\ub824\uc9d1\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"false"}),"\ub85c \uc124\uc815\ud558\uba74 metric\uc5d0 \uc874\uc7ac\ud558\ub358 label\uc5d0 ",(0,s.jsx)(n.code,{children:"exported_"}),"\ub97c \ubd99\uc5ec \ubcf4\uc874\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"honorTimestamps: true"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"metric\uc5d0 \uc874\uc7ac\ud558\ub358 timestamp\ub97c \uc0ac\uc6a9\ud560\uc9c0 \uc5ec\ubd80\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"relabelings: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#relabel_configs",children:"relabel_configs"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metricRelabelings: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#metric_relabel_configs",children:"metric_relabel_configs"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsx)(n.p,{children:"\uc790\ub3d9\uc73c\ub85c \ucd94\uac00\ub41c label\uc744 \uc81c\uac70\ud558\ub824\uba74 \uc544\ub798 \uc124\uc815\uc744 \ucd94\uac00\ud558\uba74 \ub429\ub2c8\ub2e4."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spec:\n  endpoints:\n    - relabelings:\n        - action: labeldrop\n          regex: (container|endpoint|namespace|pod|service)\n      metricRelabelings:\n        - action: labeldrop\n          regex: instance\n"})})]}),"\n",(0,s.jsx)(n.h2,{id:"podmonitor",children:"PodMonitor"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus-operator.dev/docs/api-reference/api/#monitoring.coreos.com/v1.PodMonitor",children:"Prometheus Operator / Docs / API reference # PodMonitor"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config",children:"Prometheus / Docs / Configuration # scrape_config"})}),"\n"]})}),"\n",(0,s.jsxs)(n.p,{children:["PodMonitor\ub294 \uc218\uc9d1\ud558\uace0 \uc2f6\uc740 ",(0,s.jsx)(n.code,{children:"Pod"}),"\uc744 \ub4f1\ub85d\ud558\ub294 CRD\uc785\ub2c8\ub2e4. Service\uac00 \uc5c6\ub294 Pod\uc774\ub098, Service\uac00 \uc788\uc9c0\ub9cc \uadf8 \uc911 \ud2b9\uc815 Label\uc774 \uc788\ub294 Pod\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud560 \ub54c\ub9cc \uc0ac\uc6a9\ud558\uace0, \uadf8 \uc678\uc5d0\ub294 ServiceMonitor\ub97c \uc0ac\uc6a9\ud558\uc2dc\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'apiVersion: monitoring.coreos.com/v1\nkind: PodMonitor\nmetadata:\n  name: envoy-stats\n  namespace: monitoring\n  labels:\n    app: istio-proxy\nspec:\n  jobLabel: envoy-stats\n  selector:\n    matchExpressions: # labels\uc5d0 istio-prometheus-ignore \uac00 \uc5c6\ub294 \ubaa8\ub4e0 Pod\ub97c \uac10\uc2dc\ud569\ub2c8\ub2e4.\n      - { key: istio-prometheus-ignore, operator: DoesNotExist }\n  namespaceSelector:\n    any: true\n  podMetricsEndpoints:\n    - path: /stats/prometheus\n      interval: 15s\n      relabelings:\n        - action: keep\n          sourceLabels: [__meta_kubernetes_pod_container_name]\n          regex: "istio-proxy"\n        - action: keep\n          sourceLabels: [__meta_kubernetes_pod_annotationpresent_prometheus_io_scrape]\n        - sourceLabels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]\n          action: replace\n          regex: ([^:]+)(?::\\d+)?;(\\d+)\n          replacement: $1:$2\n          targetLabel: __address__\n        - action: labeldrop\n          regex: "__meta_kubernetes_pod_label_(.+)"\n        - sourceLabels: [__meta_kubernetes_namespace]\n          action: replace\n          targetLabel: namespace\n        - sourceLabels: [__meta_kubernetes_pod_name]\n          action: replace\n          targetLabel: pod_name\n'})}),"\n",(0,s.jsx)(n.h2,{id:"scrapeconfig",children:"ScrapeConfig"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus-operator.dev/docs/api-reference/api/#monitoring.coreos.com/v1alpha1.ScrapeConfig",children:"Prometheus Operator / Docs / API reference # ScrapeConfig"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config",children:"Prometheus / Docs / Configuration # scrape_config"})}),"\n"]})}),"\n",(0,s.jsx)(n.p,{children:"ScrapeConfig\ub294 ServiceMonitor\ub098 PodMonitor\ub85c \uc124\uc815\ud558\uae30 \uc5b4\ub824\uc6b4 \uacbd\uc6b0\uc5d0 \uc0ac\uc6a9\ud558\ub294 CRD\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: monitoring.coreos.com/v1alpha1\nkind: ScrapeConfig\nspec:\n  staticConfigs:\n    - targets: []\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"staticConfigs: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"labels"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"targets: []"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metricRelabelings"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#metric_relabel_configs",children:"metric_relabel_configs"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"relabelings: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#relabel_configs",children:"relabel_configs"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\uc124\uc815",children:"\uc124\uc815"}),"\n",(0,s.jsx)(n.h3,{id:"kubernetes_sd_configs",children:"kubernetes_sd_configs"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/#kubernetes_sd_config",children:"Prometheus / Docs / Configuration # kubernetes_sd_config"})}),"\n"]})}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"role: <role>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"node"}),": ",(0,s.jsx)(n.code,{children:"__meta_kubernetes_node"}),"\ub85c \uc2dc\uc791\ud558\ub294 \ub808\uc774\ube14\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"service"}),": ",(0,s.jsx)(n.code,{children:"__meta_kubernetes_service"}),"\ub85c \uc2dc\uc791\ud558\ub294 \ub808\uc774\ube14\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pod"}),": ",(0,s.jsx)(n.code,{children:"__meta_kubernetes_pod"}),"\ub85c \uc2dc\uc791\ud558\ub294 \ub808\uc774\ube14\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"endpoints"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"__meta_kubernetes_endpoints"}),"\ub85c \uc2dc\uc791\ud558\ub294 \ub808\uc774\ube14\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"service"}),"\uc640 ",(0,s.jsx)(n.code,{children:"pod"}),"\uc5d0 \ud574\ub2f9\ud558\ub294 \ub808\uc774\ube14\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"endpointslice"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"__meta_kubernetes_endpointslice"}),"\ub85c \uc2dc\uc791\ud558\ub294 \ub808\uc774\ube14\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"service"}),"\uc640 ",(0,s.jsx)(n.code,{children:"pod"}),"\uc5d0 \ud574\ub2f9\ud558\ub294 \ub808\uc774\ube14\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ingress"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"relabel_configs",children:"relabel_configs"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config",children:"Prometheus / Docs / Configuration # relabel_config"})}),"\n"]})}),"\n",(0,s.jsxs)(n.p,{children:["\uc2a4\ud06c\ub7a9\ud558\uae30 \uc804\uc5d0 \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac \ub4f1\uc5d0 \uc758\ud574 \uc124\uc815\ub41c \ub808\uc774\ube14\uc744 \uc870\uc791\ud558\ub294 \uc124\uc815\uc785\ub2c8\ub2e4. \uc124\uc815\ub41c \uc21c\uc11c\ub85c \uc2e4\ud589\ub429\ub2c8\ub2e4. ",(0,s.jsx)(n.code,{children:"__"}),"\ub85c \uc2dc\uc791\ud558\ub294 \ub808\uc774\ube14\uc740 \ub9ac\ub808\uc774\ube14\ub9c1 \ud6c4 \uc81c\uac70\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'spec:\n  endpoints:\n    - relabelings:\n        - sourceLabels:\n            - <sourceLabel>\n          separator: ";"\n          action: replace # \uae30\ubcf8\uac12: replace\n          regex: (.*) # \uae30\ubcf8\uac12: (.+)\n          targetLabel: <targetLabel>\n          # modulus: <int>\n          replacement: $1 # \uae30\ubcf8\uac12: $1\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"sourceLabels: []"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'separator: ";"'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uac12\uc774 \uc5ec\ub7ec\uac1c\uc778 \uacbd\uc6b0 \uac12\uc744 \uc5f0\uacb0\ud558\uae30 \uc704\ud55c \uad6c\ubd84\uc790\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"<value><separator><value>"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"actions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"replace"}),": ",(0,s.jsx)(n.code,{children:"sourceLabels"}),"\uc911 \uac12\uc774 ",(0,s.jsx)(n.code,{children:"regex"}),"\uc5d0 \ub9de\ub294 \ub808\uc774\ube14\uc744 \ucc3e\uc2b5\ub2c8\ub2e4. \ucc3e\uc740 \ub808\uc774\ube14\uc744 ",(0,s.jsx)(n.code,{children:"targetLabel"}),"\ub85c \ubcc0\uacbd\ud558\uace0 \uac12\uc740 ",(0,s.jsx)(n.code,{children:"replacement"}),"\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"keep"}),": ",(0,s.jsx)(n.code,{children:"sourceLabels"}),"\uc911 ",(0,s.jsx)(n.code,{children:"regex"}),"\uc640 \uac12\uc774 \ub9e4\uce6d\ub418\ub294 \ub808\uc774\ube14\ub9cc \uc720\uc9c0\ud569\ub2c8\ub2e4"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"drop"}),": ",(0,s.jsx)(n.code,{children:"sourceLabels"}),"\uc911 ",(0,s.jsx)(n.code,{children:"regex"}),"\uc640 \uac12\uc774 \ub9e4\uce6d\ub418\ub294 \ub808\uc774\ube14\uc744 \uc81c\uac70\ud569\ub2c8\ub2e4"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"lowercase"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"uppercase"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"hashmod"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"labelmap"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"labeldrop"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"labelkeep"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"__"}),"\ub85c \uc2dc\uc791\ud558\ub294 \ub808\uc774\ube14\uc740 relabel \uacfc\uc815\uc774 \ubaa8\ub450 \ub05d\ub09c \ud6c4\uc5d0\ub294 \uc81c\uac70\ub429\ub2c8\ub2e4."]})}),"\n",(0,s.jsx)(n.h3,{id:"metric_relabel_configs",children:"metric_relabel_configs"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs",children:"Prometheus / Docs / Configuration # metric_relabel_configs"})}),"\n"]})}),"\n",(0,s.jsxs)(n.p,{children:["\uc2a4\ud06c\ub7a9\ud55c \ud6c4 \uc800\uc7a5\ud558\uae30 \uc804\uc5d0 \ub808\uc774\ube14\uc744 \uc870\uc791\ud558\ub294 \uc124\uc815\uc785\ub2c8\ub2e4. \uc124\uc815 \ubc29\ubc95\uc740 ",(0,s.jsx)(n.code,{children:"relabel_configs"}),"\uc640 \uac19\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.p,{children:"\uc0ac\uc6a9 \uc0ac\ub840 \uc911 \ud558\ub098\ub294 \uba54\ud2b8\ub9ad\uc744 \uc81c\uac70\ud558\ub294 \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'spec:\n  endpoints:\n    - metricRelabelings:\n        - sourceLabels:\n            - __name__\n          action: drop\n          regex: "go_.*"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);