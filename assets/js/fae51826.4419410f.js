"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[48641],{32658:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>a,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"mlops/mlops/kubernetes/workloads/pod-lifecycle","title":"Pod \uc218\uba85 \uc8fc\uae30","description":"kubernetes Pod \uc218\uba85 \uc8fc\uae30","source":"@site/docs/mlops/mlops/kubernetes/workloads/pod-lifecycle.mdx","sourceDirName":"mlops/mlops/kubernetes/workloads","slug":"/mlops/mlops/kubernetes/workloads/pod-lifecycle","permalink":"/docs/mlops/mlops/kubernetes/workloads/pod-lifecycle","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1731420115000,"frontMatter":{"id":"pod-lifecycle","title":"Pod \uc218\uba85 \uc8fc\uae30","sidebar_label":"Pod \uc218\uba85 \uc8fc\uae30","description":"kubernetes Pod \uc218\uba85 \uc8fc\uae30","keywords":["kubernetes","pod","lifecycle"]},"sidebar":"mlops","previous":{"title":"Controller","permalink":"/docs/mlops/mlops/kubernetes/architecture/controller"},"next":{"title":"Deployment","permalink":"/docs/mlops/mlops/kubernetes/workloads/deployment"}}');var r=s(74848),o=s(28453);const c={id:"pod-lifecycle",title:"Pod \uc218\uba85 \uc8fc\uae30",sidebar_label:"Pod \uc218\uba85 \uc8fc\uae30",description:"kubernetes Pod \uc218\uba85 \uc8fc\uae30",keywords:["kubernetes","pod","lifecycle"]},i=void 0,d={},t=[{value:"Probe",id:"probe",level:2},{value:"Termination",id:"termination",level:2}];function p(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"probe",children:"Probe"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes",children:"https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"kubelet"}),"\uc5d0 \uc758\ud574 \uc8fc\uae30\uc801\uc73c\ub85c \uc218\ud589\ub418\ub294 \uc9c4\ub2e8 \uc791\uc5c5\uc744 ",(0,r.jsx)(n.code,{children:"Probe"}),"\ub77c\uace0 \ud569\ub2c8\ub2e4. \uc9c4\ub2e8 \uc791\uc5c5 \uc218\ud589\uc744 \uc704\ud574 \ubbf8\ub9ac \uad6c\ud604\ub41c \ud578\ub4e4\ub7ec\uac00 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"spec:\n  restartPolicy: Always # Always|OnFailure|Never\n  containers:\n    - # ...\n      # startupProbe|livenessProbe|readinessProbe\n      livenessProbe:\n        # exec|httpGet|tcpSocket|grpc\n        httpGet:\n          path: /healthz\n          port: 8080\n        initialDelaySeconds: 0 # \ucc98\uc74c probe\ub97c \uc2dc\uc791\ud558\uae30 \uc804 \ub300\uae30 \uc2dc\uac04\n        periodSeconds: 10 # probe\ub97c \uc2e4\ud589\ud558\ub294 \uc8fc\uae30\n        successThreshold: 1 # Success\ub85c \ud310\ub2e8\ud558\uae30 \uc704\ud55c \ucd5c\uc18c \uc131\uacf5 \ud69f\uc218\n        failureThreshold: 3 # Failure\ub85c \ud310\ub2e8\ud558\uae30 \uc704\ud55c \ucd5c\uc18c \uc2e4\ud328 \ud69f\uc218\n        timeoutSeconds: 1 # probe\ub97c \uc2e4\ud589\ud558\ub294 \uc2dc\uac04 \uc81c\ud55c\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"kubectl explain pod.spec.containers.startupProbe --recursive\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"startupProbe"}),": \ucee8\ud14c\uc774\ub108 \ub0b4\uc758 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \uc2dc\uc791\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Failure \uc0c1\ud0dc\uac00 \ub418\uba74 \ucee8\ud14c\uc774\ub108\ub294 ",(0,r.jsx)(n.code,{children:"restartPolicy"}),"\uc5d0 \ub530\ub77c \ucc98\ub9ac\ub429\ub2c8\ub2e4"]}),"\n",(0,r.jsxs)(n.li,{children:["Success \uc0c1\ud0dc\uac00 \ub41c \ud6c4\uc5d0 ",(0,r.jsx)(n.code,{children:"livenessProbe"}),", ",(0,r.jsx)(n.code,{children:"readinessProbe"}),"\uac00 \uc2dc\uc791\ub429\ub2c8\ub2e4"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"livenessProbe"}),": \ucee8\ud14c\uc774\ub108\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uc791\ub3d9 \uc911\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Failure \uc0c1\ud0dc\uac00 \ub418\uba74 \ucee8\ud14c\uc774\ub108\ub294 ",(0,r.jsx)(n.code,{children:"restartPolicy"}),"\uc5d0 \ub530\ub77c \ucc98\ub9ac\ub429\ub2c8\ub2e4"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"readinessProbe"}),": \ucee8\ud14c\uc774\ub108\uac00 \uc694\uccad\uc744 \ucc98\ub9ac\ud560 \uc900\ube44\uac00 \ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Failure \uc0c1\ud0dc\uac00 \ub418\uba74 Pod\uc758 ",(0,r.jsx)(n.code,{children:"Ready"})," \uc0c1\ud0dc\uac00 ",(0,r.jsx)(n.code,{children:"False"}),"\ub85c \ubcc0\uacbd\ub429\ub2c8\ub2e4"]}),"\n",(0,r.jsx)(n.li,{children:"\uc5f0\uacb0\ub41c Service\uc758 Endpoint\uc5d0\uc11c \uc81c\uac70\ub429\ub2c8\ub2e4"}),"\n",(0,r.jsx)(n.li,{children:"\ubb38\uc81c \uc788\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \uc811\uadfc\uc744 \uc0ac\uc804\uc5d0 \ucc28\ub2e8\ud574 \uc90c\uc73c\ub85c\uc368 \ubb38\uc81c\uac00 \uc804\ud30c\ub418\ub294 \uac83\uc744 \ubc29\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ExecAction(exec)"}),": \uc8fc\uc5b4\uc9c4 \ucee4\ub9e8\ub4dc \uc218\ud589 \ud6c4 ",(0,r.jsx)(n.code,{children:"return code == 0"})," \uc774\uba74 \uc131\uacf5"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TCPSocketAction(tcpSocket)"}),": \uc9c0\uc815 port\uac00 \ud65c\uc131\ud654 \ub418\uc5b4 \uc788\ub2e4\uba74 \uc131\uacf5"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"HTTPGetAction(httpGet)"}),": \uc9c0\uc815 ",(0,r.jsx)(n.code,{children:"<host>:<port><path>"})," \uc5d0 GET \uc694\uccad \uc218\ud589 \ud6c4 ",(0,r.jsx)(n.code,{children:"200 <= status code < 400"})," \uc774\uba74 \uc131\uacf5"]}),"\n",(0,r.jsxs)(n.li,{children:["\uc9c4\ub2e8 \uc131\uacf5 \ub610\ub294 probe\uac00 \uc5c6\uc744 \uc2dc ",(0,r.jsx)(n.code,{children:"Success"}),", \uc2e4\ud328 \uc2dc ",(0,r.jsx)(n.code,{children:"Failure"}),", \uc9c4\ub2e8 \uc790\uccb4\uac00 \uc2e4\ud328\ud558\ub294 \uacbd\uc6b0 ",(0,r.jsx)(n.code,{children:"Unknown"}),"\uc73c\ub85c \ud45c\uc2dc\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"termination",children:"Termination"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\uc885\ub8cc \uc2dc\uc791","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Pod","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".spec.preStop"})," \ud6c5\uc774 \uc815\uc758\ub41c \uacbd\uc6b0 \ud574\ub2f9 \ud6c5\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:["\ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\uc5d0 ",(0,r.jsx)(n.code,{children:"STOPSIGNAL"}),"\uc774 \uc788\ub294 \uacbd\uc6b0 \uc774 \uc2e0\ud638\ub97c, \uc5c6\ub294 \uacbd\uc6b0 ",(0,r.jsx)(n.code,{children:"SIGTERM"}),"\uc744 \ucee8\ud14c\uc774\ub108\uc758 \uae30\ubcf8 \ud504\ub85c\uc138\uc2a4\uc5d0 \uc804\uc1a1\ud569\ub2c8\ub2e4.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pod \ub0b4\uc758 \ucee8\ud14c\uc774\ub108\ub4e4\uc740 \ub79c\ub364\ud55c \uc21c\uc11c\ub85c \uc2e0\ud638\ub97c \ubc1b\uc2b5\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\uc885\ub8cc\uac00 \uc2dc\uc791\ub41c \ud6c4 ",(0,r.jsx)(n.code,{children:".spec.terminationGracePeriodSeconds"}),"\uc774 \uc9c0\ub098\uba74 ",(0,r.jsx)(n.code,{children:"SIGKILL"}),"\uc744 \ucee8\ud14c\uc774\ub108\uc758 \uae30\ubcf8 \ud504\ub85c\uc138\uc2a4\uc5d0 \uc804\uc1a1\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Service","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uc885\ub8cc\uac00 \uc2dc\uc791\ub41c Pod\uc758 Endpoint\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>i});var l=s(96540);const r={},o=l.createContext(r);function c(e){const n=l.useContext(o);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(o.Provider,{value:n},e.children)}}}]);