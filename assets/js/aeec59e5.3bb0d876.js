"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[71481],{28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>i});var n=t(96540);const r={},o=n.createContext(r);function a(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(o.Provider,{value:s},e.children)}},99317:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"mlops/kubernetes/tools/kubespray/auth","title":"Kubespray \uc778\uc99d/\uc778\uac00 \ubcc0\uacbd","description":"Kubespray \uc778\uc99d/\uc778\uac00 \ubcc0\uacbd","source":"@site/docs/mlops/kubernetes/tools/kubespray/auth.mdx","sourceDirName":"mlops/kubernetes/tools/kubespray","slug":"/mlops/kubernetes/tools/kubespray/auth","permalink":"/docs/mlops/kubernetes/tools/kubespray/auth","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/kubernetes/tools/kubespray/auth.mdx","tags":[],"version":"current","lastUpdatedAt":1741716219000,"frontMatter":{"id":"auth","title":"Kubespray \uc778\uc99d/\uc778\uac00 \ubcc0\uacbd","sidebar_label":"\uc778\uc99d/\uc778\uac00 \ubcc0\uacbd","description":"Kubespray \uc778\uc99d/\uc778\uac00 \ubcc0\uacbd","keywords":["kubespray","cert","authn","authz"]},"sidebar":"kubernetes","previous":{"title":"Node \ucd94\uac00/\uc81c\uac70","permalink":"/docs/mlops/kubernetes/tools/kubespray/node"},"next":{"title":"\ubc14\uc774\ub108\ub9ac/\uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc","permalink":"/docs/mlops/kubernetes/tools/kubespray/download"}}');var r=t(74848),o=t(28453);const a={id:"auth",title:"Kubespray \uc778\uc99d/\uc778\uac00 \ubcc0\uacbd",sidebar_label:"\uc778\uc99d/\uc778\uac00 \ubcc0\uacbd",description:"Kubespray \uc778\uc99d/\uc778\uac00 \ubcc0\uacbd",keywords:["kubespray","cert","authn","authz"]},i=void 0,u={},l=[{value:"kube-apiserver \uc778\uc99d\uc11c\uc5d0 SAN \ucd94\uac00",id:"kube-apiserver-\uc778\uc99d\uc11c\uc5d0-san-\ucd94\uac00",level:2},{value:"OIDC \uc124\uc815",id:"oidc-\uc124\uc815",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"kube-apiserver-\uc778\uc99d\uc11c\uc5d0-san-\ucd94\uac00",children:"kube-apiserver \uc778\uc99d\uc11c\uc5d0 SAN \ucd94\uac00"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"/docs/mlops/kubernetes/tools/kubespray/ha#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%95%EC%9D%98-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC",children:"HA / \uc0ac\uc6a9\uc790 \uc815\uc758 \ub124\ud2b8\uc6cc\ud06c"})}),"\n",(0,r.jsx)(s.h2,{id:"oidc-\uc124\uc815",children:"OIDC \uc124\uc815"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",metastring:'title="group_vars/k8s_cluster/k8s-cluster.yml"',children:'kube_oidc_auth: true\n\nkube_oidc_url: ""\nkube_oidc_client_id: ""\n# kube_oidc_ca_file: "{{ kube_cert_dir }}/ca.pem"\nkube_oidc_username_claim: email\n# kube_oidc_username_prefix: \'oidc:\'\nkube_oidc_groups_claim: groups\n# kube_oidc_groups_prefix: \'oidc:\'\n'})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"ansible-playbook -i <inventory> -b upgrade-cluster.yml --tags master\n"})}),"\n",(0,r.jsxs)(s.p,{children:["\ud074\ub77c\uc774\uc5b8\ud2b8 \uc124\uc815\uc740 ",(0,r.jsx)(s.a,{href:"/docs/mlops/mlops/auth/authn",children:"Kubernetes \uc778\uc99d(Authn)"}),"\uc744 \ucc38\uace0\ud558\uc138\uc694."]}),"\n",(0,r.jsxs)(s.admonition,{type:"info",children:[(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"/etc/kubernetes/kubeadm-config.yaml"}),"\uc5d0 OIDC \uc124\uc815\uc774 \ubc18\uc601\ub418\uc5c8\uc9c0\ub9cc kube-apiserver\uc5d0 \uc635\uc158\uc774 \ucd94\uac00\ub418\uc9c0 \uc54a\uc740 \uacbd\uc6b0 kube_control_plane \ub178\ub4dc\uc5d0 \uc811\uc18d\ud558\uc5ec \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4."]}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"kubeadm init phase control-plane apiserver --config=/etc/kubernetes/kubeadm-config.yaml\n"})})]})]})}function d(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);