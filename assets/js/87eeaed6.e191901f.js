"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[18818],{28453:(e,r,s)=>{s.d(r,{R:()=>a,x:()=>o});var l=s(96540);const t={},n=l.createContext(t);function a(e){const r=l.useContext(n);return l.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),l.createElement(n.Provider,{value:r},e.children)}},32316:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>i});const l=JSON.parse('{"id":"mlops/kubernetes/cluster/cluster-api/cluster-api","title":"Cluster API Operator \uc124\uce58 \uac00\uc774\ub4dc","description":"Cluster API Operator \uc124\uce58 \uac00\uc774\ub4dc","source":"@site/docs/mlops/kubernetes/cluster/cluster-api/cluster-api.mdx","sourceDirName":"mlops/kubernetes/cluster/cluster-api","slug":"/mlops/kubernetes/cluster/cluster-api/","permalink":"/docs/mlops/kubernetes/cluster/cluster-api/","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/kubernetes/cluster/cluster-api/cluster-api.mdx","tags":[],"version":"current","lastUpdatedAt":1762182777000,"frontMatter":{"id":"cluster-api","title":"Cluster API Operator \uc124\uce58 \uac00\uc774\ub4dc","sidebar_label":"\uc124\uce58 \uac00\uc774\ub4dc","description":"Cluster API Operator \uc124\uce58 \uac00\uc774\ub4dc","keywords":["cluster-api","operator","helm"]},"sidebar":"kubernetes","previous":{"title":"Cluster \uc5c5\uadf8\ub808\uc774\ub4dc","permalink":"/docs/mlops/kubernetes/cluster/kubespray/upgrade"},"next":{"title":"Cluster \uc0dd\uc131\ud558\uae30","permalink":"/docs/mlops/kubernetes/cluster/cluster-api/cluster"}}');var t=s(74848),n=s(28453);const a={id:"cluster-api",title:"Cluster API Operator \uc124\uce58 \uac00\uc774\ub4dc",sidebar_label:"\uc124\uce58 \uac00\uc774\ub4dc",description:"Cluster API Operator \uc124\uce58 \uac00\uc774\ub4dc",keywords:["cluster-api","operator","helm"]},o=void 0,c={},i=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"\uc0ad\uc81c",id:"\uc0ad\uc81c",level:2}];function p(e){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,t.jsx)(r.admonition,{title:"References",type:"info",children:(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"https://cluster-api-operator.sigs.k8s.io/02_installation/04_helm-chart-installation",children:"Cluster API Operator / Installation / Using Helm Charts"})}),"\n"]})}),"\n",(0,t.jsx)(r.admonition,{type:"warning",children:(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"/docs/mlops/mlops/auth/cert-manager/",children:"cert-manager"}),"\uac00 \uc124\uce58\ub418\uc5b4\uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."]})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"helm repo add capi-operator https://kubernetes-sigs.github.io/cluster-api-operator\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"helm repo update capi-operator \\\n&& helm search repo capi-operator/cluster-api-operator -l | head -n 10\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"helm pull capi-operator/cluster-api-operator --version 0.22.0\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"helm show values capi-operator/cluster-api-operator --version 0.22.0 > cluster-api-operator-0.22.0.yaml\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",metastring:'title="cluster-api-operator-values.yaml"',children:"core:\n  cluster-api:\n    version: v1.10.4\n    namespace: capi-system\n    createNamespace: true\n"})}),"\n",(0,t.jsx)(r.admonition,{type:"info",children:(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://cluster-api.sigs.k8s.io/reference/providers.html",children:"Cluster API Docs / Reference / Provider List"})})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"core"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"cluster-api"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"version: <version>"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"https://github.com/kubernetes-sigs/cluster-api/releases",children:"Cluster API GitHub / Releases"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"helm template cluster-api-operator capi-operator/cluster-api-operator \\\n    --version 0.22.0 \\\n    -n capi-operator-system \\\n    -f cluster-api-operator-values.yaml \\\n    > cluster-api-operator.yaml\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"helm upgrade -i cluster-api-operator capi-operator/cluster-api-operator \\\n    --history-max 5 \\\n    --version 0.22.0 \\\n    -n capi-operator-system \\\n    -f cluster-api-operator-values.yaml\n"})}),"\n",(0,t.jsx)(r.h2,{id:"\uc0ad\uc81c",children:"\uc0ad\uc81c"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"for crd in $(kubectl get crd -o name | grep 'cluster.x-k8s.io' |\n  grep -v 'operator.cluster.x-k8s.io'); do\n\n  kind=$(kubectl get \"$crd\" -o jsonpath='{.spec.names.plural}')\n  group=$(kubectl get \"$crd\" -o jsonpath='{.spec.group}')\n  kubectl delete \"$kind.$group\" --all --all-namespaces\ndone\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"for crd in $(kubectl get crd -o name | grep 'operator.cluster.x-k8s.io'); do\n\n  kind=$(kubectl get \"$crd\" -o jsonpath='{.spec.names.plural}')\n  group=$(kubectl get \"$crd\" -o jsonpath='{.spec.group}')\n  kubectl delete \"$kind.$group\" --all --all-namespaces\ndone\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"helm uninstall cluster-api-operator -n capi-operator-system\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"kubectl get crd -oname | grep --color=never 'cluster.x-k8s.io' | xargs kubectl delete\n"})})]})}function u(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}}}]);