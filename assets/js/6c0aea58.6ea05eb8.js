"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[10958],{28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>l});var t=o(96540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}},83956:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"mlops/network/istio/traffic-management/envoy-filter/ext-proc","title":"EnvoyFilter\ub85c \uc678\ubd80 \ud504\ub85c\uc138\uc11c\uc640 \ud1b5\uc2e0\ud558\uae30","description":"EnvoyFilter\ub85c \uc678\ubd80 \ud504\ub85c\uc138\uc11c\uc640 \ud1b5\uc2e0\ud558\uae30","source":"@site/docs/mlops/network/istio/traffic-management/envoy-filter/ext-proc.mdx","sourceDirName":"mlops/network/istio/traffic-management/envoy-filter","slug":"/mlops/network/istio/traffic-management/envoy-filter/ext-proc","permalink":"/docs/mlops/network/istio/traffic-management/envoy-filter/ext-proc","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/network/istio/traffic-management/envoy-filter/ext-proc.mdx","tags":[],"version":"current","lastUpdatedAt":1754575588000,"frontMatter":{"id":"ext-proc","title":"EnvoyFilter\ub85c \uc678\ubd80 \ud504\ub85c\uc138\uc11c\uc640 \ud1b5\uc2e0\ud558\uae30","sidebar_label":"\uc678\ubd80 \ud504\ub85c\uc138\uc11c","description":"EnvoyFilter\ub85c \uc678\ubd80 \ud504\ub85c\uc138\uc11c\uc640 \ud1b5\uc2e0\ud558\uae30","keywords":["EnvoyFilter","ext-proc"]},"sidebar":"network","previous":{"title":"\uc678\ubd80 \uc778\uc99d\uc11c\ubc84","permalink":"/docs/mlops/network/istio/traffic-management/envoy-filter/ext-authz"},"next":{"title":"Authorization","permalink":"/docs/mlops/network/istio/security/authorization/"}}');var r=o(74848),i=o(28453);const s={id:"ext-proc",title:"EnvoyFilter\ub85c \uc678\ubd80 \ud504\ub85c\uc138\uc11c\uc640 \ud1b5\uc2e0\ud558\uae30",sidebar_label:"\uc678\ubd80 \ud504\ub85c\uc138\uc11c",description:"EnvoyFilter\ub85c \uc678\ubd80 \ud504\ub85c\uc138\uc11c\uc640 \ud1b5\uc2e0\ud558\uae30",keywords:["EnvoyFilter","ext-proc"]},l=void 0,c={},d=[{value:"ExternalProcessor",id:"externalprocessor",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"externalprocessor",children:"ExternalProcessor"}),"\n",(0,r.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/ext_proc_filter",children:"Envoy / Configuration / HTTP / Filter / External Processor"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/filters/http/ext_proc/v3/ext_proc.proto",children:"Envoy / API / V3 / Extensions / Filters / HTTP / External Processor"})}),"\n"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'spec:\n  configPatches:\n    - applyTo: HTTP_FILTER\n      match:\n        listener:\n          filterChain:\n            filter:\n              name: "envoy.filters.network.http_connection_manager"\n      patch:\n        operation: INSERT_FIRST\n        value:\n          name: envoy.filters.http.ext_proc\n          typed_config:\n            "@type": type.googleapis.com/envoy.extensions.filters.http.ext_proc.v3.ExternalProcessor\n            grpc_service:\n              envoy_grpc:\n                cluster_name: outbound|<port>||<name>.<namespace>.svc.cluster.local\n            failure_mode_allow: false\n            allow_mode_override: true\n            processing_mode:\n              request_body_mode: "FULL_DUPLEX_STREAMED"\n              response_header_mode: "SKIP"\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"grpc_service"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"allow_mode_override: false"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"true"}),"\ub85c \uc124\uc815\ud558\uba74 ",(0,r.jsx)(n.code,{children:"ProcessingResponse.mode_override"}),"\uc5d0 \ub530\ub77c ",(0,r.jsx)(n.code,{children:"processing_mode"}),"\ub97c \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"processing_mode"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"request_header_mode: SEND|SKIP"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"request_body_mode: NONE|STREAMED|BUFFERED|BUFFERED_PARTIAL|FULL_DUPLEX_STREAMED"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"request_trailer_mode: SKIP|SEND"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"response_header_mode: SEND|SKIP"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"response_body_mode: NONE|STREAMED|BUFFERED|BUFFERED_PARTIAL|FULL_DUPLEX_STREAMED"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"response_trailer_mode: SKIP|SEND"})}),"\n"]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);