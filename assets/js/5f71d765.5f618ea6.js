"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[26438],{18690:(e,l,n)=>{n.r(l),n.d(l,{assets:()=>i,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"mlops/network/metallb/metallb","title":"MetalLB","description":"MetalLB","source":"@site/docs/mlops/network/metallb/metallb.mdx","sourceDirName":"mlops/network/metallb","slug":"/mlops/network/metallb/","permalink":"/docs/mlops/network/metallb/","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/network/metallb/metallb.mdx","tags":[],"version":"current","lastUpdatedAt":1750438326000,"frontMatter":{"id":"metallb","title":"MetalLB","sidebar_label":"MetalLB","description":"MetalLB","keywords":["CNI","MetalLB"]},"sidebar":"network","previous":{"title":"whereabouts(IPAM)","permalink":"/docs/mlops/network/multus/whereabouts"},"next":{"title":"Load Balancer","permalink":"/docs/mlops/network/metallb/load-balancer"}}');var t=n(74848),s=n(28453);const r={id:"metallb",title:"MetalLB",sidebar_label:"MetalLB",description:"MetalLB",keywords:["CNI","MetalLB"]},o=void 0,i={},c=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2}];function d(e){const l={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"https://metallb.universe.tf/installation/",children:"https://metallb.universe.tf/installation/"})}),"\n"]}),"\n",(0,t.jsx)(l.admonition,{type:"warning",children:(0,t.jsxs)(l.p,{children:["kube-proxy\ub97c IPVS \ubaa8\ub4dc\ub85c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 kube-proxy ConfigMap\uc758 ",(0,t.jsx)(l.code,{children:".ipvs.strictARP"}),"\ub97c ",(0,t.jsx)(l.code,{children:"true"}),"\ub85c \uc124\uc815\ud574\uc57c \ud569\ub2c8\ub2e4."]})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-shell",children:"helm repo add metallb https://metallb.github.io/metallb\n"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-shell",children:"helm repo update metallb \\\n&& helm search repo metallb/metallb -l | head -n 10\n"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-shell",children:"helm pull metallb/metallb --version 0.15.2\n"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-shell",children:"helm show values metallb/metallb --version 0.15.2 > metallb-0.15.2.yaml\n"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-yaml",metastring:'title="metallb-values.yaml"',children:"loadBalancerClass: metallb\n\ncontroller:\n  enabled: true\n\n  labels: {}\n\nspeaker:\n  enabled: true\n\n  ignoreExcludeLB: true\n\n  labels: {}\n\n  frr:\n    enabled: true\n\nfrrk8s:\n  enabled: false\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"loadBalancerClass: <loadBalancerClass>"}),": \uc124\uc815\ud55c \uacbd\uc6b0 Service\uc758 ",(0,t.jsx)(l.code,{children:".spec.loadBalancerClass"}),"\uac00 \uc774 \uac12\uacfc \uc77c\uce58\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"speaker"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"ignoreExcludeLB: false"}),": ",(0,t.jsx)(l.code,{children:"node.kubernetes.io/exclude-from-external-load-balancers"})," \ub808\uc774\ube14\uc744 \ubb34\uc2dc\ud560\uc9c0 \uc5ec\ubd80\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-shell",children:"helm template metallb metallb/metallb \\\n    --version 0.15.2 \\\n    -n metallb \\\n    -f metallb-values.yaml \\\n    > metallb.yaml\n"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-shell",children:"helm upgrade metallb metallb/metallb \\\n    --install \\\n    --history-max 5 \\\n    --version 0.15.2 \\\n    -n metallb \\\n    -f metallb-values.yaml\n"})})]})}function m(e={}){const{wrapper:l}={...(0,s.R)(),...e.components};return l?(0,t.jsx)(l,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,l,n)=>{n.d(l,{R:()=>r,x:()=>o});var a=n(96540);const t={},s=a.createContext(t);function r(e){const l=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function o(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(s.Provider,{value:l},e.children)}}}]);