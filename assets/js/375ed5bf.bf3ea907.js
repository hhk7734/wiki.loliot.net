"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[50466],{41557:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>d,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>o});var s=n(74848),r=n(28453);const a={id:"dlq",title:"NATS Dead Letter Queue",sidebar_label:"Dead Letter Queue",description:"NATS JetStream Dead Letter Queue",keywords:["nats","jetstream","dead letter queue","dlq"]},d=void 0,l={id:"mlops/mlops/event/nats/dlq",title:"NATS Dead Letter Queue",description:"NATS JetStream Dead Letter Queue",source:"@site/docs/mlops/mlops/event/nats/dlq.mdx",sourceDirName:"mlops/mlops/event/nats",slug:"/mlops/mlops/event/nats/dlq",permalink:"/docs/mlops/mlops/event/nats/dlq",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1724774597e3,frontMatter:{id:"dlq",title:"NATS Dead Letter Queue",sidebar_label:"Dead Letter Queue",description:"NATS JetStream Dead Letter Queue",keywords:["nats","jetstream","dead letter queue","dlq"]},sidebar:"mlops",previous:{title:"Auth",permalink:"/docs/mlops/mlops/event/nats/auth"},next:{title:"Redis",permalink:"/docs/mlops/mlops/event/redis/"}},i={},o=[{value:"Max Deleveries",id:"max-deleveries",level:2},{value:"Dead Letter Queue Stream",id:"dead-letter-queue-stream",level:2}];function m(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"max-deleveries",children:"Max Deleveries"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.nats.io/using-nats/developer/develop_jetstream/consumers#dead-letter-queues-type-functionality",children:"https://docs.nats.io/using-nats/developer/develop_jetstream/consumers#dead-letter-queues-type-functionality"})}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Consumer\uc758 Max Deleveries\uc5d0 \uc815\uc758\ub41c \ud69f\uc218\ub9ce\ud07c \uba54\uc2dc\uc9c0\ub97c \ubc1b\uc740 \ud6c4\uc5d0\ub3c4 \ucc98\ub9ac\uac00 \ub418\uc9c0 \uc54a\uc740 \uba54\uc2dc\uc9c0\ub294 ",(0,s.jsx)(t.code,{children:"$JS.EVENT.ADVISORY.CONSUMER.MAX_DELIVERIES.<streamName>.<consumerName>"})," subject\ub85c \uc544\ub798\uc640 \uac19\uc740 \uba54\uc2dc\uc9c0\uac00 \uc804\ub2ec\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "type": "io.nats.jetstream.advisory.v1.max_deliver",\n  "id": "hqEOPR3rYFuICTKm1eo2Tm",\n  "timestamp": "2023-01-02T03:04:05Z",\n  "stream": "<streamName>",\n  "consumer": "<consumerName>",\n  "stream_seq": <streamSeq>,\n  "deliveries": <maxDeliveries>\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc5ec\ub7ec\ubc88 \uc804\ub2ec\ub41c \uba54\uc2dc\uc9c0\uac00 \ubb34\uc5c7\uc778\uc9c0 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"nats stream get <streamName> <streamSeq>\n"})}),"\n",(0,s.jsx)(t.h2,{id:"dead-letter-queue-stream",children:"Dead Letter Queue Stream"}),"\n",(0,s.jsx)(t.p,{children:"\uc774\ubca4\ud2b8 \uba54\uc2dc\uc9c0\ub97c \ubc1b\uc558\uc744 \ub54c \uc5d0\ub7ec\ucc98\ub9ac\uac00 \uac00\ub2a5\ud55c \uacbd\uc6b0 Max Deleveries \uc870\uac74\uc5d0 \uac78\ub9ac\uae30 \uc804\uc5d0 \uc5d0\ub7ec \uc774\ubca4\ud2b8\ub85c \ubcc0\uacbd\ud558\uc5ec \ucc98\ub9ac\ud55c \uac83\uc73c\ub85c \uac04\uc8fc\ud558\uace0 \uc5d0\ub7ec\ub294 \uac1c\ubc1c\uc790\uac00 \ud655\uc778\ud558\uc5ec \ucc98\ub9ac\ud558\ub3c4\ub85d \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(t.p,{children:["\uc5d0\ub7ec \ucc98\ub9ac\ub41c \uc774\ubca4\ud2b8\ub294 ",(0,s.jsx)(t.code,{children:"dead-letter"}),"\ub77c\ub294 subject\ub85c \uc804\ub2ec\ud558\uace0, ",(0,s.jsx)(t.code,{children:"dead-letter"}),"\uc640 ",(0,s.jsx)(t.code,{children:"$JS.EVENT.ADVISORY.CONSUMER.MAX_DELIVERIES.>"}),"\ub97c \uad6c\ub3c5\ud558\ub294 ",(0,s.jsx)(t.code,{children:"Stream"}),"\uc744 \uc0dd\uc131\ud558\uc5ec \ud574\ub2f9 \uc2a4\ud2b8\ub9bc\uc5d0 \uc774\ubca4\ud2b8\uac00 \uc804\ub2ec\ub418\uba74 Slack\uc774\ub098 \uc774\uba54\uc77c \ub4f1\uc73c\ub85c \uc54c\ub9bc\uc744 \uc804\ub2ec\ud558\ub3c4\ub85d \ud558\uba74 \uc7a5\uc560\ucc98\ub9ac\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.p,{children:["\uc7a5\uc560 \ucc98\ub9ac \ubc29\uc2dd\uc5d0 \ub530\ub77c ",(0,s.jsx)(t.code,{children:"dead-letter"}),"\uc758 \uc774\ubca4\ud2b8 \uc2a4\ud0a4\ub9c8\ub3c4 Max Deleveries \uc774\ubca4\ud2b8\uc640 \ub3d9\uc77c\ud558\uac8c \uac1c\ubc1c\ud558\ub294 \uac83\uc774 \ud3b8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",metastring:'title="dead-letter.yaml"',children:"apiVersion: jetstream.nats.io/v1beta2\nkind: Stream\nmetadata:\n  name: dead-letter\n  namespace: event\nspec:\n  name: dead-letter\n  subjects:\n    - dead-letter\n    - $JS.EVENT.ADVISORY.CONSUMER.MAX_DELIVERIES.>\n  storage: file\n  retention: limits\n  discard: old\n  replicas: 3\n# data:\n#   type:\n#     type: string\n#     id: string\n#     timestamp: string\n#     stream: string\n#     consumer: string\n#     stream_seq: number\n#     deliveries: number\n#   example:\n#     type: io.nats.jetstream.advisory.v1.max_deliver\n#     id: hqEOPR3rYFuICTKm1eo2Tm\n#     timestamp: 2023-01-02T03:04:05Z\n#     stream: test\n#     consumer: test\n#     stream_seq: 1\n#     deliveries: 3\n"})})]})}function c(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>l});var s=n(96540);const r={},a=s.createContext(r);function d(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);