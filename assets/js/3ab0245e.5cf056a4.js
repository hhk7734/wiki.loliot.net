"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[42589],{27097:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>r,contentTitle:()=>s,default:()=>d,frontMatter:()=>c,metadata:()=>t,toc:()=>m});const t=JSON.parse('{"id":"lang/etc/command-line-tools/git/pre-commit","title":"pre-commit\uc73c\ub85c git hook \uad00\ub9ac\ud558\uae30","description":"pre-commit\uc73c\ub85c git hook \uad00\ub9ac\ud558\uae30","source":"@site/docs/lang/etc/command-line-tools/git/pre-commit.mdx","sourceDirName":"lang/etc/command-line-tools/git","slug":"/lang/etc/command-line-tools/git/pre-commit","permalink":"/docs/lang/etc/command-line-tools/git/pre-commit","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/etc/command-line-tools/git/pre-commit.mdx","tags":[],"version":"current","lastUpdatedAt":1746637031000,"frontMatter":{"id":"pre-commit","title":"pre-commit\uc73c\ub85c git hook \uad00\ub9ac\ud558\uae30","sidebar_label":"pre-commit","description":"pre-commit\uc73c\ub85c git hook \uad00\ub9ac\ud558\uae30","keywords":["git","pre-commit"]},"sidebar":"programmingetc","previous":{"title":"patch \ud30c\uc77c \ub9cc\ub4e4\uae30","permalink":"/docs/lang/etc/command-line-tools/git/patch"},"next":{"title":"LFS(Large File Storage)","permalink":"/docs/lang/etc/command-line-tools/git/lfs"}}');var o=n(74848),l=n(28453);const c={id:"pre-commit",title:"pre-commit\uc73c\ub85c git hook \uad00\ub9ac\ud558\uae30",sidebar_label:"pre-commit",description:"pre-commit\uc73c\ub85c git hook \uad00\ub9ac\ud558\uae30",keywords:["git","pre-commit"]},s=void 0,r={},m=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"commands",id:"commands",level:2},{value:"<code>pre-commit install</code>",id:"pre-commit-install",level:3},{value:"<code>pre-commit init-templatedir &lt;path&gt;</code>",id:"pre-commit-init-templatedir-path",level:3},{value:"Hooks \uc815\uc758\ud558\uae30",id:"hooks-\uc815\uc758\ud558\uae30",level:2},{value:"ShellScript",id:"shellscript",level:3},{value:"\uc815\uc758\ub41c Hooks \uc0ac\uc6a9",id:"\uc815\uc758\ub41c-hooks-\uc0ac\uc6a9",level:2},{value:"\ub85c\uceec \uba85\ub839\uc5b4/\uc2a4\ud06c\ub9bd\ud2b8 \uc2e4\ud589",id:"\ub85c\uceec-\uba85\ub839\uc5b4\uc2a4\ud06c\ub9bd\ud2b8-\uc2e4\ud589",level:3}];function a(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-shell",children:"python3 -m pip install pre-commit\n"})}),"\n",(0,o.jsx)(i.h2,{id:"commands",children:"commands"}),"\n",(0,o.jsx)(i.h3,{id:"pre-commit-install",children:(0,o.jsx)(i.code,{children:"pre-commit install"})}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-shell",children:"pre-commit install\n"})}),"\n",(0,o.jsxs)(i.p,{children:["\uc704 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uba74 \ud574\ub2f9 \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\uc758 ",(0,o.jsx)(i.code,{children:".git/hooks"}),"\uc5d0 pre-commit\uc744 \uc124\uce58\ud569\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\uae30\ubcf8\uc801\uc73c\ub85c ",(0,o.jsx)(i.code,{children:"~/.cache/pre-commit"})," \uc704\uce58\uc5d0 \uc0ac\uc6a9\ud560 \ubaa8\ub4c8\uc774 \uc800\uc7a5\ub429\ub2c8\ub2e4"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"PRE_COMMIT_HOME"}),"\ub97c \uc120\uc5b8\ud558\uc5ec \uc124\uce58 \uc704\uce58\ub97c \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"pre-commit-init-templatedir-path",children:(0,o.jsx)(i.code,{children:"pre-commit init-templatedir <path>"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.a,{href:"https://pre-commit.com/#pre-commit-init-templatedir",children:"https://pre-commit.com/#pre-commit-init-templatedir"})}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-shell",children:"git config --global init.templateDir ~/.git-template\npre-commit init-templatedir ~/.git-template -t pre-commit -t prepare-commit-msg\n"})}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"git config init.templateDir"}),"\uacfc \ud568\uaed8 \uc0ac\uc6a9\ud558\uc5ec ",(0,o.jsx)(i.code,{children:"git init"}),"\uc774\ub098 ",(0,o.jsx)(i.code,{children:"git clone"})," \uc2dc \uc790\ub3d9\uc73c\ub85c pre-commit\uc744 \uc124\uce58\ud558\ub3c4\ub85d \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(i.h2,{id:"hooks-\uc815\uc758\ud558\uae30",children:"Hooks \uc815\uc758\ud558\uae30"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.a,{href:"https://pre-commit.com/#creating-new-hooks",children:"https://pre-commit.com/#creating-new-hooks"})}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["\ucee4\uc2a4\ud140 \ud6c5\uc744 \ub9cc\ub4e4\ub824\uba74 ",(0,o.jsx)(i.code,{children:".pre-commit-hooks.yaml"})," \ud30c\uc77c\uc744 root\uc5d0 \uc815\uc758\ud55c \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\ub97c \ub9cc\ub4e4\uba74 \ub429\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-yaml",metastring:'title=".pre-commit-hooks.yaml"',children:'- id: <id>\n  name: <name>\n  entry: <command|scriptPath>\n  language: <language>\n  files: "" # <filesRegex>\n  stages: [] # [<stage>]\n'})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"<id>"}),": \ud6c5\uc744 \uad6c\ubd84\ud560 \uc218 \uc788\ub294 \uace0\uc720\ud55c \uac12\uc785\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"<name>"}),": \ud6c5\uc744 \uc2e4\ud589\ud560 \ub54c \ud45c\uc2dc\ub420 \uc774\ub984\uc785\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"<entry>"}),": \ud6c5\uc744 \uc2e4\ud589\ud560 \ub54c \uc2e4\ud589\ud560 \uba85\ub839\uc5b4 \ub610\ub294 \uc2a4\ud06c\ub9bd\ud2b8\uc758 root \uae30\uc900 \uc0c1\ub300 \uacbd\ub85c\uc785\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"<language>"}),": \ud6c5\uc744 \uc2e4\ud589\ud560 \ub54c \uc0ac\uc6a9\ud560 \uc5b8\uc5b4\uc785\ub2c8\ub2e4.","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.a,{href:"https://pre-commit.com/#supported-languages",children:"https://pre-commit.com/#supported-languages"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"<filesRegex>"}),": \ud6c5\uc758 \uc2e4\ud589 \uc870\uac74\uc774 \ub420 \ud30c\uc77c\uc758 \uc815\uaddc\ud45c\ud604\uc2dd\uc785\ub2c8\ub2e4.","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"^aaa\\/.*"}),"\uac00 \uc870\uac74\uc778 \uacbd\uc6b0 ",(0,o.jsx)(i.code,{children:"aaa/"})," \ub514\ub809\ud1a0\ub9ac\ub0b4\uc758 \ubaa8\ub4e0 \ud30c\uc77c\uc758 \uc0dd\uc131 \ub610\ub294 \ucd94\uac00\uac00 \ubc1c\uc0dd\ud558\uba74 \ud6c5\uc774 \uc2e4\ud589\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"<stage>"}),": \ud6c5\uc774 \uc2e4\ud589\ub420 \ub2e8\uacc4\uc785\ub2c8\ub2e4.","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.a,{href:"https://pre-commit.com/#confining-hooks-to-run-at-certain-stages",children:"https://pre-commit.com/#confining-hooks-to-run-at-certain-stages"})}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"commit"}),"(",(0,o.jsx)(i.code,{children:"pre-commit"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"shellscript",children:"ShellScript"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-yaml",metastring:'title=".pre-commit-hooks.yaml"',children:"- id: <id> # .pre-commit-config.yaml\uc5d0\uc11c \uc0ac\uc6a9\ud560 id \uc785\ub2c8\ub2e4\n  name: <name> # \uc2e4\ud589\ub420 \ub54c \ud45c\uc2dc\ub420 \uc774\ub984\uc785\ub2c8\ub2e4\n  entry: <relativePath> # \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\uc758 root \uae30\uc900\uc73c\ub85c \uc0c1\ub300 \uacbd\ub85c\ub97c \uc801\uc73c\uba74 \ub429\ub2c8\ub2e4\n  language: script\n"})}),"\n",(0,o.jsx)(i.admonition,{type:"info",children:(0,o.jsxs)(i.p,{children:["script \uc2e4\ud589 \uc2dc, \uc2e4\ud589\uc774 \uc131\uacf5\ud55c \uacbd\uc6b0(",(0,o.jsx)(i.code,{children:"exit 0"}),") stdout\uc774 \ucd9c\ub825\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,o.jsx)(i.h2,{id:"\uc815\uc758\ub41c-hooks-\uc0ac\uc6a9",children:"\uc815\uc758\ub41c Hooks \uc0ac\uc6a9"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.a,{href:"https://pre-commit.com/#adding-pre-commit-plugins-to-your-project",children:"https://pre-commit.com/#adding-pre-commit-plugins-to-your-project"})}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["\uc815\uc758\ub41c \ud6c5\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 ",(0,o.jsx)(i.code,{children:".pre-commit-config.yaml"})," \ud30c\uc77c\uc744 \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\uc758 root\uc5d0 \uc0dd\uc131\ud558\uba74 \ub429\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-yaml",metastring:'title=".pre-commit-config.yaml"',children:'# https://pre-commit.com/#pre-commit-configyaml---top-level\ndefault_install_hook_types:\n  - pre-commit\ndefault_language_version: {}\n# default_stages: []\nfiles: ""\nexclues: ^$\nfail_fast: false\nminimum_pre_commit_version: "0"\nrepos:\n  # https://pre-commit.com/#pre-commit-configyaml---repos\n  - repo: <url|local>\n    rev: <tag|commitHash>\n    hooks:\n      # https://pre-commit.com/#pre-commit-configyaml---hooks\n      - id: <id>\n        # <hookOverride>\n'})}),"\n",(0,o.jsx)(i.h3,{id:"\ub85c\uceec-\uba85\ub839\uc5b4\uc2a4\ud06c\ub9bd\ud2b8-\uc2e4\ud589",children:"\ub85c\uceec \uba85\ub839\uc5b4/\uc2a4\ud06c\ub9bd\ud2b8 \uc2e4\ud589"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-yaml",metastring:'title=".pre-commit-config.yaml"',children:"repos:\n  - repo: local\n    hooks:\n      - id: <id>\n        name: <name>\n        entry: <relativePath>\n        language: <language>\n"})})]})}function d(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>c,x:()=>s});var t=n(96540);const o={},l=t.createContext(o);function c(e){const i=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(l.Provider,{value:i},e.children)}}}]);