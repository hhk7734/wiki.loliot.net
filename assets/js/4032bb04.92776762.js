"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[43412],{12438:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>x,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"linux/kernel/udev","title":"Linux udev","description":"Linux udev","source":"@site/docs/linux/kernel/udev.mdx","sourceDirName":"linux/kernel","slug":"/linux/kernel/udev","permalink":"/docs/linux/kernel/udev","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/linux/kernel/udev.mdx","tags":[],"version":"current","lastUpdatedAt":1746545636000,"frontMatter":{"id":"udev","title":"Linux udev","description":"Linux udev","keywords":["udev"]},"sidebar":"linux-kernel","previous":{"title":"Null-modem emulator tty0uart","permalink":"/docs/linux/linux-kernel/linux-kernel-tty0uart"},"next":{"title":"Build external module","permalink":"/docs/linux/linux-kernel/module/build-external-module"}}');var l=i(74848),d=i(28453);const r={id:"udev",title:"Linux udev",description:"Linux udev",keywords:["udev"]},t=void 0,c={},o=[{value:"udev",id:"udev",level:2},{value:"xx-descriptive-name.rules",id:"xx-descriptive-namerules",level:2},{value:"Example",id:"example",level:2}];function u(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"udev",children:"udev"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://man7.org/linux/man-pages/man7/udev.7.html",children:"https://man7.org/linux/man-pages/man7/udev.7.html"})}),"\n"]}),"\n",(0,l.jsx)("br",{}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"udev"}),"(userspace /dev)\ub294 Linux \ucee4\ub110\uc6a9 \uc7a5\uce58 \uad00\ub9ac\uc790\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"udevd"})," \ub294 \ucee4\ub110 ",(0,l.jsx)(n.code,{children:"uevent"}),"\ub97c \uac10\uc2dc\ud558\ub2e4\uac00 \ub4e4\uc5b4\uc624\ub294 \uc774\ubca4\ud2b8\ub97c ",(0,l.jsx)(n.code,{children:"udev"}),"\ub85c \uc804\ub2ec\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:["\uc0ac\uc6a9\uc790\ub294 \ucee4\uc2a4\ud140 \uaddc\uce59\uc744 ",(0,l.jsx)(n.code,{children:"/etc/udev/rules.d/"}),"\uc5d0 \ub4f1\ub85d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:["\ub514\ubc14\uc774\uc2a4 \uc815\ubcf4\ub294 ",(0,l.jsx)(n.code,{children:"udevadm info -ap $(udevadm info -q path -n /dev/<device>)"})," \uba85\ub839\uc5b4\ub85c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:["\uaddc\uce59 \uc791\uc131\uc744 \uc704\ud55c \uc5f0\uc0b0\uc790","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"=="})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"!="})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"="}),": \uac12\uc744 \ud560\ub2f9\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:":="}),": \uac12\uc744 \ud560\ub2f9\ud558\uace0 \uc774\ud6c4 \ubcc0\uacbd\uc744 \ud5c8\uc6a9\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"+="}),": \uac12\uc744 \ub9ac\uc2a4\ud2b8\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-="}),": \uac12\uc744 \ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc81c\uac70\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsx)(n.p,{children:"\ub8f0 \uc801\uc6a9\uc774 \ub418\uace0 \uc788\ub294\uc9c0 \ud655\uc778\ud558\ub824\uba74 \uc544\ub798 \uba85\ub839\uc5b4\ub85c \ub85c\uadf8\ub97c \ud655\uc778\ud574\ubcf4\uba74 \ub429\ub2c8\ub2e4."}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"journalctl -ex -u systemd-udevd.service\n"})})]}),"\n",(0,l.jsx)(n.h2,{id:"xx-descriptive-namerules",children:"xx-descriptive-name.rules"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Files should be named xx-descriptive-name.rules, the xx should be chosen first according to the following sequence points:"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"< 60"})," most user rules; if you want to prevent an assignment being\noverriden by default rules, use the := operator. These cannot access persistent information such as that from vol_id"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"< 70"})," rules that run helpers such as vol_id to populate the udev db"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"< 90"})," rules that run other programs (often using information in the\nudev db)"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:">=90"})," rules that should run last"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"/etc/udev/rules.d/50-gpio.rules"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'SUBSYSTEM=="i2c-dev", GROUP="i2c", MODE="0660"\nSUBSYSTEM=="spidev", GROUP="spi", MODE="0660"\nSUBSYSTEM=="input", GROUP="input", MODE="0660"\nKERNEL=="ttyS*", GROUP="dialout", MODE="0660"\nKERNEL=="ttyAML*", GROUP="dialout", MODE="0660"\nKERNEL=="ttySAC*", GROUP="dialout", MODE="0660"\n\nSUBSYSTEM=="gpio", GROUP="gpio", MODE="0660"\n# /sys/class/gpio\nSUBSYSTEM=="gpio*", PROGRAM="/bin/sh -c \'find -L /sys/class/gpio/ -maxdepth 2 -exec chgrp -HR gpio {} \\; -exec chmod -R 770 {} \\; || true\'"\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\uccab \ubc88\uc9f8 \uc904\uc740 ",(0,l.jsx)(n.code,{children:"i2c-dev"})," \uc7a5\uce58\uac00 \uac10\uc9c0\ub418\uba74(",(0,l.jsx)(n.code,{children:"=="}),") \uadf8\ub8f9\uc740 ",(0,l.jsx)(n.code,{children:"i2c"}),"\ub85c(",(0,l.jsx)(n.code,{children:"="}),"), \ubaa8\ub4dc\ub294 ",(0,l.jsx)(n.code,{children:"0660"}),"\uc73c\ub85c(",(0,l.jsx)(n.code,{children:"="}),") \uc124\uc815\ud558\ub77c\ub294 \uc758\ubbf8\uc785\ub2c8\ub2e4."]})]})}function x(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var s=i(96540);const l={},d=s.createContext(l);function r(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);