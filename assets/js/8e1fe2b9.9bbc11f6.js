"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[3313],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var l=i(96540);const s={},c=l.createContext(s);function r(e){const n=l.useContext(c);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(c.Provider,{value:n},e.children)}},46820:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"mlops/provisioning/keda/crd","title":"KEDA CRD \uac00\uc774\ub4dc","description":"KEDA CRD \uac00\uc774\ub4dc","source":"@site/docs/mlops/provisioning/keda/crd.mdx","sourceDirName":"mlops/provisioning/keda","slug":"/mlops/provisioning/keda/crd","permalink":"/docs/mlops/provisioning/keda/crd","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/provisioning/keda/crd.mdx","tags":[],"version":"current","lastUpdatedAt":1760456564000,"frontMatter":{"id":"crd","title":"KEDA CRD \uac00\uc774\ub4dc","sidebar_label":"CRD \uac00\uc774\ub4dc","description":"KEDA CRD \uac00\uc774\ub4dc","keywords":["keda","crd"]},"sidebar":"provisioning","previous":{"title":"\uc124\uce58 \uac00\uc774\ub4dc","permalink":"/docs/mlops/provisioning/keda/"},"next":{"title":"External Scaler","permalink":"/docs/mlops/provisioning/keda/external-scaler"}}');var s=i(74848),c=i(28453);const r={id:"crd",title:"KEDA CRD \uac00\uc774\ub4dc",sidebar_label:"CRD \uac00\uc774\ub4dc",description:"KEDA CRD \uac00\uc774\ub4dc",keywords:["keda","crd"]},d=void 0,o={},a=[{value:"ScaledObject",id:"scaledobject",level:2},{value:"ScaledJob",id:"scaledjob",level:2}];function t(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"scaledobject",children:"ScaledObject"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://keda.sh/docs/latest/concepts/scaling-deployments/",children:"KEDA Docs / Concepts / Scaling Deployments, StatefulSets & Custom Resources"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://keda.sh/docs/latest/reference/scaledobject-spec/",children:"KEDA Docs / Reference / ScaledObject specification"})}),"\n"]})}),"\n",(0,s.jsxs)(n.p,{children:["ScaledObject\ub294 Deployment, StatefulSet, ",(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#scale-subresource",children:"/scale subresource"}),"\uac00 \uc815\uc758\ub41c Custom Resource\ub97c \uc2a4\ucf00\uc77c\ub9c1\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: keda.sh/v1alpha1\nkind: ScaledObject\nspec:\n  scaleTargetRef:\n    name: <name>\n  triggers:\n    - type: <type>\n      metricType: AverageValue\n      metadata:\n        <key>: <value>\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["\ucc98\ub9ac\uac00 \uc624\ub798\uac78\ub9ac\ub294 \uc791\uc5c5\uc5d0 \ub300\ud574, \uc2a4\ucf00\uc77c \ub2e4\uc6b4\uc774 \ubc1c\uc0dd\ud558\uba74, \ucc98\ub9ac\uac00 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc740 \uc791\uc5c5\uc774 \uc911\ub2e8\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uacbd\uc6b0 ",(0,s.jsx)(n.a,{href:"/docs/mlops/kubernetes/workloads/pod-lifecycle#termination",children:"terminationGracePeriodSeconds"}),"\ub97c \uc0ac\uc6a9\ud558\uac70\ub098, ",(0,s.jsx)(n.code,{children:"ScaledJob"}),"\ub97c \ud65c\uc6a9\ud558\ub294 \ubc29\ud5a5\uc73c\ub85c \ubcc0\uacbd\ud574\uc57c\ud569\ub2c8\ub2e4."]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metadata"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"annotations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'autoscaling.keda.sh/force-activation: "true"'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"spec"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"scaleTargetRef"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ud0c0\uac9f \ub9ac\uc18c\uc2a4\ub294 \uac19\uc740 Namespace\uc5d0 \uc874\uc7ac\ud574\uc57c\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"apiVersion: apps/v1"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"kind: Deployment"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name: <name>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"envSourceContainerName: <containerName>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\uae30\ubcf8\uac12\uc740 ",(0,s.jsx)(n.code,{children:".spec.template.spec.containers[0].name"})," \uc785\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pollingInterval: 30"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"trigger \ud655\uc778 \uac04\uaca9\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\ub2e8\uc704\ub294 \ucd08\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"cooldownPeriod: 300"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c trigger\uac00 \ud65c\uc131\ud654\ub41c \uc774\ud6c4 idle \uc0c1\ud0dc\uac00 \ub418\uae30\uae4c\uc9c0 \ub300\uae30\ud558\ub294 \uc2dc\uac04(1 -> 0)\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\ub2e8\uc704\ub294 \ucd08\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"initialCooldownPeriod: 0"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"idleReplicaCount: 0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["idle \uc0c1\ud0dc\uc5d0\uc11c \uc720\uc9c0\ud560 Pod \uac1c\uc218\ub85c, ",(0,s.jsx)(n.code,{children:"minReplicaCount"}),"\ubcf4\ub2e4 \uc791\uc544\uc57c\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.strong,{children:["\uc124\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 ",(0,s.jsx)(n.code,{children:"minReplicaCount"}),"\uac00 \uc801\uc6a9\ub429\ub2c8\ub2e4."]})}),"\n",(0,s.jsx)(n.li,{children:"0 \ub9cc \uc124\uc815 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"minReplicaCount: 0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ucd5c\uc18c Pod \uac1c\uc218\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"maxReplicaCount: 100"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ucd5c\ub300 Pod \uac1c\uc218\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fallback"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"failureThreshold: <count>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"replicas: <count>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"behavior: static"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"static"}),": fallback\uc774 \ud65c\uc131\ud654\ub418\uba74, ",(0,s.jsx)(n.code,{children:"fallback.replicas"}),"\uac00 \uc801\uc6a9\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"currentReplicas"}),": fallback\uc774 \ud65c\uc131\ud654\ub418\uba74, \ud604\uc7ac Pod \uc218\ub97c \uc720\uc9c0\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"currentReplicasIfHigher"}),": ",(0,s.jsx)(n.code,{children:"fallback.replicas"}),"\uc640 \ud604\uc7ac Pod \uc218 \uc911 \ub354 \ud070 \uac12\uc744 \uc720\uc9c0\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"currentReplicasIfLower"}),": ",(0,s.jsx)(n.code,{children:"fallback.replicas"}),"\uc640 \ud604\uc7ac Pod \uc218 \uc911 \ub354 \uc791\uc740 \uac12\uc744 \uc720\uc9c0\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"advanced"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"restoreToOriginalReplicaCount: false"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["ScaledObject\uac00 \uc0ad\uc81c\ub418\uc5c8\uc744 \ub54c, \uc6d0\ub798 ",(0,s.jsx)(n.code,{children:".spec.replicas"})," \uc218\ub85c \ubcf5\uad6c\ud560\uc9c0 \uc5ec\ubd80\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"horizontalPodAutoscalerConfig"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["KEDA\uc5d0 \uc758\ud574 \uc0dd\uc131\ub420 ",(0,s.jsx)(n.a,{href:"/docs/mlops/kubernetes/workloads/horizontalpodautoscaler",children:"HorizontalPodAutoscaler"}),"\uc758 \uc124\uc815\uc785\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name: keda-hpa-<scaledObjectName>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"behavior"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"scalingModifiers"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"triggers: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"trigger \uacb0\uacfc \uc911 \uac00\uc7a5 \ud070 \uac12\uc73c\ub85c \uc2a4\ucf00\uc77c\ub9c1\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"type: <type>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name: <name>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uae30\ubcf8\uac12\uc740 type\uc5d0 \ub530\ub77c \uc790\ub3d9 \uc0dd\uc131\ub41c \uac12\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metricType: AverageValue"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AverageValue"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"currentMetricValue = <metric>/currentReplicas"})}),"\n",(0,s.jsxs)(n.li,{children:["desiredMetricValue\ub294 \ud3c9\uade0 \uac12\uc774\uace0, \uce21\uc815\ub41c ",(0,s.jsx)(n.code,{children:"<metric>"}),"\uc740 \ucd1d \ud569\uc77c \ub54c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Value"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"currentMetricValue = <metric>"})}),"\n",(0,s.jsxs)(n.li,{children:["desiredMetricValue\uc640 \uce21\uc815\ub41c ",(0,s.jsx)(n.code,{children:"<metric>"}),"\uc774 \ubaa8\ub450 \ud3c9\uade0\uac12\uc744 \uc758\ubbf8\ud560 \ub54c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Utilization"}),": ",(0,s.jsx)(n.code,{children:"<usage>/<requested>"}),"\uc758 \ud3c9\uade0\uac12\uc73c\ub85c, CPU, Memory \ud0c0\uc785 trigger\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\uac00\ub2a5\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"useCachedMetrics: false"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metadata"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<key>: <value>"})," \ud615\ud0dc\ub85c trigger \ubcc4\ub85c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"authenticationRef"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"scaledjob",children:"ScaledJob"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: keda.sh/v1alpha1\nkind: ScaledJob\nspec:\n  jobTargetRef:\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}}}]);