"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[61577],{57527:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});const n=a.p+"assets/images/redux-thunk-d97ff38a0f4da0f327163170ccc13e80.gif"},78156:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>x,frontMatter:()=>s,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"lang/javascript/react/redux/redux-toolkit","title":"Redux Toolkit","description":"Redux Toolkit","source":"@site/docs/lang/javascript/react/redux/redux-toolkit.mdx","sourceDirName":"lang/javascript/react/redux","slug":"/lang/javascript/react/redux/redux-toolkit","permalink":"/docs/lang/javascript/react/redux/redux-toolkit","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/javascript/react/redux/redux-toolkit.mdx","tags":[],"version":"current","lastUpdatedAt":1743437321000,"frontMatter":{"id":"redux-toolkit","title":"Redux Toolkit","sidebar_label":"Redux Toolkit","description":"Redux Toolkit","keywords":["redux","action","state","toolkit"]},"sidebar":"javascript","previous":{"title":"Lifecycle","permalink":"/docs/lang/javascript/react/lifecycle"},"next":{"title":"Jotai","permalink":"/docs/lang/javascript/react/jotai/"}}');var r=a(74848),c=a(28453),i=a(82331);const s={id:"redux-toolkit",title:"Redux Toolkit",sidebar_label:"Redux Toolkit",description:"Redux Toolkit",keywords:["redux","action","state","toolkit"]},d=void 0,o={},l=[{value:"Redux",id:"redux",level:2},{value:"createSlice()",id:"createslice",level:2},{value:"<code>reducers</code>",id:"reducers",level:3},{value:"<code>extraReducers</code>",id:"extrareducers",level:3}];function u(t){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"redux",children:"Redux"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"state"}),"\ub294 \ud2b9\uc815 \uc2dc\uac04\uc758 \ub370\uc774\ud130 \uc785\ub2c8\ub2e4. ",(0,r.jsx)(e.code,{children:"action(event)"}),"\uc774 \ubc1c\uc0dd\ud558\uba74 ",(0,r.jsx)(e.code,{children:"reducer"}),"\uac00 ",(0,r.jsx)(e.code,{children:"actino.type"})," + ",(0,r.jsx)(e.code,{children:"action.payload"})," + ",(0,r.jsx)(e.code,{children:"(old)state"}),"\uc758 \uc870\ud569\uc73c\ub85c \ub2e4\uc74c ",(0,r.jsx)(e.code,{children:"(new)state"}),"\ub97c \ub9cc\ub4e4\uc5b4 \ub0c5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)("center",{children:(0,r.jsx)(i.A,{img:a(57527),width:750})}),"\n",(0,r.jsx)("center",{children:(0,r.jsx)(e.a,{href:"https://redux.js.org/tutorials/essentials/part-5-async-logic/",children:"https://redux.js.org/tutorials/essentials/part-5-async-logic/"})}),"\n",(0,r.jsx)(e.h2,{id:"createslice",children:"createSlice()"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://redux-toolkit.js.org/api/createSlice",children:"https://redux-toolkit.js.org/api/createSlice"})}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"export interface CreateSliceOptions<\n\tState = any,\n\tCR extends SliceCaseReducers<State> = SliceCaseReducers<State>,\n\tName extends string = string,\n> {\n\t// action.type\uc758 namespace\ub85c \uc0ac\uc6a9\ub429\ub2c8\ub2e4.\n\tname: Name;\n\t// \ucd08\uae30 state\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.\n\t// \ucf5c\ubc31\uc73c\ub85c \uc120\uc5b8\ud558\uace0 \ucf5c\ubc31 \uc548\uc5d0\uc11c localStorage \ub4f1\uc73c\ub85c \ubd80\ud130 \ub370\uc774\ud130\ub97c \uac00\uc838\uc640\uc11c \ucd08\uae30 state\ub97c \uc644\uc131\ud560 \uc218\n\t// \uc788\uc2b5\ub2c8\ub2e4.\n\tinitialState: State | (() => State);\n\t// actionToStateMap\uc744 \uc124\uc815\ud569\ub2c8\ub2e4.\n\treducers: ValidateSliceCaseReducers<State, CR>;\n\t// createAction(), createAsyncThunk() \ub4f1 \uc5d0 \uc758\ud574 \uc120\uc5b8\ub41c action\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.\n\t// \ub2e4\ub978 slice\uc758 action\uc744 \ucd94\uac00\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. ASlice\uc758 action\uc744 BSlice\uc5d0 \ub4f1\ub85d\ud55c \uacbd\uc6b0 \ub450 slice\uc5d0\n\t// \uc758\ud574 \uad00\ub9ac\ub418\ub294 state \ubaa8\ub450 \ubcc0\uacbd\ub429\ub2c8\ub2e4.\n\t// builder.addCase, builder.addMatcher, builder.addDefaultCase\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \ud3b8\ud569\ub2c8\ub2e4.\n\textraReducers?: CaseReducers<NoInfer<State>, any> | ((builder: ActionReducerMapBuilder<NoInfer<State>>) => void);\n}\n\nexport declare function createSlice<State, CaseReducers extends SliceCaseReducers<State>, Name extends string = string>(\n\toptions: CreateSliceOptions<State, CaseReducers, Name>,\n): Slice<State, CaseReducers, Name>;\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"export interface Slice<\n\tState = any,\n\tCaseReducers extends SliceCaseReducers<State> = SliceCaseReducers<State>,\n\tName extends string = string,\n> {\n\tname: Name;\n\treducer: Reducer<State>;\n\tactions: CaseReducerActions<CaseReducers>;\n\tcaseReducers: SliceDefinedCaseReducers<CaseReducers>;\n\tgetInitialState: () => State;\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"reducers",children:(0,r.jsx)(e.code,{children:"reducers"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"createSlice({\n\treducers: {\n\t\t// dispatch(action1());\n\t\taction1: (state: S): S | void => {\n\t\t\t// state\ub97c \ubcc0\uacbd\ud569\ub2c8\ub2e4.\n\t\t\t// state\uac00 \uac1d\uccb4\uc77c \uacbd\uc6b0 state \uba64\ubc84\ub97c \ubcc0\uacbd\ud558\uace0 return\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub429\ub2c8\ub2e4.\n\t\t\treturn state;\n\t\t},\n\t\t// dispatch(action2(payload));\n\t\taction2: (state: S, action: PayloadAction<T>): S | void => {\n\t\t\t// action.payload\ub97c \ubc1b\uc544\uc11c state\ub97c \ubcc0\uacbd\ud569\ub2c8\ub2e4.\n\t\t\treturn state;\n\t\t},\n\t\t// dispatch(action3(args));\n\t\taction3: {\n\t\t\tprepare: (...args): { payload: T } => {\n\t\t\t\t// args\ub97c \uc0ac\uc6a9\ud558\uc5ec action.payload\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.\n\t\t\t\treturn { payload: {} };\n\t\t\t},\n\t\t\treducer: (state: S, action: PayloadAction<T>): S | void => {\n\t\t\t\t// action.payload\ub97c \ubc1b\uc544\uc11c state\ub97c \ubcc0\uacbd\ud569\ub2c8\ub2e4.\n\t\t\t\tconsole.log(action.payload);\n\t\t\t\treturn state;\n\t\t\t},\n\t\t},\n\t},\n});\n"})}),"\n",(0,r.jsx)(e.h3,{id:"extrareducers",children:(0,r.jsx)(e.code,{children:"extraReducers"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://redux-toolkit.js.org/api/createReducer#builder-methods",children:"https://redux-toolkit.js.org/api/createReducer#builder-methods"})}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'createSlice({\n\textraReducers: (builder) => {\n\t\t// addCase -> addMatcher -> addDefaultCase \uc21c\uc73c\ub85c \uc120\uc5b8\ud574\uc57c \ud569\ub2c8\ub2e4.\n\t\t// builder\ub294 \uc5ec\ub7ec \ubc88 \uc0ac\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\t\t// \uc5ec\ub7ec case, matcher\ub97c \ub9cc\uc871\ud558\ub294 action\uc5d0 \ub300\ud558\uc5ec, \uc774\ub97c \ub9cc\uc871\ud558\ub294 reducer\ub294 \uc120\uc5b8\ub41c \uc21c\uc11c\ub85c \ubaa8\ub450 \ud638\ucd9c\n\t\t// \ub429\ub2c8\ub2e4.\n\t\tbuilder\n\t\t\t.addCase(extraAction1, (state: S, action: AnyAction): S | void => {})\n\t\t\t.addMatcher(\n\t\t\t\t(action: AnyAction): action is ExtraAction2 => {\n\t\t\t\t\t// \uc124\uc815\ub41c reducer\ub97c \uc2e4\ud589\uc2dc\ud0ac \uc218 \uc788\ub294 action\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4.\n\t\t\t\t\treturn action.type.endsWith("extraAction2");\n\t\t\t\t},\n\t\t\t\t(state: S, action: ExtraAction2): S | void => {},\n\t\t\t)\n\t\t\t.addMatcher<ExtraAction3>(\n\t\t\t\t(action: AnyAction) => action.type.endsWith("extraAction3"),\n\t\t\t\t(state: S, action: ExtraAction3): S | void => {},\n\t\t\t)\n\t\t\t.addDefaultCase((state: S, action: AnyAction): S | void => {});\n\t},\n});\n'})})]})}function x(t={}){const{wrapper:e}={...(0,c.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(u,{...t})}):u(t)}}}]);