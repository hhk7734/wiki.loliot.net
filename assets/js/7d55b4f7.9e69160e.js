"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[16435],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var l=i(96540);const s={},r=l.createContext(s);function t(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(r.Provider,{value:n},e.children)}},38936:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"mlops/network/istio/telemetry/opentelemetry","title":"Istio OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc","description":"Istio OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc","source":"@site/docs/mlops/network/istio/telemetry/opentelemetry.mdx","sourceDirName":"mlops/network/istio/telemetry","slug":"/mlops/network/istio/telemetry/opentelemetry","permalink":"/docs/mlops/network/istio/telemetry/opentelemetry","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/network/istio/telemetry/opentelemetry.mdx","tags":[],"version":"current","lastUpdatedAt":1761328795000,"frontMatter":{"id":"opentelemetry","title":"Istio OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc","sidebar_label":"OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc","description":"Istio OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc","keywords":["Istio","OpenTelemetry"]},"sidebar":"network","previous":{"title":"Authorization","permalink":"/docs/mlops/network/istio/security/authorization/"},"next":{"title":"Kiali","permalink":"/docs/mlops/network/istio/kiali"}}');var s=i(74848),r=i(28453);const t={id:"opentelemetry",title:"Istio OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc",sidebar_label:"OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc",description:"Istio OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc",keywords:["Istio","OpenTelemetry"]},c=void 0,d={},o=[{value:"OpenTelemetry TracingProvider \uc124\uc815",id:"opentelemetry-tracingprovider-\uc124\uc815",level:2},{value:"Envoy\uc5d0 \uc124\uc815 \uc801\uc6a9",id:"envoy\uc5d0-\uc124\uc815-\uc801\uc6a9",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"opentelemetry-tracingprovider-\uc124\uc815",children:"OpenTelemetry TracingProvider \uc124\uc815"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://istio.io/latest/docs/reference/config/istio.mesh.v1alpha1",children:"Istio Docs / Configuration / Global Mesh Options"})}),"\n"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="istiod-values.yaml"',children:"meshConfig:\n  enableTracing: true\n  extensionProviders:\n    - name: opentelemetry\n      opentelemetry:\n        service: tempo.tempo.svc.cluster.local\n        port: 4317\n        grpc:\n          timeout: 10s\n        resourceDetectors:\n          environment: {}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"meshConfig"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"enableTracing: true|false"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"trace spans\uacfc request IDs \uc0dd\uc131\uc744 \uc81c\uc5b4\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"extensionProviders: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name: <name>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"opentelemetry"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenTelemetryTracingProvider \uc124\uc815\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"service: [<namespace>/]<hostname>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"trace\ub97c \uc218\uc9d1\ud558\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 FQDN\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"port: <port>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"http"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"path: /v1/traces"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"timeout: <duration>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"headers: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name: <headerName>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"value: <value>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"envName: <env>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ud658\uacbd\ubcc0\uc218\ub85c\ubd80\ud130 \uac12\uc744 \uac00\uc838\uc635\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"grpc"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"timeout: <duration>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"initialMetadata: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name: <headerName>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"value: <value>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"envName: <env>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ud658\uacbd\ubcc0\uc218\ub85c\ubd80\ud130 \uac12\uc744 \uac00\uc838\uc635\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"resourceDetectors"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"environment"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OTEL_RESOURCE_ATTRIBUTES"})," \ud658\uacbd\ubcc0\uc218\ub85c\ubd80\ud130 \ub9ac\uc18c\uc2a4\ub97c \uac00\uc838\uc635\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"envoy\uc5d0-\uc124\uc815-\uc801\uc6a9",children:"Envoy\uc5d0 \uc124\uc815 \uc801\uc6a9"}),"\n",(0,s.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://istio.io/latest/docs/reference/config/telemetry/",children:"Istio Docs / Configuration / Telemetry"})}),"\n"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: telemetry.istio.io/v1\nkind: Telemetry\nspec:\n  tracing:\n    - providers:\n        - name: opentelemetry\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tracing: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"providers: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name: <name>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"TracingProvider \uc774\ub984\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"randomSamplingPercentage: <0.00-100.00>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uc0d8\ud50c\ub9c1 \ube44\uc728\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"0.01 \ub2e8\uc704\ub85c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"customTags"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<tag>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"literal"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"value: <value>"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"environment"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name: <env>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"defaultValue: <value>"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"header"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name: <headerName>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"defaultValue: <value>"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"disableSpanReporting: true|false"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"true"}),"\ub85c \uc124\uc815\ud558\uba74 trace span\uc744 \uc0dd\uc131\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (tracing context\ub294 \uc804\ud30c\ub429\ub2c8\ub2e4.)"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);