"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[62990],{15341:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>x,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"lang/etc/command-line-tools/network/iptables","title":"iptables \uc0ac\uc6a9\ubc95","description":"iptables \uc0ac\uc6a9\ubc95","source":"@site/docs/lang/etc/command-line-tools/network/iptables.mdx","sourceDirName":"lang/etc/command-line-tools/network","slug":"/lang/etc/command-line-tools/network/iptables","permalink":"/docs/lang/etc/command-line-tools/network/iptables","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/etc/command-line-tools/network/iptables.mdx","tags":[],"version":"current","lastUpdatedAt":1709566436000,"frontMatter":{"id":"iptables","title":"iptables \uc0ac\uc6a9\ubc95","sidebar_label":"iptables \uc0ac\uc6a9\ubc95","description":"iptables \uc0ac\uc6a9\ubc95","keywords":["iptables"]},"sidebar":"programmingetc","previous":{"title":"ip \uc0ac\uc6a9\ubc95","permalink":"/docs/lang/etc/command-line-tools/network/ip"},"next":{"title":"nmap","permalink":"/docs/lang/etc/command-line-tools/network/nmap"}}');var s=n(74848),i=n(28453),c=n(98180);const r={id:"iptables",title:"iptables \uc0ac\uc6a9\ubc95",sidebar_label:"iptables \uc0ac\uc6a9\ubc95",description:"iptables \uc0ac\uc6a9\ubc95",keywords:["iptables"]},d=void 0,x={},h=[{value:"iptables",id:"iptables",level:2},{value:"\uaddc\uce59 \ucd94\uac00",id:"\uaddc\uce59-\ucd94\uac00",level:2},{value:"\uaddc\uce59 \ud655\uc778",id:"\uaddc\uce59-\ud655\uc778",level:2}];function j(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"iptables",children:"iptables"}),"\n",(0,s.jsx)(t.p,{children:"iptables\uc740 \ud328\ud0b7\uc774 netfilter\ub97c \ud1b5\uacfc\ud560 \ub54c \uc801\uc6a9\ub418\ub294 \uaddc\uce59\uc744 \uad00\ub9ac\ud558\ub294 \ud234\uc785\ub2c8\ub2e4. \ud328\ud0b7\uc740 \uccb4\uc778\uc744 \ub530\ub77c \ud750\ub974\uba70, \uac01 \ud14c\uc774\ube14\uc5d0\ub294 \uccb4\uc778\uc5d0 \ub530\ub978 \uaddc\uce59\uc774 \uc815\uc758\ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)("center",{children:[(0,s.jsx)("img",{src:(0,c.Ay)("img/lang/etc/command-line-tools/netfilter.jpg")}),(0,s.jsx)("br",{}),(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://stuffphilwrites.com/2014/09/iptables-processing-flowchart/",children:"https://stuffphilwrites.com/2014/09/iptables-processing-flowchart/"})})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"\ud14c\uc774\ube14/\uccb4\uc778"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"PREROUTING"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"INPUT"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"FORWARD"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"OUTPUT"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"POSTROUTING"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(routing decision)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"raw"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(connection tracking)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"mangle"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"nat (DNAT)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(routing decision)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"filter"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"security"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"nat (SNAT)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"}}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"v"})]})]})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\ud14c\uc774\ube14","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"raw: connection tracking\uc5d0\uc11c \ucc98\ub9ac\ud560\uc9c0 \uacb0\uc815"}),"\n",(0,s.jsx)(t.li,{children:"mangle: \ud328\ud0b7 \ud5e4\ub354\uc758 \uc77c\ubd80\ub97c \ubcc0\uacbd"}),"\n",(0,s.jsx)(t.li,{children:"nat: \ud328\ud0b7\uc758 source \ub610\ub294 destination \uc8fc\uc18c\ub97c \ubcc0\uacbd"}),"\n",(0,s.jsx)(t.li,{children:"filter: \ud328\ud0b7 \ud5c8\uc6a9/\uac70\ubd80"}),"\n",(0,s.jsx)(t.li,{children:"security:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"\uaddc\uce59-\ucd94\uac00",children:"\uaddc\uce59 \ucd94\uac00"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"iptables [-t <table>] -A <chain> <rule>\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"iptables [-t <table>] -I <chain> [<ruleNum>] <rule>\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"-t <table>"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"\uc0dd\ub7b5\ud558\uba74 filter \ud14c\uc774\ube14\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"-A"}),": \ud14c\uc774\ube14 \ub9c8\uc9c0\ub9c9\uc5d0 \uaddc\uce59\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"-I"}),": ",(0,s.jsx)(t.code,{children:"<ruleNum>"}),"\ubc88\uc9f8\uc5d0 \uaddc\uce59\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"<ruleNum>"}),"\uc774 \uc0dd\ub7b5\ub418\uba74 \uccab\ubc88\uc9f8(1)\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"<rule>"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"-p <protocol>"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"-i <inputInterface>"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"-o <outputInterface>"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"-s <source>"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"-d <destination>"})}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"-j <target>"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"<target>"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"ACCEPT"}),": \ud328\ud0b7\uc744 \ud5c8\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"DROP"}),": \ud328\ud0b7\uc744 \uc0ad\uc81c\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"REJECT"}),": \ud328\ud0b7\uc744 \uc0ad\uc81c\ud558\uace0, \uc801\uc808\ud55c \uc751\ub2f5\uc744 \ubcf4\ub0c5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"DNAT"}),": \ud328\ud0b7\uc758 destination \uc8fc\uc18c\ub97c ",(0,s.jsx)(t.code,{children:"--to-destination <addr>"}),"\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SNAT"}),": \ud328\ud0b7\uc758 source \uc8fc\uc18c\ub97c ",(0,s.jsx)(t.code,{children:"--to-source <addr>"}),"\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"MASQUERADE"}),": \ud328\ud0b7 source \uc8fc\uc18c\ub97c \uc778\ud130\ud398\uc774\uc2a4 \uc8fc\uc18c\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SNAT"})," + ",(0,s.jsx)(t.code,{children:"--to-source <interfaceAddr>"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"\uaddc\uce59-\ud655\uc778",children:"\uaddc\uce59 \ud655\uc778"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"iptables [-t <table>] -L [<chain>] <option>\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"-t <table>"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"\uc0dd\ub7b5\ud558\uba74 filter \ud14c\uc774\ube14\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"-n"}),": \uc8fc\uc18c\ub97c \uc22b\uc790\ub85c \ud45c\uc2dc\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"-v"})}),"\n"]})]})}function o(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(j,{...e})}):j(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>r});var l=n(96540);const s={},i=l.createContext(s);function c(e){const t=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),l.createElement(i.Provider,{value:t},e.children)}}}]);