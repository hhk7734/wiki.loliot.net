"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[71612],{34062:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"lang/design/protocol/protobuf/protobuf","title":"Protobuf","description":"Protocol Buffers","source":"@site/docs/lang/design/protocol/protobuf/protobuf.mdx","sourceDirName":"lang/design/protocol/protobuf","slug":"/lang/design/protocol/protobuf/","permalink":"/docs/lang/design/protocol/protobuf/","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/design/protocol/protobuf/protobuf.mdx","tags":[],"version":"current","lastUpdatedAt":1731939800000,"frontMatter":{"id":"protobuf","title":"Protobuf","sidebar_label":"Protobuf","description":"Protocol Buffers","keywords":["Protobuf"]},"sidebar":"design","previous":{"title":"WebRTC","permalink":"/docs/lang/design/protocol/http/webrtc"},"next":{"title":"Type","permalink":"/docs/lang/design/protocol/protobuf/type"}}');var r=o(74848),s=o(28453);const i={id:"protobuf",title:"Protobuf",sidebar_label:"Protobuf",description:"Protocol Buffers",keywords:["Protobuf"]},l=void 0,c={},a=[{value:"Languages",id:"languages",level:2},{value:"protoc",id:"protoc",level:2},{value:"Message \uc815\uc758",id:"message-\uc815\uc758",level:2},{value:"import",id:"import",level:3},{value:"\ud615\uc2dd",id:"\ud615\uc2dd",level:3},{value:"CloudEvent Example",id:"cloudevent-example",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"languages",children:"Languages"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/lang/go/libraries/grpc/protobuf",children:"Golang"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/lang/python/libraries/grpc/protobuf",children:"Python"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/lang/cpp/libraries/grpc/protobuf",children:"C++"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"protoc",children:"protoc"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/lang/etc/command-line-tools/asdf#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8",children:"asdf\ub85c \ub7f0\ud0c0\uc784 \ubc84\uc804 \uad00\ub9ac\ud558\uae30"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://protobuf.dev/support/version-support",children:"Version Support"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"asdf plugin add protoc\n"})}),"\n",(0,r.jsx)(n.h2,{id:"message-\uc815\uc758",children:"Message \uc815\uc758"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://protobuf.dev/programming-guides/proto3/",children:"https://protobuf.dev/programming-guides/proto3/"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"import",children:"import"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-protobuf",metastring:'title="a/b.proto"',children:"message A {\n  string a = 1;\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-protobuf",metastring:'title="c.proto"',children:'import "a/b.proto";\n\nmessage C {\n  A a = 1;\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"a/b.proto"}),"\ub97c import\ud558\uba74 \ud574\ub2f9 \ud30c\uc77c\uc5d0 \uc815\uc758\ub41c \ub0b4\uc6a9\uc744 \ub2e4\ub978 \ud30c\uc77c\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. import \ud30c\uc77c\uc744 \ucc3e\uc744 \uacbd\ub85c\ub294 ",(0,r.jsx)(n.code,{children:"--proto_path=<path>"})," \uc635\uc158\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-protobuf",metastring:'title="d.proto"',children:'import public "a/b.proto";\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"d.proto"})," \ud30c\uc77c\uc744 import\ud558\uba74 ",(0,r.jsx)(n.code,{children:"d.proto"}),"\ud30c\uc77c\uc5d0 \uc815\uc758\ub41c \ub0b4\uc6a9\uc5d0 ",(0,r.jsx)(n.code,{children:"a/b.proto"})," \ud30c\uc77c\uc5d0 \uc815\uc758\ub41c \ub0b4\uc6a9\uae4c\uc9c0 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.h3,{id:"\ud615\uc2dd",children:"\ud615\uc2dd"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\ud30c\uc77c \uc774\ub984\uc740 snake_case\ub85c \uc791\uc131\ud558\uace0 \ud655\uc7a5\uc790\ub294 ",(0,r.jsx)(n.code,{children:".proto"}),"\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:["\ub0b4\uc6a9\uc740 \uc544\ub798 \uc21c\uc11c\ub85c \uc791\uc131\ud569\ub2c8\ub2e4.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\ub77c\uc774\uc13c\uc2a4 \ud5e4\ub354(\uc635\uc158)"}),"\n",(0,r.jsx)(n.li,{children:"\ud30c\uc77c \uc124\uba85"}),"\n",(0,r.jsx)(n.li,{children:"syntax"}),"\n",(0,r.jsx)(n.li,{children:"package"}),"\n",(0,r.jsx)(n.li,{children:"import"}),"\n",(0,r.jsx)(n.li,{children:"option"}),"\n",(0,r.jsx)(n.li,{children:"\uadf8 \uc678"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"\uc904\uae38\uc774\ub294 80\uc790\ub97c \ub118\uc9c0 \uc54a\ub3c4\ub85d \ud569\ub2c8\ub2e4\uc790"}),"\n",(0,r.jsx)(n.li,{children:"\ub4e4\uc5ec\uc4f0\uae30\ub294 2\uce78\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"\ubb38\uc790\uc5f4\uc740 \ud070\ub530\uc634\ud45c\ub97c \uc0ac\uc6a9\ud558\uae38 \uad8c\uc7a5\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"message"}),", ",(0,r.jsx)(n.code,{children:"enum"}),", ",(0,r.jsx)(n.code,{children:"service"})," \uba85\uc740 PascalCase\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"message"}),"\uc758 \ud544\ub4dc \uba85\uc740 snake_case\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"repeated"}),"\uc758 \ud544\ub4dc \uba85\uc740 \ubcf5\uc218\ud615\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enum"}),"\uc758 \uac12\uc740 CAPITALS_WITH_UNDERSCORES\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"service"}),"\uc758 ",(0,r.jsx)(n.code,{children:"rpc"})," \uba85\uc740 PascalCase\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cloudevent-example",children:"CloudEvent Example"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/cloudevents/spec/blob/main/cloudevents/formats/cloudevents.proto",children:"https://github.com/cloudevents/spec/blob/main/cloudevents/formats/cloudevents.proto"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-protobuf",metastring:'title="cloudevents.proto"',children:'/**\n * CloudEvent Protobuf Format\n *\n * - Required context attributes are explicitly represented.\n * - Optional and Extension context attributes are carried in a map structure.\n * - Data may be represented as binary, text, or protobuf messages.\n */\n\nsyntax = "proto3";\n\npackage io.cloudevents.v1;\n\nimport "google/protobuf/any.proto";\nimport "google/protobuf/timestamp.proto";\n\noption csharp_namespace = "CloudNative.CloudEvents.V1";\noption go_package = "cloudevents.io/genproto/v1";\noption java_package = "io.cloudevents.v1.proto";\noption java_multiple_files = true;\noption php_namespace = "Io\\\\CloudEvents\\\\V1\\\\Proto";\noption ruby_package = "Io::CloudEvents::V1::Proto";\n\nmessage CloudEvent {\n\n  // -- CloudEvent Context Attributes\n\n  // Required Attributes\n  string id = 1;\n  string source = 2; // URI-reference\n  string spec_version = 3;\n  string type = 4;\n\n  // Optional & Extension Attributes\n  map<string, CloudEventAttributeValue> attributes = 5;\n\n  // -- CloudEvent Data (Bytes, Text, or Proto)\n  oneof  data {\n    bytes binary_data = 6;\n    string text_data = 7;\n    google.protobuf.Any proto_data = 8;\n  }\n\n  /**\n   * The CloudEvent specification defines\n   * seven attribute value types...\n   */\n\n  message CloudEventAttributeValue {\n\n    oneof attr {\n      bool ce_boolean = 1;\n      int32 ce_integer = 2;\n      string ce_string = 3;\n      bytes ce_bytes = 4;\n      string ce_uri = 5;\n      string ce_uri_ref = 6;\n      google.protobuf.Timestamp ce_timestamp = 7;\n    }\n  }\n}\n\n/**\n * CloudEvent Protobuf Batch Format\n */\n\nmessage CloudEventBatch {\n  repeated CloudEvent events = 1;\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>l});var t=o(96540);const r={},s=t.createContext(r);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);