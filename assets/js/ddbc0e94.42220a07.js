"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[95124],{57806:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>s,metadata:()=>r,toc:()=>u});var o=e(74848),i=e(28453);const s={id:"jotai",title:"Jotai",sidebar_label:"Jotai",description:"React \uc0c1\ud0dc \uad00\ub9ac\ub97c \uc704\ud55c Jotai \ub77c\uc774\ube0c\ub7ec\ub9ac",keywords:["jotai","react","state"]},a=void 0,r={id:"lang/javascript/react/jotai/jotai",title:"Jotai",description:"React \uc0c1\ud0dc \uad00\ub9ac\ub97c \uc704\ud55c Jotai \ub77c\uc774\ube0c\ub7ec\ub9ac",source:"@site/docs/lang/javascript/react/jotai/jotai.mdx",sourceDirName:"lang/javascript/react/jotai",slug:"/lang/javascript/react/jotai/",permalink:"/docs/lang/javascript/react/jotai/",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1722572057e3,frontMatter:{id:"jotai",title:"Jotai",sidebar_label:"Jotai",description:"React \uc0c1\ud0dc \uad00\ub9ac\ub97c \uc704\ud55c Jotai \ub77c\uc774\ube0c\ub7ec\ub9ac",keywords:["jotai","react","state"]},sidebar:"javascript",previous:{title:"Redux Toolkit",permalink:"/docs/lang/javascript/react/redux/redux-toolkit"},next:{title:"useQuery",permalink:"/docs/lang/javascript/react/react-query/use-query"}},c={},u=[{value:"primitive Atom \uc0ac\uc6a9\ud558\uae30",id:"primitive-atom-\uc0ac\uc6a9\ud558\uae30",level:2},{value:"primitive Atom -&gt; \uc77d\uae30 \uc804\uc6a9 Atom",id:"primitive-atom---\uc77d\uae30-\uc804\uc6a9-atom",level:2},{value:"\uc4f0\uae30 \uc804\uc6a9 Atom -&gt; primitive Atom",id:"\uc4f0\uae30-\uc804\uc6a9-atom---primitive-atom",level:2}];function m(t){const n={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"primitive-atom-\uc0ac\uc6a9\ud558\uae30",children:"primitive Atom \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import { atom, useAtom } from "jotai";\n\nconst countAtom = atom(0);\n\nfunction Counter() {\n  const [count, setCount] = useAtom(countAtom);\n  return (\n    <div>\n      count: {count}\n      <br />\n      <button onClick={() => setCount((c) => c + 1)}>increment</button>\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"primitive-atom---\uc77d\uae30-\uc804\uc6a9-atom",children:"primitive Atom -> \uc77d\uae30 \uc804\uc6a9 Atom"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import { atom, useAtom, useAtomValue } from "jotai";\n\nconst countAtom = atom(0);\nconst byAtom = atom(2);\nconst resultAtom = atom((get) => get(countAtom) * get(byAtom));\n\nfunction Counter() {\n  const [count, setCount] = useAtom(countAtom);\n  const by = useAtomValue(byAtom);\n  const result = useAtomValue(resultAtom);\n\n  return (\n    <div>\n      {count} * {by} = {result}\n      <br />\n      <button onClick={() => setCount((c) => c + 1)}>\n        {count}\n        {"->"}\n        {count + 1}\n      </button>\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"info",children:[(0,o.jsxs)(n.p,{children:["\ube44\ub3d9\uae30 \uc77d\uae30\ub97c \ud558\ub294 Atom\uc740 ",(0,o.jsx)(n.code,{children:"Suspense"}),"\ub97c \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import { atom, useAtomValue, useSetAtom } from "jotai";\nimport { Suspense } from "react";\n\nfunction sleep(ms: number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\n\nconst countAtom = atom(0);\nconst suspenseCountAtom = atom(async (get) => {\n  await sleep(2000);\n  return get(countAtom);\n});\n\nfunction SuspenseCounter() {\n  const suspenseCount = useAtomValue(suspenseCountAtom);\n\n  return <div>count: {suspenseCount}</div>;\n}\n\nfunction Counter() {\n  const setCount = useSetAtom(countAtom);\n\n  return (\n    <div>\n      <Suspense fallback={<div>loading...</div>}>\n        <SuspenseCounter />\n        <button onClick={() => setCount((c) => c + 1)}>increment</button>\n      </Suspense>\n      <br />\n    </div>\n  );\n}\n'})})]}),"\n",(0,o.jsx)(n.h2,{id:"\uc4f0\uae30-\uc804\uc6a9-atom---primitive-atom",children:"\uc4f0\uae30 \uc804\uc6a9 Atom -> primitive Atom"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import { atom, useAtomValue, useSetAtom } from "jotai";\n\nconst countAtom = atom(0);\nconst computeAtom = atom(null, async (get, set, url: string) => {\n  const response = await fetch(url, {\n    method: "POST",\n    body: JSON.stringify({ input: get(countAtom) }),\n  });\n  const data = await response.json();\n  set(countAtom, data.output);\n});\n\nfunction Counter() {\n  const count = useAtomValue(countAtom);\n  const compute = useSetAtom(computeAtom);\n\n  return (\n    <div>\n      count: {count}\n      <br />\n      <button onClick={() => compute("https://example.com/add-one")}>\n        increment\n      </button>\n    </div>\n  );\n}\n'})})]})}function l(t={}){const{wrapper:n}={...(0,i.R)(),...t.components};return n?(0,o.jsx)(n,{...t,children:(0,o.jsx)(m,{...t})}):m(t)}},28453:(t,n,e)=>{e.d(n,{R:()=>a,x:()=>r});var o=e(96540);const i={},s=o.createContext(i);function a(t){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function r(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(i):t.components||i:a(t.components),o.createElement(s.Provider,{value:n},t.children)}}}]);