"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[3313],{28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>r});var s=i(96540);const l={},c=s.createContext(l);function d(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(c.Provider,{value:n},e.children)}},46820:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"mlops/provisioning/keda/crd","title":"KEDA CRD \uc548\ub0b4","description":"KEDA CRD \uc548\ub0b4","source":"@site/docs/mlops/provisioning/keda/crd.mdx","sourceDirName":"mlops/provisioning/keda","slug":"/mlops/provisioning/keda/crd","permalink":"/docs/mlops/provisioning/keda/crd","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/provisioning/keda/crd.mdx","tags":[],"version":"current","lastUpdatedAt":1760376324000,"frontMatter":{"id":"crd","title":"KEDA CRD \uc548\ub0b4","sidebar_label":"CRD \uc548\ub0b4","description":"KEDA CRD \uc548\ub0b4","keywords":["keda","crd"]},"sidebar":"provisioning","previous":{"title":"\uc124\uce58 \uac00\uc774\ub4dc","permalink":"/docs/mlops/provisioning/keda/"},"next":{"title":"External Scaler","permalink":"/docs/mlops/provisioning/keda/external-scaler"}}');var l=i(74848),c=i(28453);const d={id:"crd",title:"KEDA CRD \uc548\ub0b4",sidebar_label:"CRD \uc548\ub0b4",description:"KEDA CRD \uc548\ub0b4",keywords:["keda","crd"]},r=void 0,o={},t=[{value:"ScaledObject",id:"scaledobject",level:2},{value:"ScaledJob",id:"scaledjob",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"scaledobject",children:"ScaledObject"}),"\n",(0,l.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://keda.sh/docs/latest/concepts/scaling-deployments/",children:"KEDA Docs / Concepts / Scaling Deployments, StatefulSets & Custom Resources"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://keda.sh/docs/latest/reference/scaledobject-spec/",children:"KEDA Docs / Reference / ScaledObject specification"})}),"\n"]})}),"\n",(0,l.jsxs)(n.p,{children:["ScaledObject\ub294 Deployment, StatefulSet, ",(0,l.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#scale-subresource",children:"/scale subresource"}),"\uac00 \uc815\uc758\ub41c Custom Resource\ub97c \uc2a4\ucf00\uc77c\ub9c1\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: keda.sh/v1alpha1\nkind: ScaledObject\nspec:\n  scaleTargetRef:\n    name: <name>\n  triggers:\n    - type: <type>\n      metricType: AverageValue\n      metadata:\n        <key>: <value>\n"})}),"\n",(0,l.jsx)(n.admonition,{type:"warning",children:(0,l.jsxs)(n.p,{children:["\ucc98\ub9ac\uac00 \uc624\ub798\uac78\ub9ac\ub294 \uc791\uc5c5\uc5d0 \ub300\ud574, \uc2a4\ucf00\uc77c \ub2e4\uc6b4\uc774 \ubc1c\uc0dd\ud558\uba74, \ucc98\ub9ac\uac00 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc740 \uc791\uc5c5\uc774 \uc911\ub2e8\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uacbd\uc6b0 ",(0,l.jsx)(n.a,{href:"/docs/mlops/kubernetes/workloads/pod-lifecycle#termination",children:"terminationGracePeriodSeconds"}),"\ub97c \uc0ac\uc6a9\ud558\uac70\ub098, ",(0,l.jsx)(n.code,{children:"ScaledJob"}),"\ub97c \ud65c\uc6a9\ud558\ub294 \ubc29\ud5a5\uc73c\ub85c \ubcc0\uacbd\ud574\uc57c\ud569\ub2c8\ub2e4."]})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"scaleTargetRef"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ud0c0\uac9f \ub9ac\uc18c\uc2a4\ub294 \uac19\uc740 Namespace\uc5d0 \uc874\uc7ac\ud574\uc57c\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"apiVersion: apps/v1"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"kind: Deployment"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"name: <name>"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"envSourceContainerName: <containerName>"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\uae30\ubcf8\uac12\uc740 ",(0,l.jsx)(n.code,{children:".spec.template.spec.containers[0].name"})," \uc785\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"pollingInterval: 30"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"trigger \ud655\uc778 \uac04\uaca9\uc785\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.li,{children:"\ub2e8\uc704\ub294 \ucd08\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"cooldownPeriod: 300"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c trigger\uac00 \ud65c\uc131\ud654\ub41c \uc774\ud6c4 idle \uc0c1\ud0dc\uac00 \ub418\uae30\uae4c\uc9c0 \ub300\uae30\ud558\ub294 \uc2dc\uac04(1 -> 0)\uc785\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.li,{children:"\ub2e8\uc704\ub294 \ucd08\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"initialCooldownPeriod: 0"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"idleReplicaCount: 0"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"idle \uc0c1\ud0dc\uc5d0\uc11c \uc720\uc9c0\ud560 Pod \uac1c\uc218\uc785\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"minReplicaCount"}),"\ubcf4\ub2e4 \uc791\uc544\uc57c\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"minReplicaCount: 0"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ucd5c\uc18c Pod \uac1c\uc218\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"maxReplicaCount: 100"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ucd5c\ub300 Pod \uac1c\uc218\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"fallback"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"failureThreshold: <count>"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"replicas: <count>"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"behavior: static"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"advanced"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"restoreToOriginalReplicaCount: false"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["ScaledObject\uac00 \uc0ad\uc81c\ub418\uc5c8\uc744 \ub54c, \uc6d0\ub798 ",(0,l.jsx)(n.code,{children:".spec.replicas"})," \uc218\ub85c \ubcf5\uad6c\ud560\uc9c0 \uc5ec\ubd80\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"horizontalPodAutoscalerConfig"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"KEDA\uc5d0 \uc758\ud574 \uc0dd\uc131\ub420 HorizontalPodAutoscaler\uc758 \uc124\uc815\uc785\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"name: keda-hpa-<scaledObjectName>"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"behavior"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/",children:"Kubernetes Docs / Tasks / Run Applications / Horizontal Pod Autoscaling"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/kubernetes/enhancements/blob/master/keps/sig-autoscaling/853-configurable-hpa-scale-velocity/README.md",children:"kubernetes/enhancements GitHub / Configurable scale up/down velocity for HPA"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"scaleUp|scaleDown"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"selectPolicy: Max"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Max"}),": \uc815\ucc45 \uc911 \uac00\uc7a5 \ub192\uc740 \uc218\uce58\ub97c \uc801\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Min"}),": \uc815\ucc45 \uc911 \uac00\uc7a5 \ub0ae\uc740 \uc218\uce58\ub97c \uc801\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Disabled"}),": \uc815\ucc45\uc744 \uc801\uc6a9\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"stabilizationWindowSeconds: 0"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\uc124\uc815\ub41c \uc2dc\uac04\ub3d9\uc548 ",(0,l.jsx)(n.code,{children:"desiredReplicas"})," \uac12 \uc911 \uac00\uc7a5 \uc791\uc740 \uac12\uc744 \uc120\ud0dd\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"scaleUp"}),"\uc758 \uacbd\uc6b0, \uae30\ubcf8\uac12\uc740 0\uc774\uba70, ",(0,l.jsx)(n.code,{children:"scaleDown"}),"\uc758 \uacbd\uc6b0, \uae30\ubcf8\uac12\uc740 300\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsx)(n.li,{children:"\ub2e8\uc704\ub294 \ucd08\uc774\uba70, 0 ~ 3600 \uc124\uc815 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"policies: []"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"type: Percent|Pods"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Percent"}),": ",(0,l.jsx)(n.code,{children:"\ud604\uc7ac Pod \uac1c\uc218 * value / 100"}),"\uc744 desiredReplicas\ub85c \ucd94\ucc9c\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Pods"}),": ",(0,l.jsx)(n.code,{children:"value"}),"\ub97c desiredReplicas\ub85c \ucd94\ucc9c\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"value: <value>"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"periodSeconds: <period>"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ub2e8\uc704\ub294 \ucd08\uc774\uba70, 0 ~ 1800 \uc124\uc815 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"scalingModifiers"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"triggers: []"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"trigger \uacb0\uacfc \uc911 \uac00\uc7a5 \ud070 \uac12\uc73c\ub85c \uc2a4\ucf00\uc77c\ub9c1\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"type: <type>"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"name: <name>"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uae30\ubcf8\uac12\uc740 type\uc5d0 \ub530\ub77c \uc790\ub3d9 \uc0dd\uc131\ub41c \uac12\uc785\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"metricType: AverageValue"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["HorizontalPodAutoscaler: ",(0,l.jsx)(n.code,{children:"desiredReplicas"})," = ceil[",(0,l.jsx)(n.code,{children:"currentReplicas"})," * ( ",(0,l.jsx)(n.code,{children:"currentMetricValue"})," / ",(0,l.jsx)(n.code,{children:"desiredMetricValue"})," )]"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"AverageValue"}),": ",(0,l.jsx)(n.code,{children:"currentaMetricValue"})," = ",(0,l.jsx)(n.code,{children:"<metric>"}),"/",(0,l.jsx)(n.code,{children:"currentReplicas"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Value"}),": ",(0,l.jsx)(n.code,{children:"currentMetricValue"})," = ",(0,l.jsx)(n.code,{children:"<metric>"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Utilization"}),": ",(0,l.jsx)(n.code,{children:"<usage>/<requested>"}),"\uc758 \ud3c9\uade0\uac12\uc73c\ub85c, CPU, Memory \ud0c0\uc785 trigger\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\uac00\ub2a5\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"useCachedMetrics: false"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"metadata"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<key>: <value>"})," \ud615\ud0dc\ub85c trigger \ubcc4\ub85c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"authenticationRef"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"scaledjob",children:"ScaledJob"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: keda.sh/v1alpha1\nkind: ScaledJob\nspec:\n  jobTargetRef:\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);