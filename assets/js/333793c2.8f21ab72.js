"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[69968],{94702:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var i=r(74848),o=r(28453);const s={id:"layer",title:"Container Layer",sidebar_label:"Layer",description:"Container Layer",keywords:["container","layer"]},a=void 0,c={id:"mlops/mlops/container/build/layer",title:"Container Layer",description:"Container Layer",source:"@site/docs/mlops/mlops/container/build/layer.mdx",sourceDirName:"mlops/mlops/container/build",slug:"/mlops/mlops/container/build/layer",permalink:"/docs/mlops/mlops/container/build/layer",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1729318814e3,frontMatter:{id:"layer",title:"Container Layer",sidebar_label:"Layer",description:"Container Layer",keywords:["container","layer"]},sidebar:"mlops",previous:{title:"NVIDIA Container Toolkit",permalink:"/docs/mlops/mlops/container/nvidia-container-toolkit"},next:{title:"Build Cache",permalink:"/docs/mlops/mlops/container/build/cache"}},d={},l=[{value:"Layer",id:"layer",level:2}];function t(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"layer",children:"Layer"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.docker.com/build/guide/layers/",children:"Docker Layers"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.docker.com/storage/storagedriver/",children:"Docker Storage drivers"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dockerfile",children:'# layer 1\nFROM ubuntu:20.04\n\nWORKDIR /app\n\n# layer 2\nCOPY . /app/\n\n# layer 3\nRUN mkdir dir1\n# layer 4\nRUN mkdir dir2\n# layer 5\nRUN rm -rf dir1\n\nENTRYPOINT ["ls", "-al"]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "RootFS": {\n    "Type": "layers",\n    "Layers": [\n      "sha256:3ec3ded77c0ce89e931f92aed086b2a2c774a6fbd51617853decc8afa4e1087a",\n      "sha256:2acd838b0b722ea6e1730147db1fed9fae1729d710bb67577f921e98e64361df",\n      "sha256:bdb23ac052fd3592738f389ded25dfee6ad69705c97f7aa9a02314b0390c2796",\n      "sha256:41f871dc3a5f1da52091d0d44f9bc34fa7680101dbdd4ed205e59a24458f9014",\n      "sha256:e05ec9099223d403f2c5d59354943ac33142d88f44915bc57e79119991399196"\n    ]\n  },\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'ID            CREATED         CREATED BY                                     SIZE        COMMENT\n7d7d623e1099  18 minutes ago  /bin/sh -c #(nop) ENTRYPOINT ["ls", "-al"]     0 B\n<missing>     18 minutes ago  /bin/sh -c rm -rf dir1                         10.8 kB\nae7a5d9de5cb  18 minutes ago  /bin/sh -c mkdir dir2                          10.8 kB\n0cd4ed3e91a2  18 minutes ago  /bin/sh -c mkdir dir1                          9.73 kB\n243895a3dab2  18 minutes ago  /bin/sh -c #(nop) COPY dir:de7d0e927e0ce73...  2.56 kB\n5f5250218d28  42 minutes ago  /bin/sh -c #(nop) WORKDIR /app                 0 B         FROM docker.io/library/ubuntu:20.04\n<missing>     2 months ago    /bin/sh -c #(nop)  CMD ["/bin/bash"]           0 B\n<missing>     2 months ago    /bin/sh -c #(nop) ADD file:e7cff353f027ecf...  75.2 MB\n<missing>     2 months ago    /bin/sh -c #(nop)  LABEL org.opencontainer...  0 B\n<missing>     2 months ago    /bin/sh -c #(nop)  LABEL org.opencontainer...  0 B\n<missing>     2 months ago    /bin/sh -c #(nop)  ARG LAUNCHPAD_BUILD_ARCH    0 B\n<missing>     2 months ago    /bin/sh -c #(nop)  ARG RELEASE                 0 B\n'})}),"\n",(0,i.jsxs)(n.p,{children:["container builder\uc758 \ubcc0\ud654\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc9c0\ub9cc \uae30\ubcf8\uc801\uc73c\ub85c ",(0,i.jsx)(n.code,{children:"FROM"}),", ",(0,i.jsx)(n.code,{children:"COPY"}),", ",(0,i.jsx)(n.code,{children:"RUN"})," \ucc98\ub7fc \ud30c\uc77c \uc2dc\uc2a4\ud15c\uc5d0 \ubcc0\ud654\ub97c \uc8fc\ub294 \uba85\ub839\uc5b4\ub294 \uc0c8\ub85c\uc6b4 \ub808\uc774\uc5b4\ub97c \uc0dd\uc131\ud558\uace0, ",(0,i.jsx)(n.code,{children:"ENV"}),", ",(0,i.jsx)(n.code,{children:"ARG"}),", ",(0,i.jsx)(n.code,{children:"LABEL"}),", ",(0,i.jsx)(n.code,{children:"ENTRYPOINT"}),", ",(0,i.jsx)(n.code,{children:"CMD"})," \ub4f1\uc758 \uba85\ub839\uc5b4 \ucc98\ub7fc \ud30c\uc77c \uc2dc\uc2a4\ud15c\uc5d0 \ubcc0\ud654\ub97c \uc8fc\uc9c0 \uc54a\ub294 \uba85\ub839\uc5b4\ub294 \uba54\ud0c0\ub370\uc774\ud130\ub9cc \ubcc0\uacbd\ud558\ubbc0\ub85c \uc0c8\ub85c\uc6b4 \ub808\uc774\uc5b4\ub97c \uc0dd\uc131\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.p,{children:["\uc5ec\uae30\uc11c \uc8fc\ubaa9\ud560 \uc810\uc740 overlayfs\uc758 \uaddc\uce59\uc5d0 \ub530\ub77c ",(0,i.jsx)(n.code,{children:"layer 3"}),"\uc5d0 \uc788\ub294 dir1\uc740 ",(0,i.jsx)(n.code,{children:"layer 5"}),"\uc5d0\uc11c whiteout \ucc98\ub9ac\ub418\uc5b4 \ucd5c\uc885\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5b4 \ubcf4\uc774\uae30\ub9cc \ud558\uace0 \uc2e4\uc81c\ub85c\ub294 \uc0ad\uc81c\ub418\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc5d0 ",(0,i.jsx)(n.code,{children:"layer 5"}),"\uac00 \uc774\ubbf8\uc9c0 \ud06c\uae30\uc5d0 \uc601\ud5a5\uc744 \uc8fc\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var i=r(96540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);