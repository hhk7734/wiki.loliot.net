"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[93619],{7227:(e,n,r)=>{r.d(n,{A:()=>s});r(96540);var i=r(34164);const a={tabItem:"tabItem_Ymn6"};var c=r(74848);function s({children:e,hidden:n,className:r}){return(0,c.jsx)("div",{role:"tabpanel",className:(0,i.A)(a.tabItem,r),hidden:n,children:e})}},28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var i=r(96540);const a={},c=i.createContext(a);function s(e){const n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(c.Provider,{value:n},e.children)}},35408:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"lang/python/libraries/opencv/opencv-read-image-video","title":"OpenCV Read image or video","description":"OpenCV Read image or video","source":"@site/docs/lang/python/libraries/opencv/opencv-read-image-video.mdx","sourceDirName":"lang/python/libraries/opencv","slug":"/lang/python/libraries/opencv/opencv-read-image-video","permalink":"/docs/lang/python/libraries/opencv/opencv-read-image-video","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/python/libraries/opencv/opencv-read-image-video.mdx","tags":[],"version":"current","lastUpdatedAt":1703257929000,"frontMatter":{"id":"opencv-read-image-video","title":"OpenCV Read image or video","sidebar_label":"Read image or video","description":"OpenCV Read image or video","keywords":["C++","OpenCV","image","video"]},"sidebar":"python","previous":{"title":"Installation","permalink":"/docs/lang/cpp/libraries/opencv/opencv-installation"},"next":{"title":"Draw figure","permalink":"/docs/lang/python/libraries/opencv/opencv-draw-figure"}}');var a=r(74848),c=r(28453),s=r(49489),l=r(7227);const o={id:"opencv-read-image-video",title:"OpenCV Read image or video",sidebar_label:"Read image or video",description:"OpenCV Read image or video",keywords:["C++","OpenCV","image","video"]},d=void 0,t={},p=[{value:"Read image",id:"read-image",level:2},{value:"Read video, cam",id:"read-video-cam",level:2},{value:"cv.VideoCapture",id:"cvvideocapture",level:3},{value:"cv.VideoWriter",id:"cvvideowriter",level:3},{value:"Examples",id:"examples",level:2},{value:"Read image",id:"read-image-1",level:3},{value:"Read video",id:"read-video",level:3},{value:"Read cam",id:"read-cam",level:3}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["Ref: ",(0,a.jsx)(n.a,{href:"https://docs.opencv.org/master/",children:"https://docs.opencv.org/master/"})]}),"\n",(0,a.jsx)(n.h2,{id:"read-image",children:"Read image"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"image = cv.imread(fileName, flag=cv.IMREAD_COLOR)\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief \uc774\ubbf8\uc9c0 \uc77d\uae30"}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"fileName"}),": string \ud30c\uc77c \uacbd\ub85c"]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"flag"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"cv.IMREAD_COLOR"})," : ",(0,a.jsx)(n.strong,{children:"BGR"})]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.IMREAD_GRAYSCALE"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.IMREAD_UNCHANGED"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"@return numpy.ndarray (y\ucd95, x\ucd95, pixel \uc6d0\uc18c \uc218) 3 \ucc28\uc6d0 \ubc30\uc5f4"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"cv.imshow(title, image)\nkey_value = cv.waitKey(delay=0) & 0xFF\ncv.destroyWindows(title)\ncv.destroyAllWindows()\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["@brief \uc774\ubbf8\uc9c0 \ucc3d\uc5d0 \ud45c\uc2dc, ",(0,a.jsx)(n.strong,{children:"title\uc744 \ub3d9\uc77c\ud558\uac8c \uc124\uc815\ud55c \ud6c4, image\ub9cc \ubcc0\uacbd\ud558\uba74 \ub3d9\uc601\uc0c1\ucc98\ub7fc \ubcf4\uc784"})]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"title"}),": string"]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"image"}),": numpy.ndarray \uc774\ubbf8\uc9c0 3 \ucc28\uc6d0 \ubc30\uc5f4"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"cv.imwrite(fileName, image)\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief \uc774\ubbf8\uc9c0 \uc800\uc7a5"}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"fileName"}),": string \ud30c\uc77c \uacbd\ub85c"]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"image"}),": numpy.ndarray \uc774\ubbf8\uc9c0 3 \ucc28\uc6d0 \ubc30\uc5f4"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"read-video-cam",children:"Read video, cam"}),"\n",(0,a.jsx)(n.h3,{id:"cvvideocapture",children:"cv.VideoCapture"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"class cv.VideoCapture(index|filename, apiPreference=cv.CAP_ANY)\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief VideoCapture \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131"}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"index|filename"}),": \ucea0\uc758 \uc778\ub371\uc2a4 \ub610\ub294 \ub3d9\uc601\uc0c1 \ud30c\uc77c \uacbd\ub85c"]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"apiPreference"}),": \uc601\uc0c1\uc744 \ucc98\ub9ac\ud560 api \uc120\ud0dd","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.CAP_ANY"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.CAP_V4L2"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://docs.opencv.org/master/d4/d15/group__videoio__flags__base.html",children:"https://docs.opencv.org/master/d4/d15/group__videoio__flags__base.html"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"@return cv.VideoCapture"}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["Linux(debian)\uc5d0\uc11c \ube44\ub514\uc624\uc758 \uc778\ub371\uc2a4\ub294 ",(0,a.jsx)(n.strong,{children:"/dev/video"})," \ub4a4\uc758 \uc22b\uc790\uc785\ub2c8\ub2e4. \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \ucea0 \uc815\ubcf4\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.(/dev/video[\uc778\ub371\uc2a4]) ",(0,a.jsx)(n.code,{children:"v4l2-ctl --all --list-formats-ext -d /dev/video0"})]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"is_success = cv.VideoCapture.isOpened()\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief \ucea0 \ub610\ub294 \ud30c\uc77c\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc5f4\ub838\ub294\uc9c0 \ud655\uc778"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"value = cv.VideoCapture.get(propid)\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief \uc124\uc815\ub41c \uc18d\uc131 \uac12 \ud655\uc778"}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"propid"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.CAP_PROP_FRAME_WIDTH"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.CAP_PROP_FRAME_HEIGHT"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.CAP_PROP_FOURCC"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://docs.opencv.org/master/d4/d15/group__videoio__flags__base.html",children:"https://docs.opencv.org/master/d4/d15/group__videoio__flags__base.html"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"is_success = cv.VideoCapture.set(propid, value)\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief \uc18d\uc131 \uc124\uc815"}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"propid"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.CAP_PROP_FRAME_WIDTH"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.CAP_PROP_FRAME_HEIGHT"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"cv.CAP_PROP_FOURCC"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://docs.opencv.org/master/d4/d15/group__videoio__flags__base.html",children:"https://docs.opencv.org/master/d4/d15/group__videoio__flags__base.html"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"is_success, image = cv.VideoCapture.read()\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief \ub2e4\uc74c \ud504\ub808\uc784\uc744 \uc77d\uc5b4 \uc774\ubbf8\uc9c0\ub85c \ubc18\ud658"}),"\n",(0,a.jsxs)(n.li,{children:["@return image (",(0,a.jsx)(n.strong,{children:"BGR"}),")"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"cv.VideoCapture.release()\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief \ud30c\uc77c \ub610\ub294 \ucea0 \ub2eb\uae30"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"cvvideowriter",children:"cv.VideoWriter"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"class cv.VideoWriter(filename, apiPreference=cv.CAP_ANY, fourcc, fps, frameSize, isColor=True)\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief VideoWriter \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131"}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"apiPreference"}),": \uc601\uc0c1\uc744 \ucc98\ub9ac\ud560 api \uc120\ud0dd"]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"fourcc"}),": 4-character code of codec, cv.VideoWriter_fourcc()\ub97c \uc0ac\uc6a9\ud574 \uc124\uc815"]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"fps"})]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"frameSize"}),": tuple (\uac00\ub85c, \uc138\ub85c)"]}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"isColor"})]}),"\n",(0,a.jsx)(n.li,{children:"@return cv.VideoWriter"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"fourcc_code = cv.VideoWriter_fourcc(c1, c2, c3, c4)\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief 4 \uac1c\uc758 \ubb38\uc790\ub85c fourcc_code \uc0dd\uc131"}),"\n",(0,a.jsxs)(n.li,{children:["@param ",(0,a.jsx)(n.strong,{children:"c1~c4"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"*'MJPG'"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"*'YUYV'"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"*'FMP4'"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://www.fourcc.org/codecs.php",children:"https://www.fourcc.org/codecs.php"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"is_success = cv.VideoWriter.isOpened()\nvalue = cv.VideoWriter.get(propid)\nis_success = cv.VideoWriter.set(propid, value)\ncv.VideoWriter.release()\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief cv.VideoCapture\uc640 \ub3d9\uc77c"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"cv.VideoWriter.write(image)\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"@brief \ub2e4\uc74c \ud504\ub808\uc784 \ucd94\uac00"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(n.p,{children:"C++ compilation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"g++ [input.cpp] -o [output] $(pkg-config opencv4 --libs --cflags)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"read-image-1",children:"Read image"}),"\n",(0,a.jsxs)(s.A,{groupId:"programing-language",defaultValue:"python",values:[{label:"Python",value:"python"},{label:"Cpp",value:"cpp"}],children:[(0,a.jsx)(l.A,{value:"python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import cv2 as cv\n\n# image.jpg \ud30c\uc77c\uc744 \uc77d\uace0, img\uc5d0 \ud560\ub2f9.\nimg = cv.imread("image.jpg")\n\n# image \ucc3d\uc5d0 img \ud45c\uc2dc.\ncv.imshow("image", img)\n\n# \ud0a4 \uc785\ub825\uc774 \uc788\uc744 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9bc.\ncv.waitKey()\ncv.destroyAllWindows()\n'})})}),(0,a.jsx)(l.A,{value:"cpp",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:'#include <opencv2/opencv.hpp>\n\nint main(void) {\n    cv::Mat img;\n\n    // image.jpg \ud30c\uc77c\uc744 \uc77d\uace0, img\uc5d0 \ud560\ub2f9.\n    img = cv::imread("image.jpg");\n\n    // image \ucc3d\uc5d0 img \ud45c\uc2dc.\n    cv::imshow("image", img);\n\n    // \ud0a4 \uc785\ub825\uc774 \uc788\uc744 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9bc.\n    cv::waitKey();\n    cv::destroyAllWindows();\n\n    return 0;\n}\n'})})})]}),"\n",(0,a.jsx)(n.h3,{id:"read-video",children:"Read video"}),"\n",(0,a.jsxs)(s.A,{groupId:"programing-language",defaultValue:"python",values:[{label:"Python",value:"python"},{label:"Cpp",value:"cpp"}],children:[(0,a.jsx)(l.A,{value:"python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import cv2 as cv\n\n# video.mp4 \ud30c\uc77c \uc5f4\uae30.\ncap = cv.VideoCapture("video.mp4")\n\n# frame per second \uac12 \uc5bb\uae30.\nfps = cap.get(cv.CAP_PROP_FPS)\n\nif cap.isOpened():\n    while True:\n        # \ud504\ub808\uc784 \uc77d\uace0, frame \ubcc0\uc218\uc5d0 \ud560\ub2f9.\n        is_success, frame = cap.read()\n        if not is_success:\n            break\n\n        # video \ucc3d\uc5d0 frame \ud45c\uc2dc.\n        cv.imshow("video", frame)\n\n        if cv.waitKey(int(1000 / fps)) & 0xFF != 255:\n            """\n            1000/fps ms \ub3d9\uc548 \ud0a4 \uc785\ub825 \uae30\ub2e4\ub9bc.\n            \ud0a4 \uc785\ub825\uc774 \uc788\uc73c\uba74 \ub8e8\ud504 \uc885\ub8cc.\n            """\n            break\n\ncap.release()\ncv.destroyAllWindows()\n'})})}),(0,a.jsx)(l.A,{value:"cpp",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:'#include <opencv2/opencv.hpp>\n\nint main(void) {\n    cv::Mat frame;\n\n    // video.mp4 \ud30c\uc77c \uc5f4\uae30.\n    cv::VideoCapture cap;\n    cap.open("video.mp4");\n\n    // frame per second \uac12 \uc5bb\uae30.\n    int fps = cap.get(cv::CAP_PROP_FPS);\n\n    if(cap.isOpened()) {\n        for(;;) {\n            // \ud504\ub808\uc784 \uc77d\uace0, frame \ubcc0\uc218\uc5d0 \ud560\ub2f9.\n            cap >> frame;\n            if(frame.empty()) { break; }\n\n            // video \ucc3d\uc5d0 frame \ud45c\uc2dc.\n            imshow("video", frame);\n\n            // 1000/fps ms \ub3d9\uc548 \ud0a4 \uc785\ub825 \uae30\ub2e4\ub9bc.\n            // \ud0a4 \uc785\ub825\uc774 \uc788\uc73c\uba74 \ub8e8\ud504 \uc885\ub8cc.\n            if((cv::waitKey(1000 / fps) & 0xFF) != 0xFF) { break; }\n        }\n    }\n\n    cap.release();\n    cv::destroyAllWindows();\n\n    return 0;\n}\n'})})})]}),"\n",(0,a.jsx)(n.h3,{id:"read-cam",children:"Read cam"}),"\n",(0,a.jsxs)(s.A,{groupId:"programing-language",defaultValue:"python",values:[{label:"Python",value:"python"},{label:"Cpp",value:"cpp"}],children:[(0,a.jsx)(l.A,{value:"python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import cv2 as cv\n\nOUTPUT_VIDEO_WIDTH = 640\nOUTPUT_VIDEO_HEIGHT = 480\n\n# 0 \ubc88 \ucea0 (/dev/video0) \uc5f4\uae30.\ncap = cv.VideoCapture(0, cv.CAP_V4L2)\n\n# \ud53d\uc140 \ub2e8\uc704\ub85c \uac00\ub85c, \uc138\ub85c \uc124\uc815.\ncap.set(cv.CAP_PROP_FRAME_WIDTH, OUTPUT_VIDEO_WIDTH)\ncap.set(cv.CAP_PROP_FRAME_HEIGHT, OUTPUT_VIDEO_HEIGHT)\n\n# \ud53d\uc140 \ud3ec\ub9f7 \uc124\uc815.\ncap.set(cv.CAP_PROP_FOURCC, cv.VideoWriter_fourcc(*"MJPG"))\n\n"""\n\ub179\ud654 \uc124\uc815.\nrecord.avi\ub85c \uc800\uc7a5, FFmpeg \uc0ac\uc6a9.\n"""\nfourcc = cv.VideoWriter_fourcc(*"FMP4")\nout = cv.VideoWriter(\n    "record.avi", fourcc, 25.0, (OUTPUT_VIDEO_WIDTH, OUTPUT_VIDEO_HEIGHT)\n)\n\nif cap.isOpened() and out.isOpened():\n    while True:\n        try:\n            # \ud504\ub808\uc784 \uc77d\uace0, frame \ubcc0\uc218\uc5d0 \ud560\ub2f9.\n            is_success, frame = cap.read()\n        except cv.error as e:\n            continue\n\n        if not is_success:\n            break\n\n        # record.avi\uc5d0 frame \uc4f0\uae30.\n        out.write(frame)\n\n        # video \ucc3d\uc5d0 frame \ud45c\uc2dc.\n        cv.imshow("video", frame)\n\n        if cv.waitKey(1) & 0xFF != 255:\n            """\n            1 ms \ub3d9\uc548 \ud0a4 \uc785\ub825 \uae30\ub2e4\ub9bc.\n            \ud0a4 \uc785\ub825\uc774 \uc788\uc73c\uba74 \ub8e8\ud504 \uc885\ub8cc.\n            """\n            break\n\ncap.release()\nout.release()\ncv.destroyAllWindows()\n'})})}),(0,a.jsx)(l.A,{value:"cpp",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:"#include <opencv2/opencv.hpp>\n\nconst int OUTPUT_VIDEO_WIDTH  = 640;\nconst int OUTPUT_VIDEO_HEIGHT = 480;\n\nint main(void) {\n    cv::Mat frame;\n\n    // 0 \ubc88 \ucea0 (/dev/video0) \uc5f4\uae30.\n    cv::VideoCapture cap;\n    cap.open(0, cv::CAP_V4L2);\n\n    // \ud53d\uc140 \ub2e8\uc704\ub85c \uac00\ub85c, \uc138\ub85c \uc124\uc815.\n    cap.set(cv::CAP_PROP_FRAME_WIDTH, OUTPUT_VIDEO_WIDTH);\n    cap.set(cv::CAP_PROP_FRAME_HEIGHT, OUTPUT_VIDEO_HEIGHT);\n\n    // \ud53d\uc140 \ud3ec\ub9f7 \uc124\uc815.\n    cap.set(cv::CAP_PROP_FOURCC, cv::VideoWriter::fourcc('M', 'J', 'P', 'G'));\n\n    // \ub179\ud654 \uc124\uc815.\n    cv::VideoWriter out;\n    // record.avi\ub85c \uc800\uc7a5, FFmpeg \uc0ac\uc6a9.\n    out.open(\"record.avi\",\n             cv::VideoWriter::fourcc('F', 'M', 'P', '4'),\n             25.0,\n             cv::Size(OUTPUT_VIDEO_WIDTH, OUTPUT_VIDEO_HEIGHT));\n\n    if(cap.isOpened() && out.isOpened()) {\n        for(;;) {\n            try {\n                // \ud504\ub808\uc784 \uc77d\uace0, frame \ubcc0\uc218\uc5d0 \ud560\ub2f9.\n                cap.read(frame);\n            } catch(cv::Exception &e) { continue; }\n\n            if(frame.empty()) { break; }\n\n            // record.avi\uc5d0 frame \uc4f0\uae30.\n            out.write(frame);\n\n            // video \ucc3d\uc5d0 frame \ud45c\uc2dc.\n            cv::imshow(\"video\", frame);\n\n            // 1 ms \ub3d9\uc548 \ud0a4 \uc785\ub825 \uae30\ub2e4\ub9bc.\n            // \ud0a4 \uc785\ub825\uc774 \uc788\uc73c\uba74 \ub8e8\ud504 \uc885\ub8cc.\n            if((cv::waitKey(1) & 0xFF) != 0xFF) { break; }\n        }\n    }\n\n    cap.release();\n    out.release();\n    cv::destroyAllWindows();\n\n    return 0;\n}\n"})})})]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},49489:(e,n,r)=>{r.d(n,{A:()=>y});var i=r(96540),a=r(34164),c=r(24245),s=r(56347),l=r(36494),o=r(62814),d=r(67548),t=r(69900);function p(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return p(e).map(({props:{value:e,label:n,attributes:r,default:i}})=>({value:e,label:n,attributes:r,default:i}))}(r);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}function v({queryString:e=!1,groupId:n}){const r=(0,s.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(a),(0,i.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})},[a,r])]}function m(e){const{defaultValue:n,queryString:r=!1,groupId:a}=e,c=u(e),[s,o]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:c})),[d,p]=v({queryString:r,groupId:a}),[m,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,a]=(0,t.Dv)(n);return[r,(0,i.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),g=(()=>{const e=d??m;return h({value:e,tabValues:c})?e:null})();(0,l.A)(()=>{g&&o(g)},[g]);return{selectedValue:s,selectValue:(0,i.useCallback)(e=>{if(!h({value:e,tabValues:c}))throw new Error(`Can't select invalid tab value=${e}`);o(e),p(e),x(e)},[p,x,c]),tabValues:c}}var x=r(11062);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=r(74848);function f({className:e,block:n,selectedValue:r,selectValue:i,tabValues:s}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,c.a_)(),d=e=>{const n=e.currentTarget,a=l.indexOf(n),c=s[a].value;c!==r&&(o(n),i(c))},t=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:s.map(({value:e,label:n,attributes:i})=>(0,j.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{l.push(e)},onKeyDown:t,onClick:d,...i,className:(0,a.A)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function _({lazy:e,children:n,selectedValue:r}){const c=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=c.find(e=>e.props.value===r);return e?(0,i.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:c.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function b(e){const n=m(e);return(0,j.jsxs)("div",{className:(0,a.A)("tabs-container",g.tabList),children:[(0,j.jsx)(f,{...n,...e}),(0,j.jsx)(_,{...n,...e})]})}function y(e){const n=(0,x.A)();return(0,j.jsx)(b,{...e,children:p(e.children)},String(n))}}}]);