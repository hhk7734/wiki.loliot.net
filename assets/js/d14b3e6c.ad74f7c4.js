"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[86481],{28453:(e,n,l)=>{l.d(n,{R:()=>a,x:()=>r});var s=l(96540);const c={},i=s.createContext(c);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),s.createElement(i.Provider,{value:n},e.children)}},56989:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"lang/cpp/build/makefile/makefile-basics","title":"Makefile Basics","description":"Makefile Basics","source":"@site/docs/lang/cpp/build/makefile/makefile-basics.mdx","sourceDirName":"lang/cpp/build/makefile","slug":"/lang/cpp/build/makefile/makefile-basics","permalink":"/docs/lang/cpp/build/makefile/makefile-basics","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/cpp/build/makefile/makefile-basics.mdx","tags":[],"version":"current","lastUpdatedAt":1744387113000,"frontMatter":{"id":"makefile-basics","title":"Makefile Basics","sidebar_label":"Basics","description":"Makefile Basics","keywords":["Makefile"]},"sidebar":"cpp","previous":{"title":"Linting & Formatting","permalink":"/docs/lang/cpp/env/linting-formatting"},"next":{"title":"make help","permalink":"/docs/lang/cpp/build/makefile/help"}}');var c=l(74848),i=l(28453);const a={id:"makefile-basics",title:"Makefile Basics",sidebar_label:"Basics",description:"Makefile Basics",keywords:["Makefile"]},r=void 0,d={},o=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"macOS",id:"macos",level:3},{value:"Linux(debian)",id:"linuxdebian",level:3},{value:"Windows",id:"windows",level:3},{value:"Makefile",id:"makefile",level:2},{value:"Convention",id:"convention",level:2},{value:"Format",id:"format",level:3},{value:"Command",id:"command",level:3},{value:"Automatic Variables(\uc790\ub3d9 \ubcc0\uc218)",id:"automatic-variables\uc790\ub3d9-\ubcc0\uc218",level:2},{value:"Pre-defined Macro",id:"pre-defined-macro",level:2},{value:"clean",id:"clean",level:2},{value:"Pattern Rules(\ud328\ud134)",id:"pattern-rules\ud328\ud134",level:2},{value:"vpath",id:"vpath",level:3},{value:"Function",id:"function",level:2},{value:"wildcard",id:"wildcard",level:3},{value:"(pat)subst",id:"patsubst",level:3},{value:"add suffix,prefix",id:"add-suffixprefix",level:3},{value:"foreach",id:"foreach",level:3},{value:"call macro",id:"call-macro",level:3}];function t(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.p,{children:"Ref"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://wiki.kldp.org/KoreanDoc/html/GNU-Make/GNU-Make.html",children:"https://wiki.kldp.org/KoreanDoc/html/GNU-Make/GNU-Make.html"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://www.gnu.org/software/make/manual/make.html",children:"https://www.gnu.org/software/make/manual/make.html"})}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\ucef4\ud30c\uc77c\uc744 \ud560 \ub54c, \uc0c1\ud669\uc5d0 \ub530\ub77c \uc635\uc158\uc744 \ubcc0\uacbd\ud558\uace0, \uba85\ub839\uc5b4\ub97c \ud0c0\uc774\ud551 \ud558\ub294 \uc77c\uc774 \uc27d\uc9c0\ub294 \uc54a\uc2b5\ub2c8\ub2e4. \uc2dc\uc2a4\ud15c\uc774 \ubcf5\uc7a1\ud574\uc9c0\uba74 \ubcf5\uc7a1\ud574\uc9c8 \uc218\ub85d \uc758\uc874\uc131\uc744 \uace0\ub824\ud574\uc11c \ucef4\ud30c\uc77c \uc21c\uc11c\ub97c \uc815\ud558\ub294 \uac83\uc5d0\ub294 \ud55c\uacc4\ub97c \ub290\ub07c\uac8c \ub429\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.p,{children:["\ub9e4\ubc88\ud558\ub294 \uc791\uc5c5\uc744 \ucd5c\ub300\ud55c \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uace0 \uc2e4\ud589\ud558\uae30 \uc704\ud574\uc11c ",(0,c.jsx)(n.strong,{children:"Makefile"}),"\uc774\ub77c\ub294 \ud615\uc2dd\uc744 \uc0ac\uc6a9\ud558\uace0 ",(0,c.jsx)(n.strong,{children:"make"}),"\ub77c\ub294 \uba85\ub839\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,c.jsx)(n.h3,{id:"macos",children:"macOS"}),"\n",(0,c.jsx)(n.p,{children:"xcode command line tools\uc5d0 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.h3,{id:"linuxdebian",children:"Linux(debian)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"sudo apt install -y make\n"})}),"\n",(0,c.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,c.jsxs)(n.p,{children:["Download: ",(0,c.jsx)(n.a,{href:"http://gnuwin32.sourceforge.net/packages/make.htm",children:"http://gnuwin32.sourceforge.net/packages/make.htm"})]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"<path>/bin"}),"\uc744 \ud658\uacbd \ubcc0\uc218\uc758 Path\uc5d0 \ub4f1\ub85d\ud569\ub2c8\ub2e4. \ubcc4\ub3c4 \uc218\uc815 \uc5c6\uc774 \uc124\uce58\ud588\ub2e4\uba74 ",(0,c.jsx)(n.strong,{children:"C:\\Program Files (x86)\\GnuWin32\\bin"}),"\uc785\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.h2,{id:"makefile",children:"Makefile"}),"\n",(0,c.jsx)(n.h2,{id:"convention",children:"Convention"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.a,{href:"https://www.gnu.org/software/make/manual/html_node/Standard-Targets.html",children:"GNU Make Standard Targets"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Targets"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\uc18c\ubb38\uc790"}),"\n",(0,c.jsxs)(n.li,{children:["\ub744\uc5b4\uc4f0\uae30\ub97c \ud558\uc9c0 \uc54a\uac70\ub098 ",(0,c.jsx)(n.code,{children:"-"}),"\ub85c \ub300\uccb4"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"variables"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\ub744\uc5b4\uc4f0\uae30\ub97c \ud558\uc9c0 \uc54a\uac70\ub098 ",(0,c.jsx)(n.code,{children:"_"}),"\ub85c \ub300\uccb4"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"format",children:"Format"}),"\n",(0,c.jsx)(n.p,{children:"\uae30\ubcf8\uc801\uc778 Makefile\uc758 \ud615\uc2dd\uc740 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"# comment\nVAR = VALUE\n\ntarget1: dependency1\n    command1\n\ndependency1: dependency2 dependency3\n    command2\n    command3\n    command4\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Macro"}),": \ub9e4\ud06c\ub85c, \ubc18\ubcf5\uc801\uc73c\ub85c \uc0ac\uc6a9\ub418\ub294 \ub0b4\uc6a9"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Target"}),": \ud0c0\uac9f, \ud558\uc704 \uba85\ub839\uc774 \uc218\ud589\ub418\uc5b4 \ub098\uc628 \uacb0\uacfc\ubb3c"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Dependency"}),": \uc758\uc874\uc131, Target\uc774 \ub9cc\ub4e4\uc5b4\uc9c0\uae30 \uc704\ud574 \ud544\uc694\ud55c \uc785\ub825"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Command"}),": \uba85\ub839\uc5b4, Target\uc744 \ub9cc\ub4e4\uae30 \uc704\ud574 \uc218\ud589\ub418\ub294 \uba85\ub839\uc5b4"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["\ucc98\uc74c\uc5d0 ",(0,c.jsx)(n.strong,{children:"Macro"}),"\ub97c \uc120\uc5b8\ud569\ub2c8\ub2e4. \ub9e4\ud06c\ub85c \uc120\uc5b8 \uc911 \uac00\uc7a5 \uae30\ubcf8\uc740 ",(0,c.jsx)(n.strong,{children:"A = B"}),"\uc785\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:["\uae38\uc5b4\uc11c \uc904\uc744 \ub098\ub204\uace0 \uc2f6\uc73c\uba74 ",(0,c.jsx)(n.strong,{children:"\ub9c8\uc9c0\ub9c9\uc5d0 \\ \ub97c \ubd99\uc5ec\uc57c\ud569\ub2c8\ub2e4."})," ",(0,c.jsx)(n.strong,{children:"A = B"}),"\uac00 \uc120\uc5b8\ub418\uc5b4 \uc788\ub2e4\uba74 **$(A)**\ub294 make\uac00 \uc2e4\ud589\ub420\ub54c B\ub85c \uce58\ud658\ub418\uc5b4 \uc2e4\ud589\ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Dependency"}),"\ub294 \uc5c6\uc5b4\ub3c4 \ub418\uace0, \ud558\ub098 \ub610\ub294 \uc5ec\ub7ec\uac1c\ub97c \uac00\uc9c0\uace0 \uc788\uc5b4\ub3c4 \ub429\ub2c8\ub2e4. ",(0,c.jsx)(n.strong,{children:"\uc704\uc758 \uc608\ucc98\ub7fc dependency1\uc774 \ud0c0\uac9f\uc73c\ub85c \uc120\uc5b8\ub41c \uacbd\uc6b0, target1\uc758 \uacb0\uacfc\ub97c \uc5bb\uae30 \uc804\uc5d0 \uba3c\uc800 dependency1(\ud0c0\uac9f)\uc774 \uc2e4\ud589\ub429\ub2c8\ub2e4."})]}),"\n",(0,c.jsx)(n.p,{children:"\uc774\ub97c \uc774\uc6a9\ud558\uba74 \uc21c\ucc28\uc801\uc778 \uc77c\uc744 \uc9c4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uc18c\uc2a4 \ud30c\uc77c(.c)\uc744 \uc2e4\ud589 \ud30c\uc77c(.out)\ub85c \ub9cc\ub4e4 \ub54c, \uc911\uac04\uc5d0 \uc624\ube0c\uc81d\ud2b8 \ud30c\uc77c(.o)\uc774 \ub9cc\ub4e4\uc5b4\uc9c4\ub2e4\uace0 \ud558\uba74 test.c -> test.o -> test.out \uc21c\uc11c\ub85c \uc0dd\uc131\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4. \uc774\ub294 \uc544\ub798\uc640 \uac19\uc774 \uc791\uc131\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"test.out: test.o\n    gcc -o test.out test.o\n\ntest.o: test.c\n    gcc -Os -c -o test.o test.c\n"})}),"\n",(0,c.jsx)(n.admonition,{type:"danger",children:(0,c.jsxs)(n.p,{children:["\uba85\ub839\uc5b4\ub294 ",(0,c.jsx)(n.strong,{children:"Tab\uc73c\ub85c \uc2dc\uc791"}),"\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4. editor\ub97c \uc0ac\uc6a9\ud558\ub2e4\ubcf4\uba74 \uc790\ub3d9\uc73c\ub85c \uacf5\ubc31\ubb38\uc790\ub85c \ubcc0\ud658\ud574\uc8fc\ub294 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub7f0 \uacbd\uc6b0 \ud0ed\uc774 \uacf5\ubc31\ubb38\uc790\ub85c \ubc14\ub00c\uc5b4\uc11c make \uc2e4\ud589\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4."]})}),"\n",(0,c.jsx)(n.p,{children:"\uc791\uc131\ub41c Makefile\uc744 \uc2e4\ud589\uc2dc\ucf1c\ubcf4\uba74 \uc544\ub798\uc640 \uac19\uc740 \uacb0\uacfc\ub97c \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",metastring:"{1}",children:"$ make\ngcc -c -Os -o test.o test.c\ngcc -o test.out test.o\n"})}),"\n",(0,c.jsx)(n.h3,{id:"command",children:"Command"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"make [target] [VAR=VALUE]\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"target"}),"\uc774 \uc5c6\uc73c\uba74 Makefile\uc758 \uac00\uc7a5 \uccab\ubc88\uc9f8 target\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c \uac00\uc7a5 \uccab\ubc88\uc9f8 target\uc73c\ub85c all\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"VAR=VALUE"}),"\ub97c \ucd94\uac00\uc801\uc73c\ub85c \uc815\uc758\ud574\uc11c Makefile\uc744 \uc2e4\ud589\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.h2,{id:"automatic-variables\uc790\ub3d9-\ubcc0\uc218",children:"Automatic Variables(\uc790\ub3d9 \ubcc0\uc218)"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$@"}),": \ud0c0\uac9f"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$<"}),": \uccab \ubc88\uc9f8 \uc758\uc874\uc131"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$?"}),": \uc218\uc815\ub41c \uc758\uc874\uc131"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$^"}),": \ubaa8\ub4e0 \uc758\uc874\uc131"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$*"}),": \uc811\ubbf8\uc5b4\ub97c \uc81c\uac70\ud55c \ud0c0\uac9f \uba85(\uc778\uc2dd\ub41c \uc811\ubbf8\uc5b4\uac00 \uc544\ub2cc\uacbd\uc6b0 \uacf5\ubc31 \ubb38\uc790\ub85c \ucc98\ub9ac\ub428)"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\uc790\ub3d9 \ubcc0\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec Makefile\uc744 \uc218\uc815\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"test.out: test.o\n    gcc -o test.out test.o\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"test.out: test.o\n    gcc -o $@ $^\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"$"}),"\uc758 \uc0ac\uc6a9\ubc29\ubc95\uc744 \uc815\ud655\ud788 \uc54c\uc9c0 \ubabb\ud55c\ub2e4\uba74 \uc0ac\uc6a9\uc744 \ud53c\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.h2,{id:"pre-defined-macro",children:"Pre-defined Macro"}),"\n",(0,c.jsx)(n.p,{children:"\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 Pre-defined Macro\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"make -p | vim -\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"CC"}),": \ucef4\ud30c\uc77c\ub7ec, \uae30\ubcf8\uc801\uc73c\ub85c CC=cc, \uc0c1\ud669\uc5d0 \ub530\ub77c \uc624\ubc84\ub77c\uc774\ub529\ud558\uc5ec \uc0ac\uc6a9"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"CFLAGS"}),": \ucef4\ud30c\uc77c \uc635\uc158, \uae30\ubcf8\uc801\uc73c\ub85c \uc815\uc758\ub294 \uc548\ub418\uc5b4 \uc788\uc9c0\ub9cc \ub0b4\ubd80\uc801\uc73c\ub85c \uc0ac\uc6a9"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"LDFLAGS"}),": \ub9c1\ucee4 \uc635\uc158, \uae30\ubcf8\uc801\uc73c\ub85c \uc815\uc758\ub294 \uc548\ub418\uc5b4 \uc788\uc9c0\ub9cc \ub0b4\ubd80\uc801\uc73c\ub85c \uc0ac\uc6a9"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"COMPILE.c = $(CC) $(CFLAGS) $(CPPFLAGS) $(TARGET_ARCH) -c"}),"\ub294 \ub0b4\ubd80\uc801\uc73c\ub85c \uc815\uc758\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. ",(0,c.jsx)(n.strong,{children:"CC"}),"\ub97c \uc81c\uc678\ud55c \ub098\uba38\uc9c0 \ub9e4\ud06c\ub85c\ub294 \ub0b4\ubd80\uc801\uc73c\ub85c \uc815\uc758\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc544\uc11c \uc2e4\uc81c \ub9e4\ud06c\ub85c\uac00 \uc801\uc6a9\ub420 \ub54c\ub294 ",(0,c.jsx)(n.code,{children:"COMPILE.c = $(CC) -c"}),"\ub85c \uc801\uc6a9\ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:["\uc0ac\uc6a9\uc790\uac00 ",(0,c.jsx)(n.strong,{children:"CFLAGS"}),"\ub97c \uc815\uc758\ud558\uba74 ",(0,c.jsx)(n.code,{children:"COMPILE.c = $(CC) $(CFLAGS) -c"}),"\uac00 \uc801\uc6a9 \ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.p,{children:"\ub9e4\ud06c\ub85c\uc640 \ub0b4\ubd80 \ub9e4\ud06c\ub85c\ub97c \uc0ac\uc6a9\ud558\uc5ec Makefile\uc744 \uc218\uc815\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"test.out: test.o\n    gcc -o $@ $^\ntest.o: test.c\n    gcc -c -Os -o $@ $^\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"CC = gcc\nCFLAGS  = -Os\nLDFLAGS =\n\ntest.out: test.o\n    $(CC) $(LDFLAGS) -o $@ $^\n\ntest.o: test.c\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\ub9c8\uc9c0\ub9c9 ",(0,c.jsx)(n.code,{children:"test.o: test.c"}),"\ub294 \ub0b4\ubd80\uc801\uc73c\ub85c ",(0,c.jsx)(n.strong,{children:".c.o"}),"\uac00 \uc544\ub798\uc640 \uac19\uc774 \uc815\uc758\ub418\uc5b4 \uc788\uae30 \ub54c\ubb38\uc5d0 command\uac00 \uc5c6\uc5b4\ub3c4 \ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"COMPILE.c = $(CC) $(CFLAGS) $(CPPFLAGS) $(TARGET_ARCH) -c\nOUTPUT_OPTION = -o $@\n.c.o:\n    $(COMPILE.c) $(OUTPUT_OPTION) $<\n"})}),"\n",(0,c.jsx)(n.h2,{id:"clean",children:"clean"}),"\n",(0,c.jsxs)(n.p,{children:["\ucef4\ud30c\uc77c \uacfc\uc815\uc5d0\uc11c \uc0dd\uae30\ub294 \ud30c\uc77c\uc758 \uacbd\uc6b0 \uc9c0\uc6cc\uc57c \ud558\ub294 \uacbd\uc6b0\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc8fc\ub85c ",(0,c.jsx)(n.strong,{children:"clean"}),"\uc774\ub77c\ub294 \ud0c0\uac9f\uc744 \ub9cc\ub4e4\uc5b4 \uc544\ub798\uc640 \uac19\uc774 \uc0ac\uc6a9\ud558\uac8c \ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:".PHONY: clean\nclean: ; rm -f test.o test.out\n"})}),"\n",(0,c.jsx)(n.p,{children:".PHONY \ud0c0\uac9f\uc758 \uc758\uc874\uc131\uc73c\ub85c clean\uc744 \uc124\uc815\ud558\uba74, \uc2e4\uc81c \ud30c\uc77c\uc758 \uc720\ubb34\ub098 \ubcc0\uacbd\uacfc \uad00\uacc4\uc5c6\uc774 clean \ud0c0\uac9f\uc758 \ucee4\ub9e8\ub4dc\ub97c \ud56d\uc0c1 \uc2e4\ud589\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.h2,{id:"pattern-rules\ud328\ud134",children:"Pattern Rules(\ud328\ud134)"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"%"}),"\ub97c \uc0ac\uc6a9\ud558\uba74 Makefile\uacfc \uac19\uc740 \ud3f4\ub354\uc5d0 \uc788\ub294 \ud30c\uc77c \uc911 \ud328\ud134\uc774 \uc788\ub294 \ub0b4\uc6a9\uc744 \uc27d\uac8c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.p,{children:"\ud328\ud134\uc744 \uc0ac\uc6a9\ud558\uc5ec Makefile\uc744 \uc218\uc815\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"main.o: main.c\nfoo.o: foo.c\nbar.o: bar.c\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"%.o: %.c\n    $(CC) $(CFLAGS) -c -o $@ $<\n"})}),"\n",(0,c.jsx)(n.h3,{id:"vpath",children:"vpath"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"vpath pattern directories"}),": %.c, %.h \ub4f1\uc758 pattern\uc744 \ucc3e\uae30 \uc704\ud55c directories\ub97c \uc124\uc815"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"vpath pattern"}),": pattern\uc744 \ucc3e\uae30 \uc704\ud55c directories \ubaa9\ub85d\uc744 \ube44\uc6c0"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"vpath"}),": \ubaa8\ub4e0 directories \ubaa9\ub85d\uc744 \ube44\uc6c0"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\uc5ec\ub7ec \ud3f4\ub354\uc5d0 \uc788\ub294 \ud30c\uc77c \uc911 \ud328\ud134\uc774 \uc788\ub294 \ub0b4\uc6a9\uc744 \uc27d\uac8c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:"vpath\ub97c \uc0ac\uc6a9\ud558\uc5ec Makefile\uc744 \uc218\uc815\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"main.o: src/main.c\nfoo.o: lib/foo/foo.c\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"vpath %.c src lib/foo\n\n%.o: %.c\n    $(CC) $(CFLAGS) -c -o $@ $<\n"})}),"\n",(0,c.jsx)(n.h2,{id:"function",children:"Function"}),"\n",(0,c.jsx)(n.p,{children:"x...\uc740 \ub744\uc5b4\uc4f0\uae30\ub85c \uad6c\ubd84\ud558\uc5ec \ub098\uc5f4\ub41c \uc5ec\ub7ec \uac1c\uc758 x\ub97c \uc758\ubbf8\ud569\ub2c8\ub2e4. \ud568\uc218\uc758 \uacb0\uacfc\uac00 \uc5ec\ub7ec \uac1c\uc778 \uacbd\uc6b0\uc5d0\ub3c4 \ub744\uc5b4\uc4f0\uae30\ub85c \uad6c\ubd84\ub418\uc5b4 \ub098\uc5f4\ub429\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:"\uc608\ub97c \ub4e4\uc5b4 x...\uc740 x1 x2 x3\uac00 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.h3,{id:"wildcard",children:"wildcard"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"$(wildcard pattern...)"}),"\ub294 Makefile\uacfc \uac19\uc740 \ud3f4\ub354\uc5d0 \uc788\ub294 \ud30c\uc77c \uc911 ",(0,c.jsx)(n.strong,{children:"pattern"}),"\ub4e4\uc5d0 \ud574\ub2f9\ud558\ub294 \ud30c\uc77c \uba85\uc744 \ub098\uc5f4\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.p,{children:"wildcard\ub97c \uc0ac\uc6a9\ud560 \ub54c, \ud328\ud134\uc73c\ub85c %.c\uac00 \uc544\ub2c8\ub77c *.c\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:"\ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec Makefile\uc744 \uc218\uc815\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:"(\ud3f4\ub354\uc5d0 main.o, foo.o, bar.o \uac00 \uc788\ub294 \uacbd\uc6b0\uc785\ub2c8\ub2e4.)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"OBJS  = main.o foo.o bar.o\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"OBJS  = $(wildcard *.o)\n"})}),"\n",(0,c.jsx)(n.h3,{id:"patsubst",children:"(pat)subst"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$(subst from,to,text)"}),": text\uc5d0\uc11c from\uc744 \ucc3e\uc544 to\ub85c \ubc14\uafc9\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$(patsubst pattern,replacement,text)"}),": text\uc5d0\uc11c pattern\uc744 \ucc3e\uc544 replacement\ub85c \ubc14\uafc9\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$(Macro:pattern=replacement)"})," == ",(0,c.jsx)(n.code,{children:"$(patsubst pattern,replacement,$(Macro))"})]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec Makefile\uc744 \uc218\uc815\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:"(\ud3f4\ub354\uc5d0 main.c, foo.c, bar.c \uac00 \uc788\ub294 \uacbd\uc6b0\uc785\ub2c8\ub2e4.)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"OBJS  = main.o foo.o bar.o\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"SRCS  = $(wildcard *.c)\nOBJS  = $(patsubst %.c,%.o,$(SRCS))\n"})}),"\n",(0,c.jsx)(n.h3,{id:"add-suffixprefix",children:"add suffix,prefix"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"$(addsuffix suffix,names\u2026)"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"$(addprefix prefix,names\u2026)"})}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec Makefile\uc744 \uc218\uc815\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:"(\ud3f4\ub354\uc5d0 main.c, foo.c, bar.c \uac00 \uc788\ub294 \uacbd\uc6b0\uc785\ub2c8\ub2e4.)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"OBJS  = obj/main.o obj/foo.o obj/bar.o\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"SRCS  = $(wildcard *.c)\nOBJS  = $(addprefix obj/,$(patsubst %.c,%.o,$(SRCS)))\n"})}),"\n",(0,c.jsx)(n.h3,{id:"foreach",children:"foreach"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"$(foreach var,list,text)"}),"\ub294 ",(0,c.jsx)(n.strong,{children:"list"}),"\uc758 \uc6d0\uc18c\ub97c \uc21c\ucc28\uc801\uc73c\ub85c \ubcc0\uc218 ",(0,c.jsx)(n.strong,{children:"var"}),"\uc5d0 \ud560\ub2f9\ud558\uc5ec ",(0,c.jsx)(n.strong,{children:"text"}),"\ub97c \ubc18\ubcf5\ud558\ub294 \ud568\uc218\uc785\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.p,{children:"\ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec Makefile\uc744 \uc218\uc815\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:"(\ud3f4\ub354\uc5d0 main.c, foo.c, bar.c \uac00 \uc788\ub294 \uacbd\uc6b0\uc785\ub2c8\ub2e4.)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"OBJS  = obj/main.o obj/foo.o obj/bar.o\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"SRCS  = $(wildcard *.c)\nOBJS  = $(foreach src,$(SRCS),obj/$(patsubst %.c,%.o,$(src)))\n"})}),"\n",(0,c.jsx)(n.h3,{id:"call-macro",children:"call macro"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"macro = $(1) $(2) ..."}),": call \ud568\uc218\ub97c \ud1b5\ud574 \ubd80\ub97c \uc218 \uc788\ub294 macro \uc785\ub2c8\ub2e4. $(1)\uc774 param1\uc785\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"define macro = $(1) ... endif"}),": \uc5ec\ub7ec \uc904\uc5d0 \uac78\uccd0 macro\ub97c \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"$(call macro,param1,param2,...)"})}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$(eval macro)"}),": macro\ub97c \ubbf8\ub9ac \ud655\uc778\ud558\uace0 Makefile\uc758 \uad6c\ubb38\uc73c\ub85c \uc815\uc758\ud558\uc5ec \ud574\ub2f9 \uacb0\uacfc\uac00 makefile\uc758 \ucf54\ub4dc\ub85c \ubd84\uc11d\ub418\uac8c \ub9cc\ub4ed\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"call"}),"\ud568\uc218\ub294 \ub9e4\ud06c\ub85c\uc5d0 \ub9e4\uac1c\ubcc0\uc218\ub97c \ucd94\uac00\ud558\uc5ec \ubd80\ubd84\ub9cc \ubc14\uafd4\uc11c \uc4f8 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.p,{children:"macro\uc640 call\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub514\ub809\ud130\ub9ac\uc758 \ud558\uc704 \ud56d\ubaa9\uc744 \ubaa8\ub450 \ucc3e\uc744 \uc218 \uc788\ub294 recursive \ud568\uc218\ub97c \uc544\ub798\uc640 \uac19\uc774 \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"rwildcard=$(wildcard $1$2) $(foreach d,$(wildcard $1*),$(call rwildcard,$d/,$2))\ntest:\n    #\ud604\uc7ac \ub514\ub809\ud130\ub9ac\uc640 \ud558\uc704 \ub514\ub809\ud130\ub9ac\uc758 \ubaa8\ub4e0 \ub514\ub809\ud130\ub9ac\uc640 \ud30c\uc77c\n    @echo $(call rwildcard,,*);\\\n    #src \ub514\ub809\ud130\ub9ac\uc640 src \ud558\uc704 \ub514\ub809\ud130\ub9ac\uc758 \ubaa8\ub4e0 .c \ud30c\uc77c\n    @echo $(call rwildcard,src,*.c)\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"call"}),"\uc740 \ub2e8\uc21c\ud788 macro\ub97c \ud638\ucd9c\ud558\uace0 \ubcc0\uc218\uc758 \uac12\uc744 \ud655\uc7a5\uc2dc\ucf1c\uc8fc\ub294 \ud568\uc218\uc785\ub2c8\ub2e4. \ub530\ub77c\uc11c tab\uc774 \uc788\uc5b4\ub3c4 makefile\uc774 \uc778\uc2dd\uc744 \ud558\uc9c0 \ubabb\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uc544\ub798\uc758 \uacbd\uc6b0 \uac19\uc740 Makefile\uc774\uae30 \ub54c\ubb38\uc5d0 \uc758\ub3c4\ud558\uc9c0 \uc54a\uc740 \uc624\ub958\ub97c \ubc1c\uc0dd\uc2dc\ud0b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"define asdf =\nasdf:\n    @echo asdf\nendef\n\n$(call asdf)\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"asdf: @echo asdf\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"eval"}),"\ud568\uc218\ub294 ",(0,c.jsx)(n.strong,{children:"macro"}),"\ub97c \ubbf8\ub9ac \ud655\uc778\ud558\uace0 makefile\uc758 \uad6c\ubb38\uc73c\ub85c \uc815\uc758\ud574 \uc90d\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.p,{children:["\uc704\uc758 \uc608\ub97c ",(0,c.jsx)(n.strong,{children:"eval"}),"\ud568\uc218\ub85c \ub2e4\uc2dc \ud45c\ud604\ud558\uba74 \uc758\ub3c4\ud55c \uacb0\uacfc\ub97c \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"define asdf =\nasdf:\n    @echo asdf\nendef\n\n$(eval $(call asdf))\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-makefile",children:"asdf:\n    @echo asdf\n"})}),"\n",(0,c.jsx)(n.admonition,{type:"danger",children:(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"eval"}),"\ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uba74 \ub0b4\ubd80\uc5d0 \uc790\ub3d9 \ubcc0\uc218\ub97c \uc0ac\uc6a9\ud560 \ub54c ",(0,c.jsx)(n.code,{children:"$"}),"\ub97c \ud55c\ubc88 \ub354 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4. (",(0,c.jsx)(n.code,{children:"$$@"}),", ",(0,c.jsx)(n.code,{children:"$$<"})," \ub4f1) eval\ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uba74 ",(0,c.jsx)(n.strong,{children:"\ub0b4\ubd80 \ub0b4\uc6a9\uc774 eval\ud568\uc218\uc640 Makefile\uc5d0 \uc758\ud574 2\ubc88 \ud655\uc7a5\ub429\ub2c8\ub2e4."})," \ub530\ub77c\uc11c ",(0,c.jsxs)(n.strong,{children:[(0,c.jsx)(n.code,{children:"$@"}),"->\uacf5\ubc31->\uacf5\ubc31"]}),", ",(0,c.jsxs)(n.strong,{children:[(0,c.jsx)(n.code,{children:"$$@"}),"->",(0,c.jsx)(n.code,{children:"$@"}),"->target"]}),"\uc774 \ub429\ub2c8\ub2e4."]})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(t,{...e})}):t(e)}}}]);