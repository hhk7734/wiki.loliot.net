"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[23612],{28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>t});var i=n(96540);const o={},l=i.createContext(o);function r(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(l.Provider,{value:s},e.children)}},31611:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"mlops/network/istio/telemetry/accesslog","title":"Istio Access Log \uc124\uc815 \uac00\uc774\ub4dc","description":"Istio Access Log \uc124\uc815 \uac00\uc774\ub4dc","source":"@site/docs/mlops/network/istio/telemetry/accesslog.mdx","sourceDirName":"mlops/network/istio/telemetry","slug":"/mlops/network/istio/telemetry/accesslog","permalink":"/docs/mlops/network/istio/telemetry/accesslog","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/network/istio/telemetry/accesslog.mdx","tags":[],"version":"current","lastUpdatedAt":1764088712000,"frontMatter":{"id":"accesslog","title":"Istio Access Log \uc124\uc815 \uac00\uc774\ub4dc","sidebar_label":"Access Log \uc124\uc815 \uac00\uc774\ub4dc","description":"Istio Access Log \uc124\uc815 \uac00\uc774\ub4dc","keywords":["Istio","Access Log"]},"sidebar":"network","previous":{"title":"Authorization","permalink":"/docs/mlops/network/istio/security/authorization/"},"next":{"title":"OpenTelemetry \uc124\uc815 \uac00\uc774\ub4dc","permalink":"/docs/mlops/network/istio/telemetry/opentelemetry"}}');var o=n(74848),l=n(28453);const r={id:"accesslog",title:"Istio Access Log \uc124\uc815 \uac00\uc774\ub4dc",sidebar_label:"Access Log \uc124\uc815 \uac00\uc774\ub4dc",description:"Istio Access Log \uc124\uc815 \uac00\uc774\ub4dc",keywords:["Istio","Access Log"]},t=void 0,c={},d=[{value:"Access Log Provider \uc124\uc815",id:"access-log-provider-\uc124\uc815",level:2},{value:"Envoy\uc5d0 provider \uc801\uc6a9\ud558\uae30",id:"envoy\uc5d0-provider-\uc801\uc6a9\ud558\uae30",level:2}];function a(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h2,{id:"access-log-provider-\uc124\uc815",children:"Access Log Provider \uc124\uc815"}),"\n",(0,o.jsx)(s.admonition,{title:"References",type:"info",children:(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://istio.io/latest/docs/reference/config/istio.mesh.v1alpha1",children:"Istio / Configuration / Global Mesh Options"})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://www.envoyproxy.io/docs/envoy/latest/configuration/observability/access_log/usage",children:"Envoy / Configuration / Observability / Access Log"})}),"\n"]})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-yaml",metastring:'title="istiod-values.yaml"',children:"meshConfig:\n  extensionProviders:\n    - name: jsonlogger\n      envoyFileAccessLog:\n        path: /dev/stdout\n        logFormat:\n          labels: {}\n        omitEmptyValues: true\n"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"extensionProviders: []"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.code,{children:"name: <name>"})}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"envoyFileAccessLog"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.code,{children:"path: /dev/stderr|/dev/stdout"})}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"logFormat"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.code,{children:"text: <format>"})}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"labels"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.code,{children:"key: <value>"})}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"{}"}),"\ub85c \uc124\uc815\ud558\uba74 \uae30\ubcf8 \ud3ec\ub9f7\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.code,{children:"omitEmptyValues: true|false"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"defaultProviders"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.code,{children:"accessLogging: [<provider>]"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"envoy\uc5d0-provider-\uc801\uc6a9\ud558\uae30",children:"Envoy\uc5d0 provider \uc801\uc6a9\ud558\uae30"}),"\n",(0,o.jsx)(s.admonition,{title:"References",type:"info",children:(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://istio.io/latest/docs/tasks/observability/logs/access-log/",children:"Istio / Tasks / Observability / Access Logs"})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://istio.io/latest/docs/reference/config/telemetry/",children:"Istio / Configuration / Telemetry"})}),"\n"]})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-yaml",children:"apiVersion: telemetry.istio.io/v1\nkind: Telemetry\nspec:\n  accessLogging:\n    - providers:\n        - name: jsonlogger\n      filter:\n        expression: response.code >= 500\n"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"providers: []"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"name: <extensionProvider>"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\uae30\ubcf8 ExtensionProvider\ub85c ",(0,o.jsx)(s.code,{children:"envoy"}),"\uac00 \uc81c\uacf5\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"filter"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"expression: <CELExpression>"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["e.g. ",(0,o.jsx)(s.code,{children:"response.code >= 500"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);