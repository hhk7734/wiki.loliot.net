"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[64033],{20956:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"mlops/monitoring/prometheus/kubelet","title":"kubelet","description":"kubelet","source":"@site/docs/mlops/monitoring/prometheus/kubelet.mdx","sourceDirName":"mlops/monitoring/prometheus","slug":"/mlops/monitoring/prometheus/kubelet","permalink":"/docs/mlops/monitoring/prometheus/kubelet","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/monitoring/prometheus/kubelet.mdx","tags":[],"version":"current","lastUpdatedAt":1734103299000,"frontMatter":{"id":"kubelet","title":"kubelet","sidebar_label":"kubelet","description":"kubelet","keywords":["kubelet"]},"sidebar":"monitoring","previous":{"title":"node-exporter","permalink":"/docs/mlops/monitoring/prometheus/node-exporter"},"next":{"title":"Thanos","permalink":"/docs/mlops/monitoring/prometheus/thanos"}}');var r=n(74848),o=n(28453);const l={id:"kubelet",title:"kubelet",sidebar_label:"kubelet",description:"kubelet",keywords:["kubelet"]},i=void 0,c={},a=[{value:"kubelet",id:"kubelet",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"kube-prometheus-stack",id:"kube-prometheus-stack",level:3},{value:"Metrics",id:"metrics",level:2}];function u(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"kubelet",children:"kubelet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"kubectl get --raw /api/v1/nodes/<nodeName>/proxy/metrics\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"kubectl get --raw /api/v1/nodes/<nodeName>/proxy/metrics/cadvisor\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"kubectl get --raw /api/v1/nodes/<nodeName>/proxy/metrics/probes\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,r.jsx)(t.h3,{id:"kube-prometheus-stack",children:"kube-prometheus-stack"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",metastring:'title="kube-prometheus-stack-values.yaml"',children:'kubernetesServiceMonitors:\n  enabled: true\n\nkubelet:\n  enabled: true\n\n  serviceMonitor:\n    additionalLabels: {}\n\nprometheusOperator:\n  enabled: true\n\n  kubeletService:\n    enabled: true\n    namespace: kube-system\n    # \'{{ template "kube-prometheus-stack.fullname" . }}-kubelet\' by default\n    name: ""\n'})}),"\n",(0,r.jsx)(t.h2,{id:"metrics",children:"Metrics"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://kubernetes.io/docs/reference/instrumentation/metrics/",children:"https://kubernetes.io/docs/reference/instrumentation/metrics/"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/google/cadvisor/blob/master/docs/storage/prometheus.md",children:"https://github.com/google/cadvisor/blob/master/docs/storage/prometheus.md"})}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"container"})," ",(0,r.jsx)(t.code,{children:"_cpu"})," ",(0,r.jsx)(t.code,{children:"_usage_seconds_total"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["CPU \uc0ac\uc6a9\ub7c9: ",(0,r.jsx)(t.code,{children:"sum by(pod) (rate(container_cpu_usage_seconds_total[1m]))"})]}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>i});var s=n(96540);const r={},o=s.createContext(r);function l(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);