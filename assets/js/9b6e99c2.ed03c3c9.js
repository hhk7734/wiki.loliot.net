"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[58184],{28453:(e,t,n)=>{n.d(t,{R:()=>u,x:()=>c});var r=n(96540);const s={},a=r.createContext(s);function u(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:u(e.components),r.createElement(a.Provider,{value:t},e.children)}},78313:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>l,frontMatter:()=>u,metadata:()=>r,toc:()=>i});const r=JSON.parse('{"id":"lang/javascript/react/react-query/use-query","title":"React Query useQuery","description":"React Query useQuery","source":"@site/docs/lang/javascript/react/react-query/use-query.mdx","sourceDirName":"lang/javascript/react/react-query","slug":"/lang/javascript/react/react-query/use-query","permalink":"/docs/lang/javascript/react/react-query/use-query","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/javascript/react/react-query/use-query.mdx","tags":[],"version":"current","lastUpdatedAt":1740850310000,"frontMatter":{"id":"use-query","title":"React Query useQuery","sidebar_label":"useQuery","description":"React Query useQuery","keywords":["react query","useQuery"]},"sidebar":"javascript","previous":{"title":"Jotai","permalink":"/docs/lang/javascript/react/jotai/"},"next":{"title":"useMutation","permalink":"/docs/lang/javascript/react/react-query/use-mutation"}}');var s=n(74848),a=n(28453);const u={id:"use-query",title:"React Query useQuery",sidebar_label:"useQuery",description:"React Query useQuery",keywords:["react query","useQuery"]},c=void 0,o={},i=[{value:"useQuery",id:"usequery",level:2},{value:"Query Key",id:"query-key",level:2},{value:"Query Function",id:"query-function",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"usequery",children:"useQuery"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://tanstack.com/query/latest/docs/react/reference/useQuery",children:"https://tanstack.com/query/latest/docs/react/reference/useQuery"})}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'import { useQuery } from "@tanstack/react-query";\n\nconst query = useQuery({\n\tqueryKey, // unknown[]\n\tqueryFn, // (context: QueryFunctionContext) => Promise<TData>\n\tcacheTime,\n\tenabled,\n\tnetworkMode,\n\tinitialData,\n\tinitialDataUpdatedAt,\n\tkeepPreviousData,\n\tmeta,\n\tnotifyOnChangeProps,\n\tonError,\n\tonSettled,\n\tonSuccess,\n\tplaceholderData,\n\tqueryKeyHashFn,\n\trefetchInterval,\n\trefetchIntervalInBackground,\n\trefetchOnMount,\n\trefetchOnReconnect,\n\trefetchOnWindowFocus,\n\tretry,\n\tretryOnMount,\n\tretryDelay,\n\tselect,\n\tstaleTime,\n\tstructuralSharing,\n\tsuspense,\n\tuseErrorBoundary,\n});\n\nconst {\n\tdata,\n\tdataUpdatedAt,\n\terror,\n\terrorUpdateCount,\n\terrorUpdatedAt,\n\tfailureCount,\n\tfailureReason,\n\tfetchStatus,\n\tisError, // status === "error"\n\tisFetched,\n\tisFetchedAfterMount,\n\tisFetching,\n\tisInitialLoading,\n\tisLoading, // status === "loading"\n\tisLoadingError,\n\tisPaused,\n\tisPlaceholderData,\n\tisPreviousData,\n\tisRefetchError,\n\tisRefetching,\n\tisStale,\n\tisSuccess, // status === "success"\n\trefetch,\n\tremove,\n\tstatus,\n} = query;\n'})}),"\n",(0,s.jsx)(t.h2,{id:"query-key",children:"Query Key"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://tanstack.com/query/latest/docs/react/guides/query-keys",children:"https://tanstack.com/query/latest/docs/react/guides/query-keys"})}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["\ucffc\ub9ac\ub294 ",(0,s.jsx)(t.code,{children:"queryKey"}),"\ub97c \uae30\ubc18\uc73c\ub85c \uce90\uc2f1\uc744 \uad00\ub9ac\ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c \uac19\uc740 ",(0,s.jsx)(t.code,{children:"queryFn"}),"\uc744 \uac00\uc84c\ub354\ub77c\ub3c4 ",(0,s.jsx)(t.code,{children:"queryKey"}),"\uac00 \ub2e4\ub974\uba74 \ub2e4\ub978 \ucffc\ub9ac\ub85c \ucde8\uae09\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"queryKey"}),"\uc758 \uace0\uc720\uc131\uc740 \ubc30\uc5f4 \ub0b4\uc758 \uc544\uc774\ud15c\uc5d0 \uc758\ud574 \uacb0\uc815\ub418\uba70, \uc544\uc774\ud15c\uc740 \uac19\ub354\ub77c\ub3c4 \uc21c\uc11c\uac00 \ub2e4\ub974\uba74 \ub2e4\ub978 \uac83\uc73c\ub85c \uac04\uc8fc\ud569\ub2c8\ub2e4. \ub2e8, \uc544\uc774\ud15c\uc774 \uac1d\uccb4\uc778 \uacbd\uc6b0 \uac1d\uccb4 \ub0b4\uc758 \ud0a4 \uc21c\uc11c\ub294 \uace0\ub824\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t.p,{children:["\ub530\ub77c\uc11c \uc544\ub798\uc640 \uac19\uc740 \uacbd\uc6b0 \ubaa8\ub450 \uac19\uc740 ",(0,s.jsx)(t.code,{children:"queryKey"}),"\ub85c \ucde8\uae09\ub418\uba70"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"useQuery({ queryKey: ['todos', { status, page }], ... })\nuseQuery({ queryKey: ['todos', { page, status }], ...})\nuseQuery({ queryKey: ['todos', { page, status, other: undefined }], ... })\n"})}),"\n",(0,s.jsxs)(t.p,{children:["\uc544\ub798\uc640 \uac19\uc740 \uacbd\uc6b0\ub294 \ubaa8\ub450 \ub2e4\ub978 ",(0,s.jsx)(t.code,{children:"queryKey"}),"\ub85c \ucde8\uae09\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"useQuery({ queryKey: ['todos', status, page], ... })\nuseQuery({ queryKey: ['todos', page, status], ...})\nuseQuery({ queryKey: ['todos', undefined, page, status], ...})\n"})}),"\n",(0,s.jsx)(t.h2,{id:"query-function",children:"Query Function"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'useQuery({\n  queryFn: async (context) => {\n    const {\n      queryKey, // unknown[]\n      pageParam, // undefined | unknown\n      signal, // undefined | AbortSignal\n      meta, //undefined | Record<string, unknown>\n    } = context;\n\n    const res =  await fetch(...);\n\n    // throw Error("error"); -> onError\n\n    // return data; -> onSuccess\n  },\n});\n'})})]})}function l(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);