"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[68465],{38867:(e,l,i)=>{i.r(l),i.d(l,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"mlops/network/cilium/cilium","title":"Cilium","description":"Cilium","source":"@site/docs/mlops/network/cilium/cilium.mdx","sourceDirName":"mlops/network/cilium","slug":"/mlops/network/cilium/","permalink":"/docs/mlops/network/cilium/","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/network/cilium/cilium.mdx","tags":[],"version":"current","lastUpdatedAt":1737732256000,"frontMatter":{"id":"cilium","title":"Cilium","sidebar_label":"Cilium","description":"Cilium","keywords":["cilium","cni"]},"sidebar":"network","previous":{"title":"CNI","permalink":"/docs/mlops/network/cni"},"next":{"title":"ARP/NDP","permalink":"/docs/mlops/network/cilium/arp"}}');var s=i(74848),c=i(28453);const t={id:"cilium",title:"Cilium",sidebar_label:"Cilium",description:"Cilium",keywords:["cilium","cni"]},o=void 0,r={},a=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"cilium-cli",id:"cilium-cli",level:3},{value:"Helm\uc73c\ub85c Cilium \uc124\uce58\ud558\uae30",id:"helm\uc73c\ub85c-cilium-\uc124\uce58\ud558\uae30",level:3},{value:"\ud14c\uc2a4\ud2b8",id:"\ud14c\uc2a4\ud2b8",level:2},{value:"\uc0ad\uc81c",id:"\uc0ad\uc81c",level:2}];function m(e){const l={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.a,{href:"https://docs.cilium.io/en/stable/network/kubernetes/compatibility/",children:"Kubernetes \ud638\ud658\uc131"})}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"cilium-cli",children:"cilium-cli"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.a,{href:"/docs/lang/etc/command-line-tools/asdf#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8",children:"asdf\ub85c \ub7f0\ud0c0\uc784 \ubc84\uc804 \uad00\ub9ac\ud558\uae30"})}),"\n"]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"asdf plugin add cilium-cli\n"})}),"\n",(0,s.jsx)(l.h3,{id:"helm\uc73c\ub85c-cilium-\uc124\uce58\ud558\uae30",children:"Helm\uc73c\ub85c Cilium \uc124\uce58\ud558\uae30"}),"\n",(0,s.jsx)(l.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsx)(l.li,{children:(0,s.jsx)(l.a,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-helm/",children:"Cilium / Installation using Helm"})}),"\n"]})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"helm repo add cilium https://helm.cilium.io/\n"})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"helm repo update cilium \\\n&& helm search repo cilium/cilium -l | head -n 10\n"})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"helm pull cilium/cilium --version 1.16.4\n"})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"helm show values cilium/cilium --version 1.16.4 > cilium-1.16.4.yaml\n"})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-yaml",metastring:'tilte="cilium-values.yaml"',children:'ipam:\n  # -- Configure IP Address Management mode.\n  # ref: https://docs.cilium.io/en/stable/network/concepts/ipam/\n  mode: "cluster-pool"\n  operator:\n    # -- IPv4 podCIDR list\n    clusterPoolIPv4PodCIDRList: ["10.244.0.0/16"]\n    # -- IPv4 CIDR mask size to delegate to individual nodes for IPAM.\n    clusterPoolIPv4MaskSize: 25\n    # -- IPv6 podCIDR list\n    clusterPoolIPv6PodCIDRList: ["fd00::/104"]\n    # -- IPv6 CIDR mask size to delegate to individual nodes for IPAM.\n    clusterPoolIPv6MaskSize: 120\n\noperator:\n  replicas: 1\n'})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"helm template cilium cilium-1.16.4.tgz \\\n    --version 1.16.4 \\\n    -n kube-system \\\n    -f cilium-values.yaml \\\n    > cilium.yaml\n"})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"helm upgrade cilium cilium-1.16.4.tgz \\\n    --install \\\n    --history-max 5 \\\n    --version 1.16.4 \\\n    -n kube-system \\\n    -f cilium-values.yaml\n"})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"cilium status --wait\n"})}),"\n",(0,s.jsx)(l.h2,{id:"\ud14c\uc2a4\ud2b8",children:"\ud14c\uc2a4\ud2b8"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"cilium connectivity test\n"})}),"\n",(0,s.jsx)(l.h2,{id:"\uc0ad\uc81c",children:"\uc0ad\uc81c"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"helm uninstall cilium -n kube-system\n"})}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-shell",children:"kubectl get crd -oname | grep --color=never 'cilium.io' | xargs kubectl delete\n"})})]})}function d(e={}){const{wrapper:l}={...(0,c.R)(),...e.components};return l?(0,s.jsx)(l,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},28453:(e,l,i)=>{i.d(l,{R:()=>t,x:()=>o});var n=i(96540);const s={},c=n.createContext(s);function t(e){const l=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}function o(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),n.createElement(c.Provider,{value:l},e.children)}}}]);