"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[10744],{28453:(s,e,a)=>{a.d(e,{R:()=>t,x:()=>r});var n=a(96540);const l={},i=n.createContext(l);function t(s){const e=n.useContext(i);return n.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(l):s.components||l:t(s.components),n.createElement(i.Provider,{value:e},s.children)}},89087:(s,e,a)=>{a.r(e),a.d(e,{assets:()=>m,contentTitle:()=>c,default:()=>x,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"mlops/nn/llm/pragmatic-disaggregation","title":"Beyond the Buzz (2506) - A Pragmatic Take on Inference Disaggregation","description":"Beyond the Buzz (2506) - A Pragmatic Take on Inference Disaggregation","source":"@site/docs/mlops/nn/llm/pragmatic-disaggregation.mdx","sourceDirName":"mlops/nn/llm","slug":"/mlops/nn/llm/pragmatic-disaggregation","permalink":"/docs/mlops/nn/llm/pragmatic-disaggregation","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/nn/llm/pragmatic-disaggregation.mdx","tags":[],"version":"current","lastUpdatedAt":1757267663000,"frontMatter":{"id":"pragmatic-disaggregation","title":"Beyond the Buzz (2506) - A Pragmatic Take on Inference Disaggregation","sidebar_label":"Pragmatic Disaggregation (2506)","description":"Beyond the Buzz (2506) - A Pragmatic Take on Inference Disaggregation","keywords":["Neural Network","Large Language Model","Prefill/Decode Disaggregation"]},"sidebar":"nn","previous":{"title":"DeepServe (2501)","permalink":"/docs/mlops/nn/llm/deepserve"},"next":{"title":"Metrics for inference","permalink":"/docs/mlops/nn/llm/metrics"}}');var l=a(74848),i=a(28453),t=a(98180);const r={id:"pragmatic-disaggregation",title:"Beyond the Buzz (2506) - A Pragmatic Take on Inference Disaggregation",sidebar_label:"Pragmatic Disaggregation (2506)",description:"Beyond the Buzz (2506) - A Pragmatic Take on Inference Disaggregation",keywords:["Neural Network","Large Language Model","Prefill/Decode Disaggregation"]},c=void 0,m={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Background",id:"background",level:2},{value:"Design space exploration",id:"design-space-exploration",level:2},{value:"Model partitioning",id:"model-partitioning",level:3},{value:"Scaling and rate matching",id:"scaling-and-rate-matching",level:3},{value:"Disaggregation in practice",id:"disaggregation-in-practice",level:2},{value:"Model sensitivity",id:"model-sensitivity",level:3},{value:"Traffic sensitivity",id:"traffic-sensitivity",level:3},{value:"Dynamic rate matching considerations",id:"dynamic-rate-matching-considerations",level:3},{value:"NVLink sensitivity",id:"nvlink-sensitivity",level:3}];function h(s){const e={a:"a",admonition:"admonition",annotation:"annotation",h2:"h2",h3:"h3",li:"li",math:"math",mfrac:"mfrac",mn:"mn",mo:"mo",mrow:"mrow",mstyle:"mstyle",mtable:"mtable",mtd:"mtd",mtext:"mtext",mtr:"mtr",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...s.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.admonition,{title:"Reference",type:"info",children:(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.arxiv.org/abs/2506.05508",children:"Beyond the Buzz: A Pragmatic Take on Inference Disaggregation"})}),"\n"]})}),"\n",(0,l.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,l.jsx)(e.p,{children:"ISL >> OSL\uc778 \uc0c1\ud669\uc5d0\uc11c 10 B \uc774\uc0c1 \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 Prefill/Decode Disaggregation\uc744 \uc0ac\uc6a9\ud558\uba74 \ud070 \uc131\ub2a5 \ud5a5\uc0c1\uc744 \uae30\ub300\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(e.h2,{id:"background",children:"Background"}),"\n",(0,l.jsx)("figure",{children:(0,l.jsxs)("center",{children:[(0,l.jsx)("img",{src:(0,t.Ay)("img/mlops/nn/llm/pragmatic-disaggregation/co-located-vs-dissaggregation.png")}),(0,l.jsx)("br",{}),(0,l.jsx)("figcaption",{children:(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://www.arxiv.org/html/2506.05508",children:"Figure 2: Visualization of (left) co-located and (right) disaggregated inference\nserving"})})})]})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"co-located serving \uc131\ub2a5\uc744 \ucd5c\ub300\ud654\ud558\uae30 \uc704\ud574 In-flight batching(Continuous batching)\uacfc Piggybacking(Chunked prefill)\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(e.li,{children:"In-flight batching\uacfc disaggregation\uc744 \uc0ac\uc6a9\ud558\uba74 co-located \uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 prefill \uc9c0\uc5f0\uc744 \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"design-space-exploration",children:"Design space exploration"}),"\n",(0,l.jsx)(e.h3,{id:"model-partitioning",children:"Model partitioning"}),"\n",(0,l.jsx)(e.p,{children:"\ubaa8\ub378 \uc131\ub2a5 \uc790\uccb4\ub97c \ucd5c\uc801\ud654\ud558\uae30 \uc704\ud574 \uc544\ub798\uc640 \uac19\uc740 \uc804\ub7b5\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Tensor Parallelism (TP)"}),"\n",(0,l.jsx)(e.li,{children:"Expert Parallelism (EP)"}),"\n",(0,l.jsx)(e.li,{children:"Pipeline Parallelism (PP)"}),"\n",(0,l.jsx)(e.li,{children:"Chunked Pipeline Parallelism (CPP)"}),"\n",(0,l.jsx)(e.li,{children:"Tensor Parallel Attention and EP FFNs (TEP)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\uc8fc\uc5b4\uc9c4 \ubaa8\ub378\uc5d0 \ub300\ud55c \ucd5c\uc801\ud654\ub41c \ud30c\ud2f0\uc154\ub2dd \uc804\ub7b5\uc740 \uc544\ub798\uc640 \uac19\uc740 \uc694\uc18c\uc5d0 \uc601\ud5a5\uc744 \ubc1b\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"model architecture"}),"\n",(0,l.jsx)(e.li,{children:"co-located or dissaggregated"}),"\n",(0,l.jsx)(e.li,{children:"traffic \ud2b9\uc131(ISL, OSL, QPS, ...)"}),"\n",(0,l.jsx)(e.li,{children:"target HW(GPU, NPU, ...)"}),"\n",(0,l.jsx)(e.li,{children:"latency \uc81c\uc57d \uc870\uac74(TTFT, TPOT, E2EL)"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"scaling-and-rate-matching",children:"Scaling and rate matching"}),"\n",(0,l.jsx)("figure",{children:(0,l.jsxs)("center",{children:[(0,l.jsx)("img",{src:(0,t.Ay)("img/mlops/nn/llm/pragmatic-disaggregation/scaling-and-rate-matching.png")}),(0,l.jsx)("br",{}),(0,l.jsx)("figcaption",{children:(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://www.arxiv.org/html/2506.05508",children:"Figure 3: High-level overview of rate matching for disaggregated serving"})})})]})}),"\n",(0,l.jsx)(e.span,{className:"katex-display",children:(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mtext,{children:"Prefill\xa0Throughput\xa0(requests/s/GPU)"}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mtext,{children:"Batch\xa0size"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mtext,{children:"FTL"}),(0,l.jsx)(e.mo,{children:"\xd7"}),(0,l.jsx)(e.mtext,{children:"Number\xa0of\xa0GPUs"})]})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\text{Prefill Throughput (requests/s/GPU)} = \\dfrac{\\text{Batch size}}{\\text{FTL} \\times \\text{Number of GPUs}}"})]})})}),(0,l.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Prefill\xa0Throughput\xa0(requests/s/GPU)"})}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(e.span,{className:"mrel",children:"="}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"2.1408em",verticalAlign:"-0.7693em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.3714em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"FTL"})}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Number\xa0of\xa0GPUs"})})]})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Batch\xa0size"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.7693em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,l.jsx)(e.span,{className:"katex-display",children:(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mtext,{children:"Decode\xa0Throughput\xa0(tokens/s/GPU)"}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mtext,{children:"Batch\xa0size"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mtext,{children:"TTL"}),(0,l.jsx)(e.mo,{children:"\xd7"}),(0,l.jsx)(e.mtext,{children:"Number\xa0of\xa0GPUs"})]})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\text{Decode Throughput (tokens/s/GPU)} = \\dfrac{\\text{Batch size}}{\\text{TTL} \\times \\text{Number of GPUs}}"})]})})}),(0,l.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Decode\xa0Throughput\xa0(tokens/s/GPU)"})}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(e.span,{className:"mrel",children:"="}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"2.1408em",verticalAlign:"-0.7693em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.3714em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"TTL"})}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Number\xa0of\xa0GPUs"})})]})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Batch\xa0size"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.7693em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,l.jsx)(e.span,{className:"katex-display",children:(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mtable,{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em",children:[(0,l.jsxs)(e.mtr,{children:[(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,l.jsx)(e.mtext,{children:"Decode\xa0Request\xa0Throughput\xa0(requests/s/GPU)"})})}),(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mrow,{}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mtext,{children:"Batch\xa0size"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mtext,{children:"(OSL\xa0-\xa01)"}),(0,l.jsx)(e.mo,{children:"\xd7"}),(0,l.jsx)(e.mtext,{children:"TTL"}),(0,l.jsx)(e.mo,{children:"\xd7"}),(0,l.jsx)(e.mtext,{children:"Number\xa0of\xa0GPUs"})]})]})]})})})]}),(0,l.jsxs)(e.mtr,{children:[(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,l.jsx)(e.mrow,{})})}),(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mrow,{}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mtext,{children:"Decode\xa0Throughput"}),(0,l.jsx)(e.mtext,{children:"OSL\xa0-\xa01"})]})]})})})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\begin{split}\n\\text{Decode Request Throughput (requests/s/GPU)} &= \\dfrac{\\text{Batch size}}{\\text{(OSL - 1)} \\times \\text{TTL} \\times \\text{Number of GPUs}}\\\\\n&= \\dfrac{\\text{Decode Throughput}}{\\text{OSL - 1}}\n\\end{split}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"4.9649em",verticalAlign:"-2.2324em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsxs)(e.span,{className:"mtable",children:[(0,l.jsx)(e.span,{className:"col-align-r",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"2.7324em"},children:[(0,l.jsxs)(e.span,{style:{top:"-4.7324em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3.3714em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Decode\xa0Request\xa0Throughput\xa0(requests/s/GPU)"})})})]}),(0,l.jsxs)(e.span,{style:{top:"-2.125em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3.3714em"}}),(0,l.jsx)(e.span,{className:"mord"})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"2.2324em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"col-align-l",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"2.7324em"},children:[(0,l.jsxs)(e.span,{style:{top:"-4.7324em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3.3714em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(e.span,{className:"mrel",children:"="}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.3714em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"(OSL\xa0-\xa01)"})}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"TTL"})}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Number\xa0of\xa0GPUs"})})]})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Batch\xa0size"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.936em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]}),(0,l.jsxs)(e.span,{style:{top:"-2.125em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3.3714em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(e.span,{className:"mrel",children:"="}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.3714em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"OSL\xa0-\xa01"})})})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Decode\xa0Throughput"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.686em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"2.2324em"},children:(0,l.jsx)(e.span,{})})})]})})]})})]})})]})}),"\n",(0,l.jsx)(e.p,{children:"\uc801\uc808\ud55c prefill/decode \ube44\uc728\uc744 \uacb0\uc815\ud558\uace0 \ub450 \ub2e8\uacc4 \uc0ac\uc774\uc758 \ucd9c\ub825\uc744 \ub9de\ucd94\uae30 \uc704\ud574 rate matching \uc804\ub7b5\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"FTL SLA\ub97c \ub9cc\uc871\ud558\uae30 \uc704\ud55c prefill \uc124\uc815\ub4e4\uc744 \ucc3e\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(e.li,{children:"TTL SLA\ub97c \ub9cc\uc871\ud558\uae30 \uc704\ud55c decode \uc124\uc815\ub4e4\uc744 \ucc3e\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(e.li,{children:["(prefill \uc218 * prefill \ub2f9 \uc694\uccad \ucc98\ub9ac \uc18d\ub3c4) ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsx)(e.mo,{children:"\u2a85"})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\lessapprox"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1.0117em",verticalAlign:"-0.2558em"}}),(0,l.jsx)(e.span,{className:"mrel amsrm",children:"\u2a85"})]})})]})," (decode \uc218 * decode \ub2f9 \uc694\uccad \ucc98\ub9ac \uc18d\ub3c4) \ub97c \ub9cc\uc871\ud558\ub294 prefill/decode \uc218 \uc870\ud569\uc744 \ucc3e\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"disaggregation-in-practice",children:"Disaggregation in practice"}),"\n",(0,l.jsx)(e.admonition,{title:"Reference",type:"info",children:(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/docs/perf_benchmark/genai_perf.html",children:"NVIDIA Triton Inference Server / Perf benchmarking / GenAI Perf"})}),"\n"]})}),"\n",(0,l.jsx)("figure",{children:(0,l.jsxs)("center",{children:[(0,l.jsx)("img",{src:(0,t.Ay)("img/mlops/nn/llm/pragmatic-disaggregation/pp-ftl-diagram.png")}),(0,l.jsx)("br",{}),(0,l.jsx)("figcaption",{children:(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://www.arxiv.org/html/2506.05508",children:"Figure 5: Chunked pipeline parallelism during Prefill is an optimal strategy to maximize throughput while\ncomplying with strict FTL SLA"})})})]})}),"\n",(0,l.jsx)(e.span,{className:"katex-display",children:(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mtext,{children:"Interactivity"}),(0,l.jsx)(e.mo,{stretchy:"false",children:"("}),(0,l.jsx)(e.mtext,{children:"tokens/s/user"}),(0,l.jsx)(e.mo,{stretchy:"false",children:")"}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mn,{children:"1"}),(0,l.jsx)(e.mtext,{children:"TTL"})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\text{Interactivity} (\\text{tokens/s/user}) = \\dfrac{1}{\\text{TTL}}"})]})})}),(0,l.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Interactivity"})}),(0,l.jsx)(e.span,{className:"mopen",children:"("}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"tokens/s/user"})}),(0,l.jsx)(e.span,{className:"mclose",children:")"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(e.span,{className:"mrel",children:"="}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"2.0074em",verticalAlign:"-0.686em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.3214em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"TTL"})})})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord",children:"1"})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.686em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,l.jsx)(e.span,{className:"katex-display",children:(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mtext,{children:"Throughput"}),(0,l.jsx)(e.mo,{stretchy:"false",children:"("}),(0,l.jsx)(e.mtext,{children:"tokens/s/GPU"}),(0,l.jsx)(e.mo,{stretchy:"false",children:")"}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mtext,{children:"Total\xa0output\xa0tokens"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mtext,{children:"Benchmark\xa0duration"}),(0,l.jsx)(e.mo,{children:"\xd7"}),(0,l.jsx)(e.mtext,{children:"Number\xa0of\xa0GPUs"})]})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\text{Throughput} (\\text{tokens/s/GPU}) = \\dfrac{\\text{Total output tokens}}{\\text{Benchmark duration} \\times \\text{Number of GPUs}}"})]})})}),(0,l.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Throughput"})}),(0,l.jsx)(e.span,{className:"mopen",children:"("}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"tokens/s/GPU"})}),(0,l.jsx)(e.span,{className:"mclose",children:")"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(e.span,{className:"mrel",children:"="}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"2.1408em",verticalAlign:"-0.7693em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.3714em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Benchmark\xa0duration"})}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Number\xa0of\xa0GPUs"})})]})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord text",children:(0,l.jsx)(e.span,{className:"mord",children:"Total\xa0output\xa0tokens"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.7693em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\uac19\uc740 \uc218\uc758 GPU\ub97c \uc0ac\uc6a9\ud560 \ub54c, prefill\uc758 PP \ud06c\uae30\ub97c \ud0a4\uc6b0\uba74 throughput (tokens/s/GPU)\uc740 \uc720\uc9c0\ud558\uba74\uc11c FTL\uc744 \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(e.li,{children:"batch size\ub97c \uc904\uc774\uace0 TP \ud06c\uae30\ub97c \ud0a4\uc6b0\uba74 TTL\uc744 \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4. 1 / TTL\ub294 interactivity (tokens/s/user)\ub85c \uc0dd\uac01\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"throughput (tokens/s/GPU)"})," \uacfc ",(0,l.jsx)(e.strong,{children:"interactivity (tokens/s/user)"})," \uc0ac\uc774\uc5d0\ub294 trade-off\uac00 \uc874\uc7ac\ud558\uba70, \uc774\ub97c Pareto frontier\ub85c \ud45c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsx)(e.h3,{id:"model-sensitivity",children:"Model sensitivity"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Model architecture sensitivity"}),"\n",(0,l.jsxs)(e.li,{children:["Model size sensitivity","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\ud070 \ubaa8\ub378\uc77c\uc218\ub85d dissaggregation\uc5d0 \uc758\ud55c \uc131\ub2a5 \ud5a5\uc0c1 \ud6a8\uacfc\uac00 \ud07d\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"traffic-sensitivity",children:"Traffic sensitivity"}),"\n",(0,l.jsx)("figure",{children:(0,l.jsxs)("center",{children:[(0,l.jsx)("img",{src:(0,t.Ay)("img/mlops/nn/llm/pragmatic-disaggregation/traffic-sensitivity.png")}),(0,l.jsx)("br",{}),(0,l.jsx)("figcaption",{children:(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://www.arxiv.org/html/2506.05508",children:"Figure 8: Disaggregation helps most under prefill-heavy traffic"})})})]})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"prefill-heavy traffic(ISL >> OSL)\uc778 \uacbd\uc6b0 dissaggregation\uc5d0 \uc758\ud55c \uc131\ub2a5 \ud5a5\uc0c1 \ud6a8\uacfc\uac00 \ud07d\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(e.li,{children:["\ud604\uc2e4 \uc138\uacc4\uc5d0\uc11c\uc758 \ud2b8\ub798\ud53d \ud1b5\uacc4\ub294 \uc544\ub798\uc640 \uac19\uc558\uc2b5\ub2c8\ub2e4.","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"ISL: \ud3c9\uade0 4500, \ud45c\uc900\ud3b8\ucc28 3500"}),"\n",(0,l.jsx)(e.li,{children:"OSL: \ud3c9\uade0 750, \ud45c\uc900\ud3b8\ucc28 750"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"dynamic-rate-matching-considerations",children:"Dynamic rate matching considerations"}),"\n",(0,l.jsx)("figure",{children:(0,l.jsxs)("center",{children:[(0,l.jsx)("img",{src:(0,t.Ay)("img/mlops/nn/llm/pragmatic-disaggregation/optimal-ratio-of-prefill-to-decode.png")}),(0,l.jsx)("br",{}),(0,l.jsx)("figcaption",{children:(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"https://www.arxiv.org/html/2506.05508",children:"Figure 9: The optimal ratio of ctx-to-gen GPUs varies across models and target\nlatencies."})})})]})}),"\n",(0,l.jsx)(e.p,{children:"prefill/decode\uac00 \uc791\uc544\uc9c8\uc218\ub85d tokens/s/user\uac00 \uc99d\uac00\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(e.h3,{id:"nvlink-sensitivity",children:"NVLink sensitivity"}),"\n",(0,l.jsx)(e.p,{children:"NVLink\ub85c \ub354 \ub9ce\uc740 GPU\ub97c \uc5f0\uacb0\ud560\uc218\ub85d EP, TP \ud06c\uae30\uc758 \uc120\ud0dd\ud3ed\uc774 \ub113\uc5b4\uc9c0\uba74\uc11c \ub354 \uc88b\uc740 \uc131\ub2a5\uc744 \ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})}function x(s={}){const{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,l.jsx)(e,{...s,children:(0,l.jsx)(h,{...s})}):h(s)}}}]);