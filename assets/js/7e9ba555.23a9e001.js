"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[40698],{28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>p});var n=t(96540);const r={},o=n.createContext(r);function a(e){const s=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function p(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(o.Provider,{value:s},e.children)}},96378:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>p,default:()=>g,frontMatter:()=>a,metadata:()=>n,toc:()=>i});const n=JSON.parse('{"id":"mlops/storage/postgresql/postgresql","title":"PostgreSQL","description":"PostgreSQL","source":"@site/docs/mlops/storage/postgresql/postgresql.mdx","sourceDirName":"mlops/storage/postgresql","slug":"/mlops/storage/postgresql/","permalink":"/docs/mlops/storage/postgresql/","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/storage/postgresql/postgresql.mdx","tags":[],"version":"current","lastUpdatedAt":1762182777000,"frontMatter":{"id":"postgresql","title":"PostgreSQL","sidebar_label":"PostgreSQL","description":"PostgreSQL","keywords":["postgresql"]},"sidebar":"storage","previous":{"title":"MinIO","permalink":"/docs/mlops/storage/minio/"},"next":{"title":"PgBouncer","permalink":"/docs/mlops/storage/postgresql/pgbouncer"}}');var r=t(74848),o=t(28453);const a={id:"postgresql",title:"PostgreSQL",sidebar_label:"PostgreSQL",description:"PostgreSQL",keywords:["postgresql"]},p=void 0,l={},i=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"Test",id:"test",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,r.jsx)(s.admonition,{title:"References",type:"info",children:(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://hub.docker.com/_/postgres",children:"postgres DockerHub"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://www.postgresql.org/about/featurematrix/",children:"PostgreSQL / Feature Matrix"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/docs/lang/db/sql/postgresql/config",children:"PostgreSQL \uc124\uc815 \ubcc0\uacbd"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/docs/mlops/kubernetes/storage/persistent-volume",children:"PersistentVolume"})}),"\n"]})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:'---\napiVersion: v1\nkind: Service\nmetadata:\n  name: postgres-hl\n  namespace: postgres\n  labels:\n    app: postgres\n    app.kubernetes.io/name: postgres\n    app.kubernetes.io/version: "17.6"\nspec:\n  type: ClusterIP\n  clusterIP: None\n  selector:\n    app: postgres\n    app.kubernetes.io/name: postgres\n  ports:\n    - name: postgres\n      port: 5432\n      targetPort: postgres\n\n---\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: postgres\n  namespace: postgres\n  labels:\n    app: postgres\n    app.kubernetes.io/name: postgres\n    app.kubernetes.io/version: "17.6"\nspec:\n  replicas: 1\n  serviceName: postgres-hl\n  selector:\n    matchLabels:\n      app: postgres\n      app.kubernetes.io/name: postgres\n  template:\n    metadata:\n      labels:\n        app: postgres\n        app.kubernetes.io/name: postgres\n        app.kubernetes.io/version: "17.6"\n    spec:\n      containers:\n        - name: postgres\n          image: docker.io/library/postgres:17.6\n          imagePullPolicy: IfNotPresent\n          ports:\n            - name: postgres\n              containerPort: 5432\n          env:\n            - name: POSTGRES_USER\n              value: postgres\n            - name: POSTGRES_PASSWORD\n              value: postgres\n            - name: PGDATA\n              value: /var/lib/postgresql/17/docker\n          volumeMounts:\n            - name: pgdata\n              mountPath: /var/lib/postgresql\n  volumeClaimTemplates:\n    - metadata:\n        name: pgdata\n        labels:\n          app: postgres\n          app.kubernetes.io/name: postgres\n          app.kubernetes.io/version: "17.6"\n      spec:\n        storageClassName: ceph-block\n        accessModes: ["ReadWriteOnce"]\n        resources:\n          requests:\n            storage: 5Gi\n'})}),"\n",(0,r.jsx)(s.h2,{id:"test",children:"Test"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"kubectl run tmp-psql --rm -it --image docker.io/library/postgres:17.6 \\\n  -- psql -h postgres-0.postgres-hl.postgres.svc.cluster.local -U postgres -W\n"})})]})}function g(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);