"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[71508],{8419:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>u,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>i});const r=JSON.parse('{"id":"lang/python/libraries/ctypes/python-ctypes-convert-bytes-structure","title":"Python Convert bytes to ctypes.Structure","description":"Python Convert bytes to ctypes.Structure","source":"@site/docs/lang/python/libraries/ctypes/python-ctypes-convert-bytes-structure.mdx","sourceDirName":"lang/python/libraries/ctypes","slug":"/lang/python/libraries/ctypes/python-ctypes-convert-bytes-structure","permalink":"/docs/lang/python/libraries/ctypes/python-ctypes-convert-bytes-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/python/libraries/ctypes/python-ctypes-convert-bytes-structure.mdx","tags":[],"version":"current","lastUpdatedAt":1620402911000,"frontMatter":{"id":"python-ctypes-convert-bytes-structure","title":"Python Convert bytes to ctypes.Structure","sidebar_label":"Convert bytes to ctypes.Structure","description":"Python Convert bytes to ctypes.Structure","keywords":["Python","ctypes","Structure","bytes","convert"]},"sidebar":"python","previous":{"title":"contextvar","permalink":"/docs/lang/python/context/contextvar"},"next":{"title":"concurrent.futures","permalink":"/docs/lang/python/libraries/concurrent-futures"}}');var s=n(74848),c=n(28453);const o={id:"python-ctypes-convert-bytes-structure",title:"Python Convert bytes to ctypes.Structure",sidebar_label:"Convert bytes to ctypes.Structure",description:"Python Convert bytes to ctypes.Structure",keywords:["Python","ctypes","Structure","bytes","convert"]},a=void 0,u={},i=[{value:"bytes -&gt; ctyeps.Structure",id:"bytes---ctyepsstructure",level:2},{value:"ctypes.Structure -&gt; bytes",id:"ctypesstructure---bytes",level:2}];function y(t){const e={code:"code",h2:"h2",pre:"pre",...(0,c.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"bytes---ctyepsstructure",children:"bytes -> ctyeps.Structure"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from ctypes import c_int16, c_int32, memmove, pointer, sizeof, Structure\n\n\nclass Data(Structure):\n    # |  a  |  b  |     c     |\n    #  XX XX XX XX XX XX XX XX\n\n    _fields_ = [\n        ("a", c_int16),\n        ("b", c_int16),\n        ("c", c_int32),\n    ]\n\n\n# Little-endian\n# 0x0001 => 0x01 0x00\n# 0x0002 => 0x02 0x00\n# 0x00000003 => 0x03 0x00 0x00 0x00\ndataBytes = bytes([1, 0, 2, 0, 3, 0, 0, 0])\ndataSturct = Data()\n\nmemmove(pointer(dataSturct), dataBytes, sizeof(dataSturct))\n\nassert dataSturct.a == 1\nassert dataSturct.b == 2\nassert dataSturct.c == 3\n'})}),"\n",(0,s.jsx)(e.h2,{id:"ctypesstructure---bytes",children:"ctypes.Structure -> bytes"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from ctypes import c_int16, c_int32, memmove, pointer, sizeof, Structure\n\n\nclass Data(Structure):\n    # |  a  |  b  |     c     |\n    #  XX XX XX XX XX XX XX XX\n\n    _fields_ = [\n        ("a", c_int16),\n        ("b", c_int16),\n        ("c", c_int32),\n    ]\n\n\n# Little-endian\n# 0x0001 => 0x01 0x00\n# 0x0002 => 0x02 0x00\n# 0x00000003 => 0x03 0x00 0x00 0x00\ndataSturct = Data(a=1, b=2, c=3)\n\ndataBytes = bytes(dataSturct)\n\nassert dataBytes[0] == 1\nassert dataBytes[2] == 2\nassert dataBytes[4] == 3\n'})})]})}function p(t={}){const{wrapper:e}={...(0,c.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(y,{...t})}):y(t)}},28453:(t,e,n)=>{n.d(e,{R:()=>o,x:()=>a});var r=n(96540);const s={},c=r.createContext(s);function o(t){const e=r.useContext(c);return r.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:o(t.components),r.createElement(c.Provider,{value:e},t.children)}}}]);