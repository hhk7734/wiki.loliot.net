"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[87955],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var r=i(96540);const c={},s=r.createContext(c);function l(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),r.createElement(s.Provider,{value:n},e.children)}},97730:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"lang/rust/macro","title":"Rust \ub9e4\ud06c\ub85c(Macro) \ud65c\uc6a9\ud558\uae30","description":"Rust \ub9e4\ud06c\ub85c(Macro) \ud65c\uc6a9\ud558\uae30","source":"@site/docs/lang/rust/macro.mdx","sourceDirName":"lang/rust","slug":"/lang/rust/macro","permalink":"/docs/lang/rust/macro","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/rust/macro.mdx","tags":[],"version":"current","lastUpdatedAt":1755960339000,"frontMatter":{"id":"macro","title":"Rust \ub9e4\ud06c\ub85c(Macro) \ud65c\uc6a9\ud558\uae30","sidebar_label":"\ub9e4\ud06c\ub85c","description":"Rust \ub9e4\ud06c\ub85c(Macro) \ud65c\uc6a9\ud558\uae30","keywords":["rust","macro"]},"sidebar":"rust","previous":{"title":"Rust","permalink":"/docs/lang/rust/"},"next":{"title":"clap","permalink":"/docs/lang/rust/libraries/command/clap"}}');var c=i(74848),s=i(28453);const l={id:"macro",title:"Rust \ub9e4\ud06c\ub85c(Macro) \ud65c\uc6a9\ud558\uae30",sidebar_label:"\ub9e4\ud06c\ub85c",description:"Rust \ub9e4\ud06c\ub85c(Macro) \ud65c\uc6a9\ud558\uae30",keywords:["rust","macro"]},t=void 0,d={},a=[{value:"\ub9e4\ud06c\ub85c",id:"\ub9e4\ud06c\ub85c",level:2},{value:"Function-like \ub9e4\ud06c\ub85c",id:"function-like-\ub9e4\ud06c\ub85c",level:2},{value:"Expansion",id:"expansion",level:3},{value:"Matching",id:"matching",level:3},{value:"Metavariables",id:"metavariables",level:3},{value:"Repetition",id:"repetition",level:3}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.admonition,{title:"Reference",type:"info",children:(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://doc.rust-lang.org/book/ch20-05-macros.html",children:"Rust Docs / Advanced Features / Macros"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://lukaswirth.dev/tlborm",children:"The Little Book of Rust Macros"})}),"\n"]})}),"\n",(0,c.jsx)(n.h2,{id:"\ub9e4\ud06c\ub85c",children:"\ub9e4\ud06c\ub85c"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"https://doc.rust-lang.org/reference/attributes.html",children:"attributes"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"# [ $arg ]"}),": e.g. ",(0,c.jsx)(n.code,{children:"#[derive(Clone)]"}),", ",(0,c.jsx)(n.code,{children:"#[no_mangle]"})]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"# ! [ $arg ]"}),": e.g. ",(0,c.jsx)(n.code,{children:"#![allow(dead_code)]"}),", ",(0,c.jsx)(n.code,{children:'#![crate_name="blang"]'})]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["function-like","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$name ! $arg"}),": e.g. ",(0,c.jsx)(n.code,{children:'println!("Hi!")'}),", ",(0,c.jsx)(n.code,{children:"vec![1, 2, 3]"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\uc120\uc5b8\ud560 \uc218 \uc5c6\ub294 \ub9e4\ud06c\ub85c","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"$name ! $arg0 $arg1"}),": ",(0,c.jsx)(n.code,{children:"macro_rules! dummy { () => {}; }"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"function-like-\ub9e4\ud06c\ub85c",children:"Function-like \ub9e4\ud06c\ub85c"}),"\n",(0,c.jsx)(n.h3,{id:"expansion",children:"Expansion"}),"\n",(0,c.jsx)(n.p,{children:"\ub9e4\ud06c\ub85c\ub97c \uc120\uc5b8\ud558\uace0 \uc0ac\uc6a9\ud558\uba74 \uc5b4\ub5bb\uac8c \ud655\uc7a5\ub418\uc5b4 \uc2e4\ud589\ub418\ub294\uc9c0\uc5d0 \ub300\ud55c \uc608\uc2dc\uc785\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"#[macro_export]\nmacro_rules! vec {\n    ( $( $x:expr ), * ) => {\n        {\n            let mut temp_vec = Vec::new();\n            $(\n                temp_vec.push($x);\n            )*\n            temp_vec\n        }\n    }\n}\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let v = vec![1, 2, 3];\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"let v = {\n    let mut temp_vec = Vec::new();\n    temp_vec.push(1);\n    temp_vec.push(2);\n    temp_vec.push(3);\n    temp_vec\n};\n"})}),"\n",(0,c.jsx)(n.h3,{id:"matching",children:"Matching"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"macro_rules! $name {\n    ($matcher) => {$expansion};\n    ($matcher) => {$expansion};\n    // \u2026\n    ($matcher) => {$expansion};\n}\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\uc801\uc5b4\ub3c4 \ud558\ub098 \uc774\uc0c1\uc758 \ub8f0\uc744 \uc120\uc5b8\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.li,{children:["\ub9c8\uc9c0\ub9c9 \ub8f0\uc5d0\ub294 ",(0,c.jsx)(n.code,{children:";"}),"\uc744 \uc0dd\ub7b5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"metavariables",children:"Metavariables"}),"\n",(0,c.jsxs)(n.p,{children:["matcher\ub294 capture\ub97c \ud3ec\ud568\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. capture\ub294 ",(0,c.jsx)(n.code,{children:"$<identifier>:<fragmentSpecifier>"}),"\ub85c \uad6c\uc131\ub429\ub2c8\ub2e4. fragment-specifier\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"block"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"expr"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"ident"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"item"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"lifetime"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"literal"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"meta"})}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"pat"}),": pattern"]}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"pat_param"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"path"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"stmt"})}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"tt"}),": token tree"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ty"}),": type"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"vis"}),": visibility qualifier"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"repetition",children:"Repetition"}),"\n",(0,c.jsxs)(n.p,{children:["\ubc18\ubcf5\uc740 ",(0,c.jsx)(n.code,{children:"$ ( ... ) <separator> <repeatOperator>"}),"\ub85c \ud45c\ud604\ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"<separator>"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\uc120\ud0dd\uc0ac\ud56d\uc785\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.li,{children:["e.g. ",(0,c.jsx)(n.code,{children:","}),", ",(0,c.jsx)(n.code,{children:";"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"<repeatOperator>"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"?"}),": 0 \ub610\ub294 1 \uac1c"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"*"}),": 0 \uac1c \uc774\uc0c1"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"+"}),": 1 \uac1c \uc774\uc0c1"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:"macro_rules! vec {\n    ( $( $x:expr ), * ) => {\n        {\n            let mut temp_vec = Vec::new();\n            $(\n                temp_vec.push($x);\n            )*\n            temp_vec\n        }\n    }\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}}}]);