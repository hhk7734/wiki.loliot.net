"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[34157],{10509:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>o,frontMatter:()=>r,metadata:()=>l,toc:()=>p});const l=JSON.parse('{"id":"mlops/nn/llm/parallelism","title":"Parallelism","description":"Parallelism","source":"@site/docs/mlops/nn/llm/parallelism.mdx","sourceDirName":"mlops/nn/llm","slug":"/mlops/nn/llm/parallelism","permalink":"/docs/mlops/nn/llm/parallelism","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/nn/llm/parallelism.mdx","tags":[],"version":"current","lastUpdatedAt":1755106531000,"frontMatter":{"id":"parallelism","title":"Parallelism","sidebar_label":"Parallelism","description":"Parallelism","keywords":["Neural Network","Large Model","Parallelism"]},"sidebar":"nn","previous":{"title":"GNN","permalink":"/docs/mlops/nn/gnn/"},"next":{"title":"Transformer (1706)","permalink":"/docs/mlops/nn/llm/transformer"}}');var s=a(74848),i=a(28453),t=a(98180);const r={id:"parallelism",title:"Parallelism",sidebar_label:"Parallelism",description:"Parallelism",keywords:["Neural Network","Large Model","Parallelism"]},c=void 0,h={},p=[{value:"Data Parallelism(DP)",id:"data-parallelismdp",level:2},{value:"Pipeline Parallelism(PP)",id:"pipeline-parallelismpp",level:2},{value:"Tensor Parallelism(TP)",id:"tensor-parallelismtp",level:2},{value:"3D Parallelism",id:"3d-parallelism",level:2}];function m(e){const n={a:"a",annotation:"annotation",h2:"h2",math:"math",mermaid:"mermaid",mi:"mi",mrow:"mrow",p:"p",semantics:"semantics",span:"span",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"data-parallelismdp",children:"Data Parallelism(DP)"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n  batch0-0@{ shape: procs, label: Batch0-0 }\n  batch1-0@{ shape: procs, label: Batch1-0 }\n  batch0-1@{ shape: procs, label: Batch0-1 }\n  batch1-1@{ shape: procs, label: Batch1-1 }\n\n  subgraph calc0[forward & backward]\n    gpu0-0[GPU0]\n    gpu1-0[GPU1]\n  end\n\n  batch0-0 --\x3e gpu0-0\n  Weight-0 --\x3e gpu0-0\n\n  batch1-0 --\x3e gpu1-0\n  Weight-0 --\x3e gpu1-0\n\n  Weight-0 --\x3e Weight-1\n  gpu0-0 --\x3e Weight-1\n  gpu1-0 --\x3e Weight-1\n\n  subgraph calc1[forward & backward]\n    gpu0-1[GPU0]\n    gpu1-1[GPU1]\n  end\n\n  batch0-1 --\x3e gpu0-1\n  Weight-1 --\x3e gpu0-1\n\n  batch1-1 --\x3e gpu1-1\n  Weight-1 --\x3e gpu1-1\n\n  Weight-1 --\x3e Weight-2\n  gpu0-1 --\x3e Weight-2\n  gpu1-1 --\x3e Weight-2"}),"\n",(0,s.jsxs)(n.p,{children:["Multi GPU \ud658\uacbd\uc5d0\uc11c \ub370\uc774\ud130\ub97c \ubcd1\ub82c\ud654\ud558\uc5ec \ubaa8\ub378\uc744 \ud559\uc2b5\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4. \ub9e4 \uc2a4\ud15d\ub9c8\ub2e4 ",(0,s.jsxs)(n.span,{className:"katex",children:[(0,s.jsx)(n.span,{className:"katex-mathml",children:(0,s.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(n.semantics,{children:[(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u0394"}),(0,s.jsx)(n.mi,{mathvariant:"bold",children:"w"})]}),(0,s.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\Delta \\mathbf{w}"})]})})}),(0,s.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,s.jsxs)(n.span,{className:"base",children:[(0,s.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,s.jsx)(n.span,{className:"mord",children:"\u0394"}),(0,s.jsx)(n.span,{className:"mord mathbf",style:{marginRight:"0.01597em"},children:"w"})]})})]}),"\ub97c \uc9d1\uacc4\ud558\uc5ec ",(0,s.jsxs)(n.span,{className:"katex",children:[(0,s.jsx)(n.span,{className:"katex-mathml",children:(0,s.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(n.semantics,{children:[(0,s.jsx)(n.mrow,{children:(0,s.jsx)(n.mi,{children:"W"})}),(0,s.jsx)(n.annotation,{encoding:"application/x-tex",children:"W"})]})})}),(0,s.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,s.jsxs)(n.span,{className:"base",children:[(0,s.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,s.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"W"})]})})]}),"\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\ub294 \ube44\uc6a9\uc774 \ucd94\uac00\uc801\uc73c\ub85c \ubc1c\uc0dd\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\ubaa8\ub378\uc774 \ucee4\uc9d0\uc5d0 \ub530\ub77c \ubc1c\uc0dd\ud558\ub294 \uba54\ubaa8\ub9ac \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 ",(0,s.jsx)(n.a,{href:"https://www.microsoft.com/en-us/research/blog/zero-deepspeed-new-system-optimizations-enable-training-models-with-over-100-billion-parameters/",children:"ZeRO"}),"\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h2,{id:"pipeline-parallelismpp",children:"Pipeline Parallelism(PP)"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n  batch-0@{ shape: procs, label: Batch-0 }\n  batch-1@{ shape: procs, label: Batch-1 }\n\n  subgraph calc0[forward & backward]\n    direction LR\n    gpu0-0[GPU0] -- feature --\x3e gpu1-0[GPU1]\n  end\n\n  batch-0 --\x3e gpu0-0\n  Weight-0 --\x3e Weight0-0[weight0-0]\n  Weight-0 --\x3e Weight1-0\n  Weight0-0 --\x3e gpu0-0\n  Weight1-0 --\x3e gpu1-0\n\n\n  Weight0-0 --\x3e Weight0-1\n  gpu0-0 --\x3e Weight0-1\n\n  Weight1-0 --\x3e Weight1-1\n  gpu1-0 --\x3e Weight1-1\n\n  subgraph calc1[forward & backward]\n    direction LR\n    gpu0-1[GPU0] -- feature --\x3e gpu1-1[GPU1]\n  end\n\n  batch-1 --\x3e gpu0-1\n  Weight0-1 --\x3e gpu0-1\n\n  Weight1-1 --\x3e gpu1-1\n\n  Weight0-1 --\x3e Weight0-2\n  gpu0-1 --\x3e Weight0-2\n\n  Weight1-1 --\x3e Weight1-2\n  gpu1-1 --\x3e Weight1-2\n\n  Weight0-2 --\x3e Weight-2\n  Weight1-2 --\x3e Weight-2"}),"\n",(0,s.jsx)(n.p,{children:"Multi GPU \ud658\uacbd\uc5d0\uc11c \ubaa8\ub378\uc744 \ub808\uc774\uc5b4 \ub2e8\uc704\ub85c \ubd84\ud560\ud558\uc5ec \ubcd1\ub82c\ud654\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsxs)("center",{children:[(0,s.jsx)("img",{src:(0,t.Ay)("img/mlops/nn/llm/bubble.png")}),(0,s.jsx)("figcaption",{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://arxiv.org/pdf/1811.06965",children:"Figure 2 - GPipe: Easy Scaling with Micro-Batch Pipeline Parallelism"})})})]}),"\n",(0,s.jsx)(n.p,{children:"\uac01 \ub808\uc774\uc5b4\ub294 \uc774\uc804 \ub808\uc774\uc5b4\uc758 \ucd9c\ub825\uc744 \uc785\ub825\uc73c\ub85c \ubc1b\uc544\uc57c\ud558\ubbc0\ub85c \uc77c\ubd80 GPU\uac00 \uc544\ubb34\uc77c\ub3c4 \ud558\uc9c0 \uc54a\ub294 Bubble\uc774\ub77c\ub294 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"tensor-parallelismtp",children:"Tensor Parallelism(TP)"}),"\n",(0,s.jsx)(n.p,{children:"Multi GPU \ud658\uacbd\uc5d0\uc11c \ub808\uc774\uc5b4 \uc790\uccb4\ub97c \ubd84\ud560\ud558\uc5ec \ubcd1\ub82c\ud654\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"3d-parallelism",children:"3D Parallelism"}),"\n",(0,s.jsxs)("center",{children:[(0,s.jsx)("img",{className:"bg-white",src:(0,t.Ay)("img/mlops/nn/llm/3d-parallelism-1.png")}),(0,s.jsx)("figcaption",{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.microsoft.com/en-us/research/blog/deepspeed-extreme-scale-model-training-for-everyone/",children:"Figure 1 - DeepSpeed: Extreme-scale model training for\neveryone"})})}),(0,s.jsx)("img",{className:"bg-white",src:(0,t.Ay)("img/mlops/nn/llm/3d-parallelism-2.png")}),(0,s.jsx)("figcaption",{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.microsoft.com/en-us/research/blog/deepspeed-extreme-scale-model-training-for-everyone/",children:"Figure 2 - DeepSpeed: Extreme-scale model training for\neveryone"})})})]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>r});var l=a(96540);const s={},i=l.createContext(s);function t(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);