"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[72018],{28453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>c});var t=i(96540);const o={},s=t.createContext(o);function r(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),t.createElement(s.Provider,{value:e},n.children)}},99036:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"mlops/network/multus/ipoib","title":"IPoIB","description":"IPoIB","source":"@site/docs/mlops/network/multus/ipoib.mdx","sourceDirName":"mlops/network/multus","slug":"/mlops/network/multus/ipoib","permalink":"/docs/mlops/network/multus/ipoib","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/network/multus/ipoib.mdx","tags":[],"version":"current","lastUpdatedAt":1746545636000,"frontMatter":{"id":"ipoib","title":"IPoIB","sidebar_label":"IPoIB","description":"IPoIB","keywords":["IPoIB","cni"]},"sidebar":"network","previous":{"title":"NetworkAttachmentDefinition","permalink":"/docs/mlops/network/multus/network-attachment-definition"},"next":{"title":"whereabouts(IPAM)","permalink":"/docs/mlops/network/multus/whereabouts"}}');var o=i(74848),s=i(28453);const r={id:"ipoib",title:"IPoIB",sidebar_label:"IPoIB",description:"IPoIB",keywords:["IPoIB","cni"]},c=void 0,l={},a=[{value:"IPoIB CNI",id:"ipoib-cni",level:2},{value:"CNI \uc124\uc815",id:"cni-\uc124\uc815",level:2}];function p(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"ipoib-cni",children:"IPoIB CNI"}),"\n",(0,o.jsx)(e.admonition,{title:"Reference",type:"info",children:(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://github.com/Mellanox/ipoib-cni",children:"ipoib-cni GitHub"})}),"\n"]})}),"\n",(0,o.jsx)(e.p,{children:"IPoIB\uc758 child link\ub97c \uc0dd\uc131\ud574\uc11c Pod\uc5d0 \uc5f0\uacb0\ud558\ub294 CNI \uc785\ub2c8\ub2e4."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:'---\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: ipoib-cni\n  namespace: kube-system\n  labels:\n    app.kubernetes.io/name: ipoib-cni\n    app: ipoib-cni\nspec:\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: ipoib-cni\n      app: ipoib-cni\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: ipoib-cni\n        app: ipoib-cni\n    spec:\n      hostNetwork: true\n      tolerations:\n        - operator: Exists\n      containers:\n        - name: main\n          image: ghcr.io/mellanox/ipoib-cni:v1.2.1\n          imagePullPolicy: IfNotPresent\n          resources:\n            requests:\n              cpu: "100m"\n              memory: "50Mi"\n            limits:\n              cpu: "100m"\n              memory: "50Mi"\n          securityContext:\n            privileged: true\n          volumeMounts:\n            - name: cnibin\n              mountPath: /host/opt/cni/bin\n      volumes:\n        - name: cnibin\n          hostPath:\n            path: /opt/cni/bin\n'})}),"\n",(0,o.jsx)(e.h2,{id:"cni-\uc124\uc815",children:"CNI \uc124\uc815"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:'apiVersion: "k8s.cni.cncf.io/v1"\nkind: NetworkAttachmentDefinition\nmetadata:\n  name: ipoib-cni\n  namespace: kube-system\nspec:\n  config: |\n    {\n      "name": "ipoib-cni",\n      "type": "ipoib",\n      "master": "ib0",\n      "ipam": {\n        "type": "whereabouts",\n        "range": "172.16.0.0/16"\n      }\n    }\n'})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"name: <name>"}),": NetworkAttachmentDefinition\uc758 name\uacfc \uc77c\uce58\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.code,{children:"type: ipoib"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.code,{children:"master: <interface>"})}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"ipam"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"type: <type>"}),": IP \uad00\ub9ac\uc5d0 \uc0ac\uc6a9\ud560 \ubc14\uc774\ub108\ub9ac\uc785\ub2c8\ub2e4.","\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://www.cni.dev/plugins/current/ipam/",children:"https://www.cni.dev/plugins/current/ipam/"})}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"dhcp"}),"\ub294 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"/docs/mlops/network/multus/whereabouts",children:"whereabouts"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(p,{...n})}):p(n)}}}]);