"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[73791],{16514:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"lang/design/protocol/email/authentication","title":"Email Authentication","description":"Email Authentication","source":"@site/docs/lang/design/protocol/email/authentication.mdx","sourceDirName":"lang/design/protocol/email","slug":"/lang/design/protocol/email/authentication","permalink":"/docs/lang/design/protocol/email/authentication","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/design/protocol/email/authentication.mdx","tags":[],"version":"current","lastUpdatedAt":1732288286000,"frontMatter":{"id":"authentication","title":"Email Authentication","sidebar_label":"Authentication","description":"Email Authentication","keywords":["authentication"]},"sidebar":"design","previous":{"title":"\ud638\ud658\uc131","permalink":"/docs/lang/design/protocol/protobuf/compatibility"},"next":{"title":"Async Request-Response","permalink":"/docs/lang/design/asynchronous-request-response/"}}');var s=i(74848),t=i(28453);const d={id:"authentication",title:"Email Authentication",sidebar_label:"Authentication",description:"Email Authentication",keywords:["authentication"]},c=void 0,r={},o=[{value:"Sender Policy Framework(SPF)",id:"sender-policy-frameworkspf",level:2},{value:"Domain Keys Identified Mail(DKIM)",id:"domain-keys-identified-maildkim",level:2},{value:"Domain-based Message Authentication Reporting and Conformance (DMARC)",id:"domain-based-message-authentication-reporting-and-conformance-dmarc",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"\uc774\uba54\uc77c\uc758 \uc6d0\ubb38\uc744 \ubcf4\uba74 \uc778\uc99d\uc744 \uc704\ud55c \uc815\ubcf4\uac00 \uc788\uc2b5\ub2c8\ub2e4."})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["subdomain\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 \uc544\ub798 \uae00\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"<domain>"})," \ub300\uc2e0 ",(0,s.jsx)(n.code,{children:"<subdomain>.<domain>"}),"\uc744 \uc0ac\uc6a9\ud558\uc138\uc694."]})}),"\n",(0,s.jsx)(n.h2,{id:"sender-policy-frameworkspf",children:"Sender Policy Framework(SPF)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc7208",children:"https://datatracker.ietf.org/doc/html/rfc7208"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"DNS\uc758 TXT \ub808\ucf54\ub4dc\uc5d0 \ud574\ub2f9 \ub3c4\uba54\uc778\uc73c\ub85c \uc774\uba54\uc77c\uc744 \ubcf4\ub0bc \uc218 \uc788\ub294 \uc11c\ubc84\ub97c \uba85\uc2dc\ud558\uace0, \uc774\ub97c \ud65c\uc6a9\ud558\uc5ec \uba54\uc77c\uc744 \uc778\uc99d\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\uc0ac\uc6a9\uc790\ub294 \uba54\uc77c \uc1a1\uc2e0 \uc11c\ubc84\ub85c \uba54\uc77c\uc744 \ubcf4\ub0c5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.li,{children:["\uba54\uc77c \uc1a1\uc2e0 \uc11c\ubc84\ub294 ",(0,s.jsx)(n.code,{children:"Delivered-To"}),"\ub97c \ud655\uc778\ud558\uc5ec \uba54\uc77c \uc218\uc2e0 \uc11c\ubc84\ub85c \uba54\uc77c\uc744 \ubcf4\ub0c5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:["\uba54\uc77c \uc218\uc2e0 \uc11c\ubc84\ub294 ",(0,s.jsx)(n.code,{children:"Return-Path"}),"\uc5d0 \ub4f1\ub85d\ub41c \ub3c4\uba54\uc778\uc758 (v=spf1\uc73c\ub85c \uc2dc\uc791\ud558\ub294) TXT \ub808\ucf54\ub4dc\uc5d0\uc11c \uba54\uc77c \uc1a1\uc2e0 \uc11c\ubc84\uc758 IP\ub97c \ucc3e\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.li,{children:"\ud655\uc778\uc774 \ub418\uba74 \ud574\ub2f9 \uba54\uc77c\uc740 \ub4f1\ub85d\ub41c \ub3c4\uba54\uc778\uc5d0\uc11c \uc778\uc99d\ud55c \uba54\uc77c\ub85c \uac04\uc8fc \ub429\ub2c8\ub2e4."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-txt",children:'<domain> text = "v=spf1 [guest list] <redirect=<domain>|<qualifier>all>"\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<qualifier>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"+"}),": pass"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-"}),": fail"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"~"}),": softfail"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"?"}),": neutral"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"nslookup -type=txt <domain>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"domain-keys-identified-maildkim",children:"Domain Keys Identified Mail(DKIM)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc4871",children:"https://datatracker.ietf.org/doc/html/rfc4871"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"DNS\uc758 TXT \ub808\ucf54\ub4dc\uc5d0 DKIM \ud37c\ube14\ub9ad \ud0a4\ub97c \ub4f1\ub85d\ud558\uace0, \uc774\ub97c \ud65c\uc6a9\ud558\uc5ec \uba54\uc77c\uc744 \uc778\uc99d\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\uc0ac\uc6a9\uc790\ub294 \uba54\uc77c \uc1a1\uc2e0 \uc11c\ubc84\ub85c \uba54\uc77c\uc744 \ubcf4\ub0c5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.li,{children:["\uba54\uc77c \uc1a1\uc2e0 \uc11c\ubc84\ub294 \uc0ac\uc804 \ub4f1\ub85d\ub41c DKIM \ud504\ub77c\uc774\ube57 \ud0a4\ub97c \uc0ac\uc6a9\ud558\uc5ec ",(0,s.jsx)(n.code,{children:"DKIM-Signature"}),"\ub97c \uc0dd\uc131\ud55c \ud6c4 \uba54\uc77c\uc758 \ud5e4\ub354\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:["\uba54\uc77c \uc1a1\uc2e0 \uc11c\ubc84\ub294 ",(0,s.jsx)(n.code,{children:"Delivered-To"}),"\ub97c \ud655\uc778\ud558\uc5ec \uba54\uc77c \uc218\uc2e0 \uc11c\ubc84\ub85c \uba54\uc77c\uc744 \ubcf4\ub0c5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:["\uba54\uc77c \uc218\uc2e0 \uc11c\ubc84\ub294 ",(0,s.jsx)(n.code,{children:"DKIM-Signature"}),"\uc758 ",(0,s.jsx)(n.code,{children:"d=<domain>"}),"\uc744 \ud655\uc778\ud558\uc5ec (v=DKIM1\uc73c\ub85c \uc2dc\uc791\ud558\ub294) TXT \ub808\ucf54\ub4dc\uc5d0\uc11c \ud37c\ube14\ub9ad\ud0a4\ub97c \ucc3e\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.li,{children:"\ud37c\ube14\ub9ad\ud0a4\ub85c \uc11c\uba85\uc744 \ubcf5\ud638\ud654 \ud558\uc5ec \uc704\ubcc0\uc870 \uc5ec\ubd80\ub97c \ud310\ub2e8\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-txt",children:'<domain> text = "v=DKIM1; k=<type>; p=<public key>"\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"<selector>._domainkey"}),"\uc640 \uac19\uc740 \uc11c\ube0c\ub3c4\uba54\uc778\uc744 \uc8fc\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"nslookup -type=txt <domain>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"domain-based-message-authentication-reporting-and-conformance-dmarc",children:"Domain-based Message Authentication Reporting and Conformance (DMARC)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc7489",children:"https://datatracker.ietf.org/doc/html/rfc7489"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"SPF, DKIM\uacfc \ud568\uaed8 \uc0ac\uc6a9\ub418\uba70, \uc55e\uc120 \uc778\uc99d \uc808\ucc28\ub97c \ud1b5\uacfc\ud558\uc9c0 \ubabb\ud55c \uacbd\uc6b0 \ucc98\ub9ac \uc808\ucc28\ub97c DNS TXT \ub808\ucf54\ub4dc\uc5d0 \uc11c\uc220\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\uba54\uc77c \uc218\uc2e0 \uc11c\ubc84\uc5d0\uc11c SPF, DKIM \uc778\uc99d\uc744 \uc218\ud589\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.li,{children:["\uc778\uc99d\uc5d0 \uc2e4\ud328\ud55c \uacbd\uc6b0 ",(0,s.jsx)(n.code,{children:"_dmarc.<domain>"}),"\uc744 \ud655\uc778\ud558\uc5ec (v=DMARC1\uc73c\ub85c \uc2dc\uc791\ud558\ub294) TXT \ub808\ucf54\ub4dc\uc5d0\uc11c \ucc98\ub9ac \uc808\ucc28\ub97c \ud655\uc778\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-txt",children:'_dmarc.<domain> text = "v=DMARC1; p=quarantine; adkim=r; aspf=r; rua=mailto:<email>"\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"p"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"none"}),": \uc544\ubb34\ub7f0 \ucc98\ub9ac\ub97c \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"quarantine"}),": \uba54\uc77c\uc744 \ubc1b\uc9c0\ub9cc, \uc2a4\ud338\uc73c\ub85c \ubd84\ub958\ud569\ub2c8\ub2e4"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"reject"}),": \uba54\uc77c\uc744 \ubc1b\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"aspf"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"s"}),": \uc5c4\uaca9\ud55c \uc815\ub82c, \ubc1c\uc2e0\uc790 \uc8fc\uc18c\uc640 \ud5e4\ub354\uc758 \ubcf4\ub0b8\uc0ac\ub78c \uc8fc\uc18c\uc758 \ub3c4\uba54\uc778\uc774 \uc77c\uce58\ud558\ub294 \uacbd\uc6b0\ub9cc \ud1b5\uacfc\ud569\ub2c8\ub2e4"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"r"}),": \uc644\ud654\ub41c \uc815\ub82c, \uc11c\ube0c\ub3c4\uba54\uc778\ub3c4 \ud1b5\uacfc\ud569\ub2c8\ub2e4"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"adkim"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"s"}),": \uc5c4\uaca9\ud55c \uc815\ub82c, \ud5e4\ub354\uc758 \ubcf4\ub0b8\uc0ac\ub78c \uc8fc\uc18c\uc640 DKIM \uc11c\uba85\uc758 \ub3c4\uba54\uc778\uc774 \uc77c\uce58\ud558\ub294 \uacbd\uc6b0\ub9cc \ud1b5\uacfc\ud569\ub2c8\ub2e4"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"r"}),": \uc644\ud654\ub41c \uc815\ub82c, \uc11c\ube0c\ub3c4\uba54\uc778\ub3c4 \ud1b5\uacfc\ud569\ub2c8\ub2e4"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["\ucc98\uc74c\ubd80\ud130 \uc815\ucc45(",(0,s.jsx)(n.code,{children:"p"}),")\uc744 ",(0,s.jsx)(n.code,{children:"reject"}),"\ub85c \uc120\uc5b8\ud558\uc9c0 \uc54a\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4. \uc124\uc815\uc774 \uc798\ubabb \ub418\uc5c8\uc744 \uacbd\uc6b0, \ube44\uc988\ub2c8\uc2a4 \uc774\uba54\uc77c\uc744 \ubc1b\uc9c0 \ubabb\ud558\ub294 \uc0c1\ud669\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"nslookup -type=txt _dmarc.<domain>\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>c});var l=i(96540);const s={},t=l.createContext(s);function d(e){const n=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);