"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[31041],{61875:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>g,frontMatter:()=>t,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"lang/go/libraries/gin/deploy","title":"Deploy","description":"Deploy Gin","source":"@site/docs/lang/go/libraries/gin/deploy.mdx","sourceDirName":"lang/go/libraries/gin","slug":"/lang/go/libraries/gin/deploy","permalink":"/docs/lang/go/libraries/gin/deploy","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/lang/go/libraries/gin/deploy.mdx","tags":[],"version":"current","lastUpdatedAt":1732642049000,"frontMatter":{"id":"deploy","title":"Deploy","sidebar_label":"Deploy","description":"Deploy Gin","keywords":["gin","deploy"]},"sidebar":"go","previous":{"title":"Graceful Shutdown","permalink":"/docs/lang/go/libraries/gin/shutdown"},"next":{"title":"Protobuf","permalink":"/docs/lang/go/libraries/grpc/protobuf"}}');var l=i(74848),s=i(28453);const t={id:"deploy",title:"Deploy",sidebar_label:"Deploy",description:"Deploy Gin",keywords:["gin","deploy"]},r=void 0,c={},a=[{value:"Dockerfile",id:"dockerfile",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"dockerfile",children:"Dockerfile"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",metastring:'title=".dockerignore"',children:".env\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",metastring:'title="Dockerfile"',children:"FROM golang:1.20-alpine AS build\nWORKDIR /app\n\n# Private \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub2a5 \uacbd\uc6b0\n# ARG GITHUB_TOKEN\n# ENV GOPRIVATE=github.com/hhk7734\n# RUN apk add --no-cache git\n# RUN git config --global url.https://$GITHUB_TOKEN@github.com/.insteadOf \\\n#     https://github.com/\n\nCOPY . .\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build \\\n    -a \\\n    -ldflags '-s' \\\n    -tags=go_json,nomsgpack \\\n    -buildvcs=false \\\n    -o app \\\n    ./cmd/server\n\nFROM alpine:3.17 AS runtime\nWORKDIR /app\n\nCOPY --from=build /app/app /usr/bin/\n\nENTRYPOINT [ \"app\" ]\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"scratch \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\uba74 \uc791\uc740 \uc774\ubbf8\uc9c0\ub97c \ub9cc\ub4e4 \uc218 \uc788\uc9c0\ub9cc, \ub514\ubc84\uae45\uc774 \uc5b4\ub824\uc6b8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/gin-gonic/gin/blob/master/docs/doc.md#build-tags",children:"https://github.com/gin-gonic/gin/blob/master/docs/doc.md#build-tags"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["msgpack\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \ub2e4\uba74 ",(0,l.jsx)(n.code,{children:"-tags nomsgpack"})," \uc635\uc158\uc73c\ub85c \ub04c \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"encoding/json"})," \ub300\uc2e0 \uc0ac\uc6a9\ud560 json \ud328\ud0a4\uc9c0\ub97c tag\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["go-json: ",(0,l.jsx)(n.code,{children:"-tags go_json"})]}),"\n",(0,l.jsxs)(n.li,{children:["jsoniter: ",(0,l.jsx)(n.code,{children:"-tags jsoniter"})]}),"\n",(0,l.jsxs)(n.li,{children:["sonic: ",(0,l.jsx)(n.code,{children:"-tags sonic,avx"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var o=i(96540);const l={},s=o.createContext(l);function t(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);